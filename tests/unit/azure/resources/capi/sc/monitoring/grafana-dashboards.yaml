---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-alertmanager-overview-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  alertmanager-overview-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "id": 5,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 6,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Alerts",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "current set of alerts stored in the Alertmanager",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(alertmanager_alerts{job=~\"$job\"}) by (job,instance)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Alerts",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "rate of successful and invalid alerts received by the Alertmanager",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ops"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(alertmanager_alerts_received_total{job=~\"$job\"}[$__rate_interval])) by (job,instance)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Received",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(alertmanager_alerts_invalid_total{job=~\"$job\"}[$__rate_interval])) by (job,instance)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Invalid",
                "refId": "B"
              }
            ],
            "title": "Alerts receive rate",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 7,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Notifications",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "rate of successful and invalid notifications sent by the Alertmanager",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ops"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "repeat": "integration",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(alertmanager_notifications_total{job=~\"$job\", integration=\"$integration\"}[$__rate_interval])) by (integration,job,instance)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Total",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(alertmanager_notifications_failed_total{job=~\"$job\", integration=\"$integration\"}[$__rate_interval])) by (integration,job,instance)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Failed",
                "refId": "B"
              }
            ],
            "title": "$integration: Notifications Send Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "latency of notifications sent by the Alertmanager",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 30
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "repeat": "integration",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99,\n  sum(rate(alertmanager_notification_latency_seconds_bucket{job=~\"$job\", integration=\"$integration\"}[$__rate_interval])) by (le,job,instance)\n) \n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} 99th Percentile",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50,\n  sum(rate(alertmanager_notification_latency_seconds_bucket{job=~\"$job\", integration=\"$integration\"}[$__rate_interval])) by (le,job,instance)\n) \n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Median",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(alertmanager_notification_latency_seconds_sum{job=~\"$job\", integration=\"$integration\"}[$__rate_interval])) by (job,instance)\n/\nsum(rate(alertmanager_notification_latency_seconds_count{job=~\"$job\", integration=\"$integration\"}[$__rate_interval])) by (job,instance)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Average",
                "refId": "C"
              }
            ],
            "title": "$integration: Notification Duration",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 39,
        "tags": [
          "alertmanager-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data Source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": false,
                "text": "kube-prometheus-stack-alertmanager",
                "value": "kube-prometheus-stack-alertmanager"
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "label": "job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(alertmanager_alerts, job)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 2,
              "includeAll": true,
              "multi": false,
              "name": "integration",
              "options": [],
              "query": "label_values(alertmanager_notifications_total{integration=~\".*\"}, integration)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Alertmanager / Overview",
        "uid": "alertmanager-overview",
        "version": 3,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-backup-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  backup-dashboard.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": null,
        "graphTooltip": 0,
        "iteration": 1647000076457,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 20,
            "panels": [],
            "title": "Time since last successful backup",
            "type": "row"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 24
                    },
                    {
                      "color": "red",
                      "value": 48
                    }
                  ]
                },
                "unit": "h"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 1
            },
            "id": 4,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "expr": "min((time()-kube_job_status_completion_time{job_name=~\"harbor-backup-cronjob-.*\", cluster=~\"$cluster\"})/3600)",
                "instant": false,
                "interval": "",
                "legendFormat": "{{job_name}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Time since last successful Harbor backup",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 24
                    },
                    {
                      "color": "red",
                      "value": 48
                    }
                  ]
                },
                "unit": "h"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 1
            },
            "id": 2,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "expr": "(time() - velero_backup_last_successful_timestamp{schedule=\"velero-daily-backup\", cluster=~\"$cluster\"}) / 60 / 60",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{schedule}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Time since last successful Velero backup",
            "type": "stat"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 12
                    },
                    {
                      "color": "red",
                      "value": 24
                    }
                  ]
                },
                "unit": "h"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 8
            },
            "id": 6,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "expr": "min((time()-elasticsearch_snapshot_stats_latest_snapshot_timestamp_seconds{cluster=~\"$cluster\"})/3600)",
                "instant": false,
                "interval": "",
                "legendFormat": "{{job_name}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Time since last successful OpenSearch backup job",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "h"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 8
            },
            "id": 8,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "expr": "(time()-elasticsearch_snapshot_stats_snapshot_start_time_timestamp{state=\"SUCCESS\", cluster=~\"$cluster\"})/3600",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Time since last successful OpenSearch snapshot ",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 15
            },
            "id": 18,
            "panels": [],
            "title": "Backup per hour",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "${datasource}"
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 16
            },
            "id": 22,
            "options": {
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              },
              "legend": {
                "showLegend": true,
                "displayMode": "list",
                "placement": "right",
                "calcs": []
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(increase(velero_backup_success_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "interval": "",
                "legendFormat": "Backup success -  {{cluster}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(increase(velero_backup_failure_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "hide": false,
                "interval": "",
                "legendFormat": "Backup failure -  {{cluster}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(increase(velero_backup_partial_failure_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "hide": false,
                "interval": "",
                "legendFormat": "Backup partial failure -  {{cluster}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(increase(velero_backup_deletion_success_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "hide": false,
                "interval": "",
                "legendFormat": "Backup deletion success -  {{cluster}}",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "sum(increase(velero_backup_deletion_failure_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "hide": false,
                "interval": "",
                "legendFormat": "Backup deletion failure -  {{cluster}}",
                "refId": "E"
              }
            ],
            "title": "Velero backup per hour",
            "type": "timeseries",
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "drawStyle": "line",
                  "lineInterpolation": "stepAfter",
                  "barAlignment": 0,
                  "lineWidth": 1,
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "spanNulls": false,
                  "insertNulls": false,
                  "showPoints": "never",
                  "pointSize": 5,
                  "stacking": {
                    "mode": "none",
                    "group": "A"
                  },
                  "axisPlacement": "auto",
                  "axisLabel": "",
                  "axisColorMode": "text",
                  "axisBorderShow": false,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "axisCenteredZero": false,
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "color": {
                  "mode": "palette-classic"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "value": null,
                      "color": "green"
                    },
                    {
                      "value": 80,
                      "color": "red"
                    }
                  ]
                },
                "unit": "short",
                "decimals": 0
              },
              "overrides": []
            },
            "timeFrom": null,
            "timeShift": null
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 10,
            "panels": [],
            "title": "Backup rclone sync",
            "type": "row"
          },
          {
            "datasource": "${datasource}",
            "description": "",
            "gridPos": {
              "h": 2,
              "w": 24,
              "x": 0,
              "y": 25
            },
            "id": 16,
            "options": {
              "content": "# Off-site backup replication is **disabled**",
              "mode": "markdown"
            },
            "pluginVersion": "8.2.7",
            "type": "text"
          },
          {
            "datasource": "${datasource}",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "color": "dark-yellow",
                        "index": 1,
                        "text": "suspended"
                      },
                      "1": {
                        "index": 0,
                        "text": "active"
                      }
                    },
                    "type": "value"
                  },
                  {
                    "options": {
                      "match": "nan",
                      "result": {
                        "color": "dark-red",
                        "index": 2,
                        "text": "unknown"
                      }
                    },
                    "type": "special"
                  },
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "color": "text",
                        "index": 3,
                        "text": "missing"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 24,
              "x": 0,
              "y": 27
            },
            "id": 12,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum by (bucket) (label_replace(kube_cronjob_spec_suspend{cronjob=~\"rclone-sync-.*\"} == bool 0, \"bucket\", \"$1\", \"cronjob\", \"rclone-sync-(.*)\"))",
                "instant": false,
                "interval": "",
                "legendFormat": "{{bucket}}",
                "refId": "A"
              }
            ],
            "title": "Status of backup rclone sync cronjobs",
            "type": "stat"
          },
          {
            "datasource": "${datasource}",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 1,
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "color": "text",
                        "index": 0,
                        "text": "missing"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "dark-yellow",
                      "value": 86400
                    },
                    {
                      "color": "dark-red",
                      "value": 172800
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 30
            },
            "id": 14,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "min by (bucket) ((time()-label_replace(kube_job_status_completion_time{job_name=~\"rclone-sync-.*\"}, \"bucket\", \"$1\", \"job_name\", \"rclone-sync-(.*?)-(manual|[0-9-])*(manual|[0-9-])*\")))",
                "interval": "",
                "legendFormat": "{{bucket}}",
                "refId": "A"
              }
            ],
            "title": "Time since last successful backup rclone sync jobs",
            "type": "stat"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 32,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "description": null,
              "error": null,
              "hide": 0,
              "includeAll": false,
              "label": null,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": ".*",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": "$datasource",
              "definition": "label_values(kube_job_status_completion_time, cluster)",
              "description": null,
              "error": null,
              "hide": 0,
              "includeAll": true,
              "label": null,
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(kube_job_status_completion_time, cluster)",
                "refId": "prometheus-sc-cluster-Variable-Query"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": null,
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": "${datasource}",
              "definition": "label_values(velero_backup_attempt_total, schedule)",
              "description": null,
              "error": null,
              "hide": 0,
              "includeAll": true,
              "label": null,
              "multi": true,
              "name": "schedule",
              "options": [],
              "query": {
                "query": "label_values(velero_backup_attempt_total, schedule)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-2d",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Backup status",
        "uid": "twztm6Y7k",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-calicofelix-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "ops"
data:
  calicofelix-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Felix dashboard is part of calico documentation website, you will have great insight about you Calico instance by using this dashboard.",
        "editable": true,
        "gnetId": 12175,
        "graphTooltip": 0,
        "iteration": 1626331596394,
        "links": [
          {
            "icon": "external link",
            "includeVars": false,
            "tags": [],
            "targetBlank": true,
            "title": "Calico documentation",
            "tooltip": "Comprehensive tutorial on how to use this dashboard.",
            "type": "link",
            "url": "https://docs.projectcalico.org/master/maintenance/monitor/monitor-component-visual"
          }
        ],
        "panels": [
          {
            "collapsed": false,
            "datasource": "$datasource",
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 6,
            "panels": [],
            "title": "Alerts and general info",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "datasource": "${datasource}",
            "description": "These metrics are part of general information related to your Calico implementation.",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 8,
              "x": 0,
              "y": 1
            },
            "id": 2,
            "links": [],
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "text": {}
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_active_local_endpoints",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Active hosts on each node",
            "transparent": true,
            "type": "gauge"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 8,
              "y": 1
            },
            "id": 25,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "sum(rate(felix_iptables_save_errors[5m]))",
                "interval": "",
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "iptables save errors",
            "transparent": true,
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 11,
              "y": 1
            },
            "id": 23,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "sum(rate(felix_ipset_errors[5m]))",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "ipset errors",
            "transparent": true,
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 14,
              "y": 1
            },
            "id": 18,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "max(felix_cluster_num_hosts)",
                "interval": "",
                "legendFormat": "Calico node",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Active calico nodes",
            "transparent": true,
            "type": "stat"
          },
          {
            "datasource": "$datasource",
            "description": "This graph shows you all the errors that Calico encounters, it is important to note occasional errors are acceptable. However, rise in the number of error or constant error counters means Calico is not working properly.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 7,
              "x": 17,
              "y": 1
            },
            "id": 28,
            "links": [],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "hidden",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "rate(felix_ipset_errors[5m])",
                "interval": "",
                "legendFormat": "{{instance}} ipset errors",
                "refId": "A"
              },
              {
                "exemplar": false,
                "expr": "rate(felix_iptables_restore_errors[5m])",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} iptables restore errors",
                "refId": "B"
              },
              {
                "exemplar": false,
                "expr": "rate(felix_iptables_save_errors[5m])",
                "interval": "",
                "legendFormat": "{{instance}} iptables save errors",
                "refId": "C"
              },
              {
                "expr": "rate(felix_log_errors[5m])",
                "interval": "",
                "legendFormat": "{{instance}} log errors",
                "refId": "D"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Errors plot",
            "transparent": true,
            "type": "timeseries"
          },
          {
            "datasource": "$datasource",
            "description": "More policies on Felix means more effort required by Calico to manage packets. ",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 8,
              "x": 0,
              "y": 5
            },
            "id": 20,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "text": {}
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_cluster_num_policies",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Felix cluster policies",
            "transparent": true,
            "type": "gauge"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 8,
              "y": 5
            },
            "id": 29,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "sum(rate(felix_iptables_restore_errors[5m]))",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "iptables restore errors",
            "transparent": true,
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 11,
              "y": 5
            },
            "id": 26,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "sum(rate(felix_log_errors[5m]))",
                "interval": "",
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Felix log errors",
            "transparent": true,
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 14,
              "y": 5
            },
            "id": 24,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "sum(rate(felix_resyncs_started[5m])) ",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Felix resync started",
            "transparent": true,
            "type": "stat"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 7,
              "x": 17,
              "y": 5
            },
            "id": 31,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "hidden",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_logs_dropped",
                "interval": "",
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Felix dropped logs",
            "transparent": true,
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": "$datasource",
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 9
            },
            "id": 14,
            "panels": [],
            "title": "Dataplane",
            "type": "row"
          },
          {
            "datasource": "$datasource",
            "description": "Dataplane apply time can indicate how busy your Kubernetes instance is. This can slow down Calico performance",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 10
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_int_dataplane_apply_time_seconds{quantile=\"0.5\"}",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Dataplane apply time quantile 0.5",
            "transparent": true,
            "type": "timeseries"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 10
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_int_dataplane_apply_time_seconds{quantile=\"0.9\"}",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Dataplane apply time quantile 0.9",
            "transparent": true,
            "type": "timeseries"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 10
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_int_dataplane_apply_time_seconds{quantile=\"0.99\"}",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Dataplane apply time quantile 0.99",
            "transparent": true,
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": null,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 17
            },
            "id": 35,
            "panels": [],
            "title": "Route table",
            "type": "row"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 18
            },
            "id": 33,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "hidden",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_route_table_list_seconds{quantile=\"0.5\"}",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Felix route table list seconds quantile 0.5",
            "transparent": true,
            "type": "timeseries"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 18
            },
            "id": 36,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "hidden",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_route_table_list_seconds{quantile=\"0.9\"}",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Felix route table list seconds quantile 0.9",
            "transparent": true,
            "type": "timeseries"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 18
            },
            "id": 37,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "hidden",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": false,
                "expr": "felix_route_table_list_seconds{quantile=\"0.99\"}",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Felix route table list seconds quantile 0.99",
            "transparent": true,
            "type": "timeseries"
          }
        ],
        "refresh": false,
        "schemaVersion": 30,
        "style": "dark",
        "tags": [
          "calico",
          "felix",
          "kubernetes",
          "k8s",
          "calico-node",
          "cloud",
          "cluster monitoring",
          "policy monitoring"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "prometheus-sc",
                "value": "prometheus-sc"
              },
              "description": null,
              "error": null,
              "hide": 0,
              "includeAll": false,
              "label": null,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            }
          ]
        },
        "time": {
          "from": "now-15m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Felix Dashboard (Calico)",
        "version": 2
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-capacity-management-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  capacity-management-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 40,
            "title": "Summary",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 0,
              "y": 1
            },
            "id": 51,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "count(sum by (instance)(rate(node_cpu_seconds_total{mode!='idle',cluster=~'$cluster'}[1h])) / on (instance) instance:node_num_cpu:sum * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\") > 0.95)",
                "hide": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Nodes with average CPU usage over 1h above threshold",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 6,
              "y": 1
            },
            "id": 82,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "count(sum by (instance)(rate(node_cpu_seconds_total{mode!='idle',cluster=~'$cluster'}[24h])) / on (instance) instance:node_num_cpu:sum * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\") > 0.75)",
                "hide": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Nodes with average CPU usage over 24h above threshold",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 12,
              "y": 1
            },
            "id": 113,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "count(avg_over_time(instance:node_memory_utilisation:ratio{cluster=~'$cluster'}[1h]) * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\") > 0.85)",
                "hide": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Nodes with average Memory usage over 1h above threshold",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 18,
              "y": 1
            },
            "id": 144,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "count(avg_over_time(instance:node_memory_utilisation:ratio{cluster=~'$cluster'}[24h]) * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\") > 0.75)",
                "hide": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Nodes with average Memory usage over 24h above threshold",
            "transformations": [],
            "type": "stat"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 5
            },
            "id": 8,
            "panels": [],
            "repeat": "NodeGroup",
            "repeatDirection": "h",
            "title": "CPU Usage - $NodeGroup",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 95
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 6
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum by (instance)(rate(node_cpu_seconds_total{mode!='idle',cluster='$cluster'}[1h])) / on (instance) instance:node_num_cpu:sum * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\")",
                "legendFormat": "{{instance}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Average CPU usage per Node over 1 hour",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 95
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 6
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg((sum by (instance)(rate(node_cpu_seconds_total{mode!='idle',cluster='$cluster'}[1h])) / on (instance) instance:node_num_cpu:sum) * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\"))",
                "legendFormat": "$NodeGroup",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Average CPU usage per Node Group over 1 hour",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 95
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 14
            },
            "id": 17,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "(sum by (instance)(rate(node_cpu_seconds_total{mode!='idle',cluster='$cluster'}[$__rate_interval])) / on (instance) instance:node_num_cpu:sum) * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\")",
                "legendFormat": "{{instance}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "CPU usage per Node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 75
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 14
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg((sum by (instance)(rate(node_cpu_seconds_total{mode!='idle',cluster='$cluster'}[24h])) / on (instance) instance:node_num_cpu:sum) * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\"))",
                "legendFormat": "$NodeGroup",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Average CPU usage per Node Group over 24 hours",
            "type": "timeseries"
          },
          {
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 73
            },
            "id": 6,
            "panels": [],
            "repeat": "NodeGroup",
            "repeatDirection": "h",
            "title": "Memory Usage - $NodeGroup",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 85
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 74
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg_over_time(instance:node_memory_utilisation:ratio{cluster=~\"$cluster\"}[1h]) * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\")",
                "legendFormat": "{{instance}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Average Memory usage per Node over 1 hour",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 85
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 74
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg(avg_over_time(instance:node_memory_utilisation:ratio{cluster=~\"$cluster\"}[1h]) * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\"))",
                "hide": false,
                "legendFormat": "$NodeGroup",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Average Memory usage per Node Group over 1 hour",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 85
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 82
            },
            "id": 18,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "instance:node_memory_utilisation:ratio{cluster=~\"$cluster\"} * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\")",
                "legendFormat": "{{instance}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Memory usage per Node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 5,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "dashed"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 75
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 82
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg(avg_over_time(instance:node_memory_utilisation:ratio{cluster=~\"$cluster\"}[24h]) * on (instance) group_left (label_elastisys_io_node_group) label_replace(kube_node_labels{label_elastisys_io_node_group=~\"$NodeGroup\"}, \"instance\", \"$1\", \"node\", \"(.*)\"))",
                "hide": false,
                "legendFormat": "$NodeGroup",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Average Memory usage per Node Group over 24 hours",
            "type": "timeseries"
          }
        ],
        "refresh": "",
        "schemaVersion": 38,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "datasource": "${datasource}",
              "definition": "label_values(node_cpu_seconds_total, cluster)",
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(node_cpu_seconds_total, cluster)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(kube_node_labels{cluster=~\"$cluster\"},label_elastisys_io_node_group)",
              "hide": 0,
              "includeAll": false,
              "multi": true,
              "name": "NodeGroup",
              "options": [],
              "query": {
                "query": "label_values(kube_node_labels{cluster=~\"$cluster\"},label_elastisys_io_node_group)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {},
        "timezone": "",
        "title": "Capacity Management Dashboard",
        "uid": "c8aab7f3-697d-4a23-86b4-d8f7f9067947",
        "version": 5,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-cert-manager-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  cert-manager-dashboard.json: |-
    
      {
         "annotations": {
            "list": [
               {
                  "builtIn": 1,
                  "datasource": "-- Grafana --",
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
               }
            ]
         },
         "description": "",
         "editable": true,
         "gnetId": null,
         "graphTooltip": 1,
         "id": 59,
         "iteration": 1616445892702,
         "links": [ ],
         "panels": [
            {
               "datasource": "$datasource",
               "description": "The number of certificates in the ready state.",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "mappings": [ ],
                     "thresholds": {
                        "mode": "absolute",
                        "steps": [
                           {
                              "color": "green",
                              "value": null
                           },
                           {
                              "color": "red",
                              "value": 1
                           }
                        ]
                     }
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "True"
                        },
                        "properties": [
                           {
                              "id": "thresholds",
                              "value": {
                                 "mode": "absolute",
                                 "steps": [
                                    {
                                       "color": "green",
                                       "value": null
                                    }
                                 ]
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 8,
                  "w": 12,
                  "x": 0,
                  "y": 0
               },
               "id": 2,
               "options": {
                  "colorMode": "value",
                  "graphMode": "area",
                  "justifyMode": "auto",
                  "orientation": "auto",
                  "reduceOptions": {
                     "calcs": [
                        "lastNotNull"
                     ],
                     "fields": "",
                     "values": false
                  },
                  "text": { },
                  "textMode": "auto"
               },
               "pluginVersion": "7.4.5",
               "targets": [
                  {
                     "expr": "sum by (condition) (certmanager_certificate_ready_status)",
                     "interval": "",
                     "legendFormat": "{{condition}}",
                     "refId": "A"
                  }
               ],
               "timeFrom": null,
               "timeShift": null,
               "title": "Certificates Ready",
               "type": "stat"
            },
            {
               "datasource": "$datasource",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "decimals": 1,
                     "mappings": [ ],
                     "thresholds": {
                        "mode": "absolute",
                        "steps": [
                           {
                              "color": "red",
                              "value": null
                           },
                           {
                              "color": "#EAB839",
                              "value": 604800
                           },
                           {
                              "color": "green",
                              "value": 1209600
                           }
                        ]
                     },
                     "unit": "dtdurations"
                  },
                  "overrides": [ ]
               },
               "gridPos": {
                  "h": 8,
                  "w": 12,
                  "x": 12,
                  "y": 0
               },
               "id": 4,
               "options": {
                  "colorMode": "value",
                  "graphMode": "area",
                  "justifyMode": "auto",
                  "orientation": "auto",
                  "reduceOptions": {
                     "calcs": [
                        "lastNotNull"
                     ],
                     "fields": "",
                     "values": false
                  },
                  "text": { },
                  "textMode": "auto"
               },
               "pluginVersion": "7.4.5",
               "targets": [
                  {
                     "expr": "min(certmanager_certificate_expiration_timestamp_seconds > 0) - time()",
                     "hide": false,
                     "instant": true,
                     "interval": "",
                     "legendFormat": "",
                     "refId": "A"
                  },
                  {
                     "expr": "vector(1250000)",
                     "hide": true,
                     "instant": true,
                     "interval": "",
                     "legendFormat": "",
                     "refId": "B"
                  }
               ],
               "timeFrom": null,
               "timeShift": null,
               "title": "Soonest Cert Expiry",
               "type": "stat"
            },
            {
               "datasource": "$datasource",
               "description": "Status of the certificates. Values are True, False or Unknown.",
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "align": null,
                        "filterable": false
                     },
                     "mappings": [
                        {
                           "from": "",
                           "id": 0,
                           "operator": "",
                           "text": "Yes",
                           "to": "",
                           "type": 1,
                           "value": ""
                        }
                     ],
                     "thresholds": {
                        "mode": "absolute",
                        "steps": [
                           {
                              "color": "green",
                              "value": null
                           },
                           {
                              "color": "red",
                              "value": 80
                           }
                        ]
                     },
                     "unit": "none"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Ready Status"
                        },
                        "properties": [
                           {
                              "id": "custom.width",
                              "value": 100
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Valid Until"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "dateTimeAsIso"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Valid Until"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "dateTimeAsIso"
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 8,
                  "w": 12,
                  "x": 0,
                  "y": 8
               },
               "id": 9,
               "options": {
                  "showHeader": true,
                  "sortBy": [
                     {
                        "desc": false,
                        "displayName": "Valid Until"
                     }
                  ]
               },
               "pluginVersion": "7.4.5",
               "targets": [
                  {
                     "expr": "label_join(avg by (name, namespace, condition, exported_namespace) (certmanager_certificate_ready_status == 1), \"namespaced_name\", \"-\", \"namespace\", \"exported_namespace\", \"name\")",
                     "format": "table",
                     "instant": true,
                     "interval": "",
                     "legendFormat": "",
                     "refId": "A"
                  },
                  {
                     "expr": "label_join(avg by (name, namespace, exported_namespace) (certmanager_certificate_expiration_timestamp_seconds) * 1000, \"namespaced_name\", \"-\", \"namespace\", \"exported_namespace\", \"name\")",
                     "format": "table",
                     "instant": true,
                     "interval": "",
                     "legendFormat": "",
                     "refId": "B"
                  }
               ],
               "timeFrom": null,
               "timeShift": null,
               "title": "Certificates",
               "transformations": [
                  {
                     "id": "seriesToColumns",
                     "options": {
                        "byField": "namespaced_name"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Value #A": true,
                           "exported_namespace": false,
                           "exported_namespace 1": false,
                           "exported_namespace 2": true,
                           "name 1": true,
                           "namespace 2": true,
                           "namespaced_name": true
                        },
                        "indexByName": {
                           "Time 1": 8,
                           "Time 2": 10,
                           "Value #A": 6,
                           "Value #B": 5,
                           "condition": 4,
                           "exported_namespace 1": 1,
                           "exported_namespace 2": 11,
                           "name 1": 9,
                           "name 2": 3,
                           "namespace": 0,
                           "namespace 1": 2,
                           "namespaced_name": 7
                        },
                        "renameByName": {
                           "Time 1": "",
                           "Value #B": "Valid Until",
                           "condition": "Ready Status",
                           "exported_namespace": "Certificate Namespace",
                           "exported_namespace 1": "Certificate Namespace",
                           "exported_namespace 2": "",
                           "name": "Certificate",
                           "name 2": "Certificate",
                           "namespace": "Namespace",
                           "namespace 1": "Namespace",
                           "namespaced_name": ""
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "aliasColors": { },
               "bars": false,
               "dashLength": 10,
               "dashes": false,
               "datasource": "$datasource",
               "description": "The rate of controller sync requests.",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "links": [ ]
                  },
                  "overrides": [ ]
               },
               "fill": 1,
               "fillGradient": 0,
               "gridPos": {
                  "h": 8,
                  "w": 12,
                  "x": 12,
                  "y": 8
               },
               "hiddenSeries": false,
               "id": 7,
               "interval": "20s",
               "legend": {
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
               },
               "lines": true,
               "linewidth": 1,
               "maxDataPoints": 250,
               "nullPointMode": "null",
               "options": {
                  "alertThreshold": true
               },
               "percentage": false,
               "pluginVersion": "7.4.5",
               "pointradius": 2,
               "points": false,
               "renderer": "flot",
               "seriesOverrides": [ ],
               "spaceLength": 10,
               "stack": false,
               "steppedLine": false,
               "targets": [
                  {
                     "expr": "sum by (controller) (\n  rate(certmanager_controller_sync_call_count[$__rate_interval])\n)",
                     "interval": "",
                     "legendFormat": "{{controller}}",
                     "refId": "A"
                  }
               ],
               "thresholds": [ ],
               "timeFrom": null,
               "timeRegions": [ ],
               "timeShift": null,
               "title": "Controller Sync Requests/sec",
               "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
               },
               "type": "graph",
               "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": [ ]
               },
               "yaxes": [
                  {
                     "format": "reqps",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": "0",
                     "show": true
                  },
                  {
                     "format": "short",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": null,
                     "show": true
                  }
               ],
               "yaxis": {
                  "align": false,
                  "alignLevel": null
               }
            },
            {
               "aliasColors": { },
               "bars": false,
               "dashLength": 10,
               "dashes": false,
               "datasource": "$datasource",
               "description": "Rate of requests to ACME provider.",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "links": [ ]
                  },
                  "overrides": [ ]
               },
               "fill": 1,
               "fillGradient": 0,
               "gridPos": {
                  "h": 8,
                  "w": 12,
                  "x": 0,
                  "y": 16
               },
               "hiddenSeries": false,
               "id": 6,
               "interval": "20s",
               "legend": {
                  "avg": false,
                  "current": false,
                  "hideEmpty": true,
                  "hideZero": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
               },
               "lines": true,
               "linewidth": 1,
               "maxDataPoints": 250,
               "nullPointMode": "null",
               "options": {
                  "alertThreshold": true
               },
               "percentage": false,
               "pluginVersion": "7.4.5",
               "pointradius": 2,
               "points": false,
               "renderer": "flot",
               "seriesOverrides": [ ],
               "spaceLength": 10,
               "stack": false,
               "steppedLine": false,
               "targets": [
                  {
                     "expr": "sum by (method, path, status) (\n  rate(certmanager_http_acme_client_request_count[$__rate_interval])\n)",
                     "interval": "",
                     "legendFormat": "{{method}} {{path}} {{status}}",
                     "refId": "A"
                  }
               ],
               "thresholds": [ ],
               "timeFrom": null,
               "timeRegions": [ ],
               "timeShift": null,
               "title": "ACME HTTP Requests/sec",
               "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
               },
               "type": "graph",
               "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": [ ]
               },
               "yaxes": [
                  {
                     "format": "reqps",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": "0",
                     "show": true
                  },
                  {
                     "format": "short",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": null,
                     "show": true
                  }
               ],
               "yaxis": {
                  "align": false,
                  "alignLevel": null
               }
            },
            {
               "aliasColors": { },
               "bars": false,
               "dashLength": 10,
               "dashes": false,
               "datasource": "$datasource",
               "description": "Average duration of requests to ACME provider. ",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "links": [ ]
                  },
                  "overrides": [ ]
               },
               "fill": 1,
               "fillGradient": 0,
               "gridPos": {
                  "h": 8,
                  "w": 12,
                  "x": 12,
                  "y": 16
               },
               "hiddenSeries": false,
               "id": 10,
               "interval": "30s",
               "legend": {
                  "avg": false,
                  "current": false,
                  "hideEmpty": true,
                  "hideZero": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
               },
               "lines": true,
               "linewidth": 1,
               "maxDataPoints": 250,
               "nullPointMode": "null",
               "options": {
                  "alertThreshold": true
               },
               "percentage": false,
               "pluginVersion": "7.4.5",
               "pointradius": 2,
               "points": false,
               "renderer": "flot",
               "seriesOverrides": [ ],
               "spaceLength": 10,
               "stack": false,
               "steppedLine": false,
               "targets": [
                  {
                     "expr": "sum by (method, path, status) (rate(certmanager_http_acme_client_request_duration_seconds_sum[$__rate_interval]))\n/\nsum by (method, path, status) (rate(certmanager_http_acme_client_request_duration_seconds_count[$__rate_interval]))",
                     "interval": "",
                     "legendFormat": "{{method}} {{path}} {{status}}",
                     "refId": "A"
                  }
               ],
               "thresholds": [ ],
               "timeFrom": null,
               "timeRegions": [ ],
               "timeShift": null,
               "title": "ACME HTTP Request avg duration",
               "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
               },
               "type": "graph",
               "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": [ ]
               },
               "yaxes": [
                  {
                     "format": "s",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": "0",
                     "show": true
                  },
                  {
                     "format": "short",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": null,
                     "show": true
                  }
               ],
               "yaxis": {
                  "align": false,
                  "alignLevel": null
               }
            },
            {
               "aliasColors": {
                  "max": "dark-yellow"
               },
               "bars": false,
               "dashLength": 10,
               "dashes": false,
               "datasource": "$datasource",
               "description": "CPU Usage and limits, as percent of a vCPU core. ",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "links": [ ]
                  },
                  "overrides": [ ]
               },
               "fill": 0,
               "fillGradient": 0,
               "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 0,
                  "y": 24
               },
               "hiddenSeries": false,
               "id": 12,
               "interval": "1m",
               "legend": {
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
               },
               "lines": true,
               "linewidth": 1,
               "links": [ ],
               "maxDataPoints": 250,
               "nullPointMode": "null",
               "options": {
                  "alertThreshold": true
               },
               "percentage": false,
               "pluginVersion": "7.4.5",
               "pointradius": 2,
               "points": false,
               "renderer": "flot",
               "seriesOverrides": [
                  {
                     "alias": "CPU",
                     "fill": 1,
                     "fillGradient": 5
                  },
                  {
                     "alias": "/Request.*/",
                     "color": "#FF9830",
                     "dashes": true
                  },
                  {
                     "alias": "/Limit.*/",
                     "color": "#F2495C",
                     "dashes": true
                  }
               ],
               "spaceLength": 10,
               "stack": false,
               "steppedLine": false,
               "targets": [
                  {
                     "expr": "avg by (pod) (rate(container_cpu_usage_seconds_total{container=\"cert-manager-controller\"}[$__rate_interval]))",
                     "format": "time_series",
                     "hide": false,
                     "interval": "",
                     "intervalFactor": 2,
                     "legendFormat": "CPU {{pod}}",
                     "refId": "A"
                  },
                  {
                     "expr": "avg by (pod) (kube_pod_container_resource_limits_cpu_cores{container=\"cert-manager-controller\"})",
                     "format": "time_series",
                     "hide": true,
                     "interval": "",
                     "intervalFactor": 1,
                     "legendFormat": "Limit {{pod}}",
                     "refId": "B"
                  },
                  {
                     "expr": "avg by (pod) (kube_pod_container_resource_requests_cpu_cores{container=\"cert-manager-controller\"})",
                     "format": "time_series",
                     "hide": true,
                     "interval": "",
                     "intervalFactor": 1,
                     "legendFormat": "Request {{pod}}",
                     "refId": "C"
                  }
               ],
               "thresholds": [ ],
               "timeFrom": null,
               "timeRegions": [ ],
               "timeShift": null,
               "title": "CPU",
               "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
               },
               "type": "graph",
               "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": [ ]
               },
               "yaxes": [
                  {
                     "format": "percentunit",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": "0",
                     "show": true
                  },
                  {
                     "format": "short",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": null,
                     "show": true
                  }
               ],
               "yaxis": {
                  "align": false,
                  "alignLevel": null
               }
            },
            {
               "aliasColors": {
                  "max": "dark-yellow"
               },
               "bars": false,
               "dashLength": 10,
               "dashes": false,
               "datasource": "$datasource",
               "description": "Percent of the time that the CPU is being throttled. Higher is badderer. ",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "links": [ ]
                  },
                  "overrides": [ ]
               },
               "fill": 0,
               "fillGradient": 0,
               "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 6,
                  "y": 24
               },
               "hiddenSeries": false,
               "id": 14,
               "interval": "1m",
               "legend": {
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
               },
               "lines": true,
               "linewidth": 1,
               "links": [ ],
               "maxDataPoints": 250,
               "nullPointMode": "connected",
               "options": {
                  "alertThreshold": true
               },
               "percentage": false,
               "pluginVersion": "7.4.5",
               "pointradius": 2,
               "points": false,
               "renderer": "flot",
               "seriesOverrides": [
                  {
                     "alias": "/external-dns.*/",
                     "fill": 1,
                     "fillGradient": 5
                  }
               ],
               "spaceLength": 10,
               "stack": false,
               "steppedLine": false,
               "targets": [
                  {
                     "expr": "avg by (pod) (\n  rate(container_cpu_cfs_throttled_periods_total{container=\"cert-manager-controller\"}[$__rate_interval])\n  /\n  rate(container_cpu_cfs_periods_total{container=\"cert-manager-controller\"}[$__rate_interval])\n)",
                     "format": "time_series",
                     "hide": false,
                     "interval": "",
                     "intervalFactor": 2,
                     "legendFormat": "{{pod}}",
                     "refId": "A"
                  }
               ],
               "thresholds": [ ],
               "timeFrom": null,
               "timeRegions": [ ],
               "timeShift": null,
               "title": "CPU Throttling",
               "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
               },
               "type": "graph",
               "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": [ ]
               },
               "yaxes": [
                  {
                     "format": "percentunit",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": "0",
                     "show": true
                  },
                  {
                     "format": "short",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": null,
                     "show": true
                  }
               ],
               "yaxis": {
                  "align": false,
                  "alignLevel": null
               }
            },
            {
               "aliasColors": {
                  "max": "dark-yellow"
               },
               "bars": false,
               "dashLength": 10,
               "dashes": false,
               "datasource": "$datasource",
               "description": "Memory utilisation and limits.",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "links": [ ]
                  },
                  "overrides": [ ]
               },
               "fill": 0,
               "fillGradient": 0,
               "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 12,
                  "y": 24
               },
               "hiddenSeries": false,
               "id": 16,
               "interval": "1m",
               "legend": {
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
               },
               "lines": true,
               "linewidth": 1,
               "links": [ ],
               "maxDataPoints": 250,
               "nullPointMode": "null",
               "options": {
                  "alertThreshold": true
               },
               "percentage": false,
               "pluginVersion": "7.4.5",
               "pointradius": 2,
               "points": false,
               "renderer": "flot",
               "seriesOverrides": [
                  {
                     "alias": "Memory",
                     "fill": 1,
                     "fillGradient": 5
                  },
                  {
                     "alias": "Request",
                     "color": "#FF9830",
                     "dashes": true
                  },
                  {
                     "alias": "Limit",
                     "color": "#F2495C",
                     "dashes": true
                  }
               ],
               "spaceLength": 10,
               "stack": false,
               "steppedLine": false,
               "targets": [
                  {
                     "expr": "avg by (pod) (container_memory_usage_bytes{container=\"cert-manager-controller\"})",
                     "format": "time_series",
                     "hide": false,
                     "interval": "",
                     "intervalFactor": 1,
                     "legendFormat": "Memory {{pod}}",
                     "refId": "A"
                  },
                  {
                     "expr": "avg by (pod) (kube_pod_container_resource_limits_memory_bytes{container=\"cert-manager-controller\"})",
                     "format": "time_series",
                     "interval": "",
                     "intervalFactor": 1,
                     "legendFormat": "Limit {{pod}}",
                     "refId": "B"
                  },
                  {
                     "expr": "avg by (pod) (kube_pod_container_resource_requests_memory_bytes{container=\"cert-manager-controller\"})",
                     "format": "time_series",
                     "interval": "",
                     "intervalFactor": 1,
                     "legendFormat": "Request {{pod}}",
                     "refId": "C"
                  }
               ],
               "thresholds": [ ],
               "timeFrom": null,
               "timeRegions": [ ],
               "timeShift": null,
               "title": "Memory",
               "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
               },
               "type": "graph",
               "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": [ ]
               },
               "yaxes": [
                  {
                     "format": "bytes",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": "0",
                     "show": true
                  },
                  {
                     "format": "short",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": null,
                     "show": true
                  }
               ],
               "yaxis": {
                  "align": false,
                  "alignLevel": null
               }
            },
            {
               "aliasColors": {
                  "max": "dark-yellow"
               },
               "bars": false,
               "dashLength": 10,
               "dashes": false,
               "datasource": "$datasource",
               "description": "Network ingress/egress.",
               "fieldConfig": {
                  "defaults": {
                     "custom": { },
                     "links": [ ]
                  },
                  "overrides": [ ]
               },
               "fill": 1,
               "fillGradient": 5,
               "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 18,
                  "y": 24
               },
               "hiddenSeries": false,
               "id": 18,
               "interval": "1m",
               "legend": {
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
               },
               "lines": true,
               "linewidth": 1,
               "links": [ ],
               "nullPointMode": "null",
               "options": {
                  "alertThreshold": true
               },
               "percentage": false,
               "pluginVersion": "7.4.5",
               "pointradius": 2,
               "points": false,
               "renderer": "flot",
               "seriesOverrides": [
                  {
                     "alias": "transmit",
                     "transform": "negative-Y"
                  }
               ],
               "spaceLength": 10,
               "stack": false,
               "steppedLine": false,
               "targets": [
                  {
                     "expr": "avg(\n  sum without (interface) (\n    rate(container_network_receive_bytes_total{namespace=\"cert-manager\"}[$__rate_interval])\n  )\n)",
                     "format": "time_series",
                     "hide": false,
                     "interval": "",
                     "intervalFactor": 2,
                     "legendFormat": "receive",
                     "refId": "A"
                  },
                  {
                     "expr": "avg(\n  sum without (interface) (\n    rate(container_network_transmit_bytes_total{namespace=\"cert-manager\"}[$__rate_interval])\n  )\n)",
                     "format": "time_series",
                     "hide": false,
                     "interval": "",
                     "intervalFactor": 2,
                     "legendFormat": "transmit",
                     "refId": "B"
                  }
               ],
               "thresholds": [ ],
               "timeFrom": null,
               "timeRegions": [ ],
               "timeShift": null,
               "title": "Network",
               "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
               },
               "type": "graph",
               "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": [ ]
               },
               "yaxes": [
                  {
                     "format": "Bps",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": null,
                     "show": true
                  },
                  {
                     "format": "short",
                     "label": null,
                     "logBase": 1,
                     "max": null,
                     "min": null,
                     "show": true
                  }
               ],
               "yaxis": {
                  "align": false,
                  "alignLevel": null
               }
            }
         ],
         "refresh": "1m",
         "schemaVersion": 27,
         "style": "dark",
         "tags": [
            "cert-manager",
            "infra"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": false,
                     "text": "prometheus",
                     "value": "prometheus"
                  },
                  "description": null,
                  "error": null,
                  "hide": 0,
                  "includeAll": false,
                  "label": "Data Source",
                  "multi": false,
                  "name": "datasource",
                  "options": [ ],
                  "query": "prometheus",
                  "queryValue": "",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "type": "datasource"
               }
            ]
         },
         "time": {
            "from": "now-24h",
            "to": "now"
         },
         "timepicker": {
            "refresh_intervals": [
               "10s",
               "30s",
               "1m",
               "5m",
               "15m",
               "30m",
               "1h",
               "2h",
               "1d"
            ]
         },
         "timezone": "",
         "title": "Cert Manager",
         "uid": "TvuRo2iMk",
         "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-cluster-api-autoscaling-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "ops"
data:
  cluster-api-autoscaling-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 12623,
        "graphTooltip": 1,
        "id": 62,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 14,
            "panels": [],
            "repeat": "cluster",
            "repeatDirection": "h",
            "title": "Cluster $cluster",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "index": 0,
                        "text": "False"
                      }
                    },
                    "type": "value"
                  },
                  {
                    "options": {
                      "from": 1,
                      "result": {
                        "index": 1,
                        "text": "True"
                      },
                      "to": 1000000
                    },
                    "type": "range"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 4,
              "x": 0,
              "y": 1
            },
            "id": 40,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "cluster_autoscaler_node_groups_count{pod=~\".*$cluster.*\", node_group_type=\"autoscaled\"}",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "legendFormat": "{{status}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Autoscaling enabled",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 4,
              "y": 1
            },
            "id": 4,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_nodes_count{pod=~\".*$cluster.*\"})\n",
                "format": "time_series",
                "intervalFactor": 2,
                "range": true,
                "refId": "A",
                "step": 600
              }
            ],
            "title": "Total nodes",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Shows the nodes which are ready as a percent of the total nodes",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 100
                    },
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": 95
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 7,
              "y": 1
            },
            "id": 6,
            "maxDataPoints": 100,
            "options": {
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": false,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_nodes_count{state=\"ready\", pod=~\".*$cluster.*\"})/sum(cluster_autoscaler_nodes_count{pod=~\".*$cluster.*\"})*100",
                "format": "time_series",
                "intervalFactor": 2,
                "range": true,
                "refId": "A",
                "step": 600
              }
            ],
            "title": "Nodes available",
            "type": "gauge"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "text": "No"
                      },
                      "1": {
                        "text": "Yes"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0
                    },
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": 1
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 10,
              "y": 1
            },
            "id": 9,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_cluster_safe_to_autoscale{pod=~\".*$cluster.*\"})",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "",
                "range": true,
                "refId": "A",
                "step": 600
              }
            ],
            "title": "Is cluster safe to scale?",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Tells you if there are unscheduled pods",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 1
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)"
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 13,
              "y": 1
            },
            "id": 12,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "/^ pods$/",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_unschedulable_pods_count{pod=~\".*$cluster.*\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": " pods",
                "range": true,
                "refId": "A",
                "step": 300
              }
            ],
            "title": "Number of unscheduled pods",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 16,
              "y": 1
            },
            "id": 8,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(time()-cluster_autoscaler_last_activity{activity=\"autoscaling\", pod=~\".*$cluster.*\"})",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "",
                "range": true,
                "refId": "A",
                "step": 600
              }
            ],
            "title": "Last autoscale activity",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Is the cluster scaling up, down or ticking along okay?",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "index": 0,
                        "text": "Stable"
                      }
                    },
                    "type": "value"
                  },
                  {
                    "options": {
                      "from": -1000,
                      "result": {
                        "index": 1,
                        "text": "Down"
                      },
                      "to": 1
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 1,
                      "result": {
                        "index": 2,
                        "text": "Up"
                      },
                      "to": 1000
                    },
                    "type": "range"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 5,
              "x": 19,
              "y": 1
            },
            "id": 13,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(increase(cluster_autoscaler_scaled_up_nodes_total{pod=~\".*$cluster.*\"}[30m]))-sum(increase(cluster_autoscaler_scaled_down_nodes_total{pod=~\".*$cluster.*\"}[30m]))",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "range": false,
                "refId": "A",
                "step": 600
              }
            ],
            "title": "Cluster scaling up/down or stable?",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Shows the evicted and unscheduled pods",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "Num Pods",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 5
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_evicted_pods_total{pod=~\".*$cluster.*\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 10,
                "legendFormat": "evicted pods",
                "metric": "",
                "range": true,
                "refId": "A",
                "step": 300
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_unschedulable_pods_count{pod=~\".*$cluster.*\"})",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "unscheduled pods",
                "range": true,
                "refId": "B",
                "step": 60
              }
            ],
            "title": "Pod activity",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Shows the state of the nodes as scaling happens",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "Num Nodes",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "links": [],
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 5
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_nodes_count{state=\"ready\", pod=~\".*$cluster.*\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 10,
                "legendFormat": "ready",
                "metric": "",
                "range": true,
                "refId": "A",
                "step": 300
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_nodes_count{state=\"unready\", pod=~\".*$cluster.*\"})",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "unready",
                "range": true,
                "refId": "B",
                "step": 60
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_nodes_count{state=\"notStarted\", pod=~\".*$cluster.*\"})\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "not started",
                "range": true,
                "refId": "C",
                "step": 60
              }
            ],
            "title": "Node activity",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "Num nodes",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 13
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "increase(cluster_autoscaler_scaled_up_nodes_total{pod=~\".*$cluster.*\"}[5m])",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 10,
                "legendFormat": "scaled up total",
                "metric": "",
                "range": true,
                "refId": "A",
                "step": 200
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_unneeded_nodes_count{pod=~\".*$cluster.*\"})",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "unneeded nodes",
                "range": true,
                "refId": "B",
                "step": 40
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(cluster_autoscaler_nodes_count{pod=~\".*$cluster.*\"})\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "total nodes",
                "range": true,
                "refId": "C",
                "step": 40
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(increase(cluster_autoscaler_scaled_down_nodes_total{pod=~\".*$cluster.*\"}[5m]))",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 10,
                "legendFormat": "scaled down total",
                "metric": "",
                "range": true,
                "refId": "D",
                "step": 200
              }
            ],
            "title": "Autoscaling activity",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "filterable": false,
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "__name__"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 300
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "reason"
                  },
                  "properties": [
                    {
                      "id": "mappings",
                      "value": [
                        {
                          "options": {
                            "0": {
                              "index": 0,
                              "text": "NoReason"
                            },
                            "1": {
                              "index": 1,
                              "text": "ScaleDownDisabledAnnotation"
                            },
                            "2": {
                              "index": 2,
                              "text": "NotAutoscaled"
                            },
                            "3": {
                              "index": 3,
                              "text": "NotUnneededLongEnough"
                            },
                            "4": {
                              "index": 4,
                              "text": "NotUnreadyLongEnough"
                            },
                            "5": {
                              "index": 5,
                              "text": "NodeGroupMinSizeReached"
                            },
                            "6": {
                              "index": 6,
                              "text": "MinimalResourceLimitExceeded"
                            },
                            "7": {
                              "index": 7,
                              "text": "CurrentlyBeingDeleted"
                            },
                            "8": {
                              "index": 8,
                              "text": "NotUnderutilized"
                            },
                            "9": {
                              "index": 9,
                              "text": "NotUnneededOtherReason"
                            },
                            "10": {
                              "index": 10,
                              "text": "RecentlyUnremovable"
                            },
                            "11": {
                              "index": 11,
                              "text": "NoPlaceToMovePods"
                            },
                            "12": {
                              "index": 12,
                              "text": "BlockedByPod"
                            },
                            "13": {
                              "index": 13,
                              "text": "UnexpectedError"
                            }
                          },
                          "type": "value"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 13
            },
            "id": 27,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "enablePagination": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true,
              "sortBy": []
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "cluster_autoscaler_unremovable_nodes_count{pod=~\".*$cluster.*\"}",
                "format": "table",
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Unremovable nodes",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": false,
                    "__name__": true,
                    "cluster": true,
                    "container": true,
                    "endpoint": true,
                    "instance": true,
                    "job": true,
                    "namespace": true,
                    "pod": true,
                    "receive": true,
                    "service": true,
                    "tenant_id": true
                  },
                  "indexByName": {},
                  "renameByName": {}
                }
              }
            ],
            "type": "table"
          }
        ],
        "refresh": false,
        "schemaVersion": 39,
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "prometheus-sc",
                "value": "prometheus-sc"
              },
              "hide": 0,
              "includeAll": false,
              "label": "",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(capi_cluster_info,name)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(capi_cluster_info,name)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Cluster Autoscaler Stats",
        "uid": "qLaYXlDZk",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-cluster-api-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "ops"
data:
  cluster-api-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "id": 106,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 6,
            "panels": [],
            "repeat": "cluster",
            "repeatDirection": "h",
            "title": "Cluster $cluster",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "1": {
                        "color": "green",
                        "index": 0,
                        "text": "Provisioned"
                      },
                      "2": {
                        "color": "yellow",
                        "index": 1,
                        "text": "Provisioning"
                      },
                      "3": {
                        "color": "orange",
                        "index": 2,
                        "text": "Pending"
                      },
                      "4": {
                        "color": "orange",
                        "index": 3,
                        "text": "Unknown"
                      },
                      "5": {
                        "color": "red",
                        "index": 4,
                        "text": "Deleting"
                      },
                      "6": {
                        "color": "red",
                        "index": 5,
                        "text": "Failed"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 5,
              "x": 0,
              "y": 1
            },
            "id": 14,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "max(capi_cluster_status_phase{name=~\"$cluster\", phase=\"Provisioned\"} == 1 or\n(capi_cluster_status_phase{name=~\"$cluster\", phase=\"Provisioning\"} == 1) + 1 or\n(capi_cluster_status_phase{name=~\"$cluster\", phase=\"Pending\"} == 1) + 2 or\n(capi_cluster_status_phase{name=~\"$cluster\", phase=\"Unknown\"} == 1) + 3 or\n(capi_cluster_status_phase{name=~\"$cluster\", phase=\"Deleting\"} == 1) + 4 or\n(capi_cluster_status_phase{name=~\"$cluster\", phase=\"Failed\"} == 1) + 5) without (instance, pod)",
                "legendFormat": "{{status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Cluster phase",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "color": "green",
                        "index": 0,
                        "text": "False"
                      },
                      "1": {
                        "color": "orange",
                        "index": 1,
                        "text": "True"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 5,
              "y": 1
            },
            "id": 15,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "max(capi_cluster_spec_paused{name=~\"$cluster\"}) without (instance, pod)",
                "legendFormat": "{{status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Cluster paused",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "1": {
                        "color": "green",
                        "index": 0,
                        "text": "True"
                      },
                      "2": {
                        "color": "orange",
                        "index": 1,
                        "text": "Unknown"
                      },
                      "3": {
                        "color": "red",
                        "index": 2,
                        "text": "False"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 8,
              "y": 1
            },
            "id": 8,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "max(capi_cluster_status_condition{name=~\"$cluster\", type=\"Ready\", status=\"True\"} == 1 or (capi_cluster_status_condition{name=~\"$cluster\", type=\"Ready\", status=\"Unknown\"} == 1) + 1 or (capi_cluster_status_condition{name=~\"$cluster\", type=\"Ready\", status=\"False\"} == 1) + 2) without (instance, pod)",
                "legendFormat": "{{status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Cluster ready",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "1": {
                        "color": "green",
                        "index": 0,
                        "text": "True"
                      },
                      "2": {
                        "color": "orange",
                        "index": 1,
                        "text": "Unknown"
                      },
                      "3": {
                        "color": "red",
                        "index": 2,
                        "text": "False"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 11,
              "y": 1
            },
            "id": 11,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "max(capi_cluster_status_condition{name=~\"$cluster\", type=\"ControlPlaneInitialized\", status=\"True\"} == 1 or (capi_cluster_status_condition{name=~\"$cluster\", type=\"ControlPlaneInitialized\", status=\"Unknown\"} == 1) + 1 or (capi_cluster_status_condition{name=~\"$cluster\", type=\"ControlPlaneInitialized\", status=\"False\"} == 1) + 2) without (instance, pod)",
                "legendFormat": "{{status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Control plane initialized",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "1": {
                        "color": "green",
                        "index": 0,
                        "text": "True"
                      },
                      "2": {
                        "color": "orange",
                        "index": 1,
                        "text": "Unknown"
                      },
                      "3": {
                        "color": "red",
                        "index": 2,
                        "text": "False"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 14,
              "y": 1
            },
            "id": 12,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "max(capi_cluster_status_condition{name=~\"$cluster\", type=\"ControlPlaneReady\", status=\"True\"} == 1 or (capi_cluster_status_condition{name=~\"$cluster\", type=\"ControlPlaneReady\", status=\"Unknown\"} == 1) + 1 or (capi_cluster_status_condition{name=~\"$cluster\", type=\"ControlPlaneReady\", status=\"False\"} == 1) + 2) without (instance, pod)",
                "legendFormat": "{{status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Control plane ready",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "1": {
                        "color": "green",
                        "index": 0,
                        "text": "True"
                      },
                      "2": {
                        "color": "orange",
                        "index": 1,
                        "text": "Unknown"
                      },
                      "3": {
                        "color": "red",
                        "index": 2,
                        "text": "False"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 17,
              "y": 1
            },
            "id": 13,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "max(capi_cluster_status_condition{name=~\"$cluster\", type=\"InfrastructureReady\", status=\"True\"} == 1 or (capi_cluster_status_condition{name=~\"$cluster\", type=\"InfrastructureReady\", status=\"Unknown\"} == 1) + 1 or (capi_cluster_status_condition{name=~\"$cluster\", type=\"InfrastructureReady\", status=\"False\"} == 1) + 2) without (instance, pod)",
                "legendFormat": "{{status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Infrastructure ready",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 0,
              "y": 5
            },
            "id": 16,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg(capi_kubeadmcontrolplane_status_replicas{name=~\"${cluster}-control-plane\"}) without (instance, pod)",
                "legendFormat": "{{cluster}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Total control plane replicas",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 3,
              "y": 5
            },
            "id": 17,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg(capi_kubeadmcontrolplane_status_replicas_unavailable{name=~\"${cluster}-control-plane\"}) without (instance, pod)",
                "legendFormat": "{{cluster}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Unavailable control plane replicas",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [
                  {
                    "options": {
                      "Failed": {
                        "color": "red",
                        "index": 2
                      },
                      "Running": {
                        "color": "green",
                        "index": 0
                      },
                      "Unknown": {
                        "color": "orange",
                        "index": 1
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "yellow",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "phase"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 150
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "gradient",
                        "type": "color-background"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 9,
              "x": 6,
              "y": 5
            },
            "id": 22,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "frameIndex": 5,
              "showHeader": true
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "capi_machinedeployment_status_phase{cluster_name=~\"$cluster\"} == 1",
                "format": "table",
                "instant": true,
                "legendFormat": "{{node_name}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Machine Deployment phase",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "Value": true,
                    "__name__": true,
                    "cluster": true,
                    "cluster_name": true,
                    "container": true,
                    "customresource_group": true,
                    "customresource_kind": true,
                    "customresource_version": true,
                    "endpoint": true,
                    "instance": true,
                    "job": true,
                    "name": false,
                    "namespace": true,
                    "pod": true,
                    "receive": true,
                    "service": true,
                    "status": false,
                    "tenant_id": true,
                    "uid": true
                  },
                  "indexByName": {
                    "Time": 2,
                    "Value": 18,
                    "__name__": 19,
                    "cluster": 3,
                    "cluster_name": 4,
                    "container": 5,
                    "customresource_group": 6,
                    "customresource_kind": 7,
                    "customresource_version": 8,
                    "endpoint": 9,
                    "instance": 10,
                    "job": 11,
                    "name": 0,
                    "namespace": 12,
                    "phase": 1,
                    "pod": 13,
                    "receive": 14,
                    "service": 15,
                    "tenant_id": 16,
                    "uid": 17
                  },
                  "renameByName": {}
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [
                  {
                    "options": {
                      "Failed": {
                        "color": "red",
                        "index": 2
                      },
                      "Running": {
                        "color": "green",
                        "index": 0
                      },
                      "Unknown": {
                        "color": "orange",
                        "index": 1
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "yellow",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "phase"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 150
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "gradient",
                        "type": "color-background"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 9,
              "x": 15,
              "y": 5
            },
            "id": 71,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "frameIndex": 5,
              "showHeader": true
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "capi_machine_status_phase{cluster_name=~\"$cluster\", phase!=\"Running\"} == 1",
                "format": "table",
                "instant": true,
                "legendFormat": "{{node_name}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Non running machine phase",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "Value": true,
                    "__name__": true,
                    "cluster": true,
                    "cluster_name": true,
                    "container": true,
                    "customresource_group": true,
                    "customresource_kind": true,
                    "customresource_version": true,
                    "endpoint": true,
                    "instance": true,
                    "job": true,
                    "name": false,
                    "namespace": true,
                    "pod": true,
                    "receive": true,
                    "service": true,
                    "status": false,
                    "tenant_id": true,
                    "uid": true
                  },
                  "indexByName": {
                    "Time": 2,
                    "Value": 18,
                    "__name__": 19,
                    "cluster": 3,
                    "cluster_name": 4,
                    "container": 5,
                    "customresource_group": 6,
                    "customresource_kind": 7,
                    "customresource_version": 8,
                    "endpoint": 9,
                    "instance": 10,
                    "job": 11,
                    "name": 0,
                    "namespace": 12,
                    "phase": 1,
                    "pod": 13,
                    "receive": 14,
                    "service": 15,
                    "tenant_id": 16,
                    "uid": 17
                  },
                  "renameByName": {}
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 70
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 0,
              "y": 10
            },
            "id": 108,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "avg(capi_machinedeployment_status_replicas{cluster_name=~\"$cluster\"}) by (name)",
                "format": "table",
                "hide": false,
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "B"
              }
            ],
            "title": "Total control plane replicas",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "cluster": true,
                    "cluster_name": true,
                    "container": true,
                    "customresource_group": true,
                    "customresource_kind": true,
                    "customresource_version": true,
                    "endpoint": true,
                    "job": true
                  },
                  "indexByName": {},
                  "renameByName": {}
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [
                  {
                    "options": {
                      "False": {
                        "color": "red",
                        "index": 2
                      },
                      "True": {
                        "color": "green",
                        "index": 0
                      },
                      "Unknown": {
                        "color": "orange",
                        "index": 1
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "yellow",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "status"
                  },
                  "properties": [
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "gradient",
                        "type": "color-background"
                      }
                    },
                    {
                      "id": "custom.width",
                      "value": 100
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "type"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 300
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 9,
              "x": 6,
              "y": 12
            },
            "id": 38,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "frameIndex": 5,
              "showHeader": true
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "(capi_machine_status_condition{cluster_name=~\"$cluster\", name!~\".*control-plane.*\", status!=\"True\"} == 1) * on (name) group_left(node_name) capi_machine_status_noderef",
                "format": "table",
                "instant": true,
                "legendFormat": "{{node_name}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "MachineDeployment replicas with non True conditions",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "Value": true,
                    "__name__": true,
                    "cluster": true,
                    "cluster_name": true,
                    "container": true,
                    "customresource_group": true,
                    "customresource_kind": true,
                    "customresource_version": true,
                    "endpoint": true,
                    "instance": true,
                    "job": true,
                    "name": true,
                    "namespace": true,
                    "pod": true,
                    "receive": true,
                    "service": true,
                    "status": false,
                    "tenant_id": true,
                    "uid": true
                  },
                  "indexByName": {
                    "Time": 3,
                    "Value": 4,
                    "node_name": 0,
                    "status": 2,
                    "type": 1
                  },
                  "renameByName": {
                    "node_name": "",
                    "type": ""
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [
                  {
                    "options": {
                      "False": {
                        "color": "red",
                        "index": 2
                      },
                      "True": {
                        "color": "green",
                        "index": 0
                      },
                      "Unknown": {
                        "color": "orange",
                        "index": 1
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "yellow",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "status"
                  },
                  "properties": [
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "gradient",
                        "type": "color-background"
                      }
                    },
                    {
                      "id": "custom.width",
                      "value": 100
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "type"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 300
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 9,
              "x": 15,
              "y": 12
            },
            "id": 39,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "frameIndex": 5,
              "showHeader": true
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "(capi_machine_status_condition{name=~\"${cluster}-control-plane.*\", status!=\"True\"} == 1) * on (name) group_left(node_name) capi_machine_status_noderef",
                "format": "table",
                "instant": true,
                "legendFormat": "{{node_name}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Control plane replicas with non True conditions",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "Value": true,
                    "__name__": true,
                    "cluster": true,
                    "cluster_name": true,
                    "container": true,
                    "customresource_group": true,
                    "customresource_kind": true,
                    "customresource_version": true,
                    "endpoint": true,
                    "instance": true,
                    "job": true,
                    "name": true,
                    "namespace": true,
                    "pod": true,
                    "receive": true,
                    "service": true,
                    "status": false,
                    "tenant_id": true,
                    "uid": true
                  },
                  "indexByName": {
                    "Time": 4,
                    "Value": 20,
                    "cluster": 5,
                    "cluster_name": 6,
                    "container": 7,
                    "customresource_group": 8,
                    "customresource_kind": 9,
                    "customresource_version": 10,
                    "endpoint": 11,
                    "instance": 12,
                    "job": 13,
                    "name": 3,
                    "namespace": 14,
                    "node_name": 0,
                    "pod": 15,
                    "receive": 16,
                    "service": 17,
                    "status": 2,
                    "tenant_id": 18,
                    "type": 1,
                    "uid": 19
                  },
                  "renameByName": {}
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "orange",
                      "value": null
                    },
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "#EAB839",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 2
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Unavailable"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 100
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "type": "auto"
                      }
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "gradient",
                        "type": "color-background"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 6,
              "w": 6,
              "x": 0,
              "y": 15
            },
            "id": 54,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "avg(capi_machinedeployment_status_replicas_unavailable{cluster_name=~\"$cluster\"}) without (instance, pod)",
                "format": "table",
                "instant": true,
                "legendFormat": "{{cluster}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Unavailable MachineDeployment replicas",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "cluster": true,
                    "cluster_name": true,
                    "container": true,
                    "customresource_group": true,
                    "customresource_kind": true,
                    "customresource_version": true,
                    "endpoint": true,
                    "job": true,
                    "namespace": true,
                    "receive": true,
                    "service": true,
                    "tenant_id": true,
                    "uid": true
                  },
                  "indexByName": {},
                  "renameByName": {
                    "Value": "Unavailable"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 42
            },
            "id": 128,
            "panels": [],
            "title": "Detailed graphs",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 0,
              "y": 43
            },
            "id": 89,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg(capi_kubeadmcontrolplane_status_replicas_unavailable{name=~\"${cluster}-control-plane\"}) without (instance, pod)",
                "legendFormat": "{{cluster}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Unavailable control plane replicas",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 12,
              "y": 43
            },
            "id": 70,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg((capi_machine_status_condition{cluster_name=~\"$cluster\", type=\"NodeHealthy\", status!=\"True\"} == 1)  * on (name) group_left(node_name) capi_machine_status_noderef) by (cluster_name, node_name, status)",
                "hide": false,
                "legendFormat": "{{cluster_name}}: {{node_name}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Non healthy machines",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 0,
              "y": 54
            },
            "id": 21,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg(capi_machinedeployment_status_replicas{cluster_name=~\"$cluster\"}) without (instance, pod)",
                "hide": false,
                "legendFormat": "{{cluster_name}}: {{name}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Total MachineDeployment replicas",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 12,
              "y": 54
            },
            "id": 23,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "avg(capi_machinedeployment_status_replicas_unavailable{cluster_name=~\"$cluster\"}) without (instance, pod)",
                "hide": false,
                "legendFormat": "{{cluster_name}}: {{name}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Unavailable MachineDeployment replicas",
            "type": "timeseries"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 38,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(capi_cluster_info, name)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(capi_cluster_info, name)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {},
        "timezone": "",
        "title": "Cluster api",
        "uid": "xgfBZCUVk",
        "version": 6,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-clustercompliancereport-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  clustercompliancereport-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "description": "This Dashboard is used to visualise ClusterComplianceReport of the trivy-operator",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 17813,
        "graphTooltip": 0,
        "id": 34,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "PE090269EBE049DA8"
            },
            "gridPos": {
              "h": 3,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 32,
            "options": {
              "code": {
                "language": "plaintext",
                "showLineNumbers": false,
                "showMiniMap": false
              },
              "content": "\n# ClusterComplianceReport: CIS, NSA, PSS\n\n[Info](https://aquasecurity.github.io/trivy-operator/v0.13.0/docs/crds/clustercompliance-report/)",
              "mode": "markdown"
            },
            "pluginVersion": "9.3.8",
            "title": "Description",
            "type": "text"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 3
            },
            "id": 40,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "CIS benchmark status",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "continuous-GrYlRd"
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 1
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unknown"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 24,
                  "x": 0,
                  "y": 4
                },
                "id": 35,
                "options": {
                  "colorMode": "background",
                  "graphMode": "none",
                  "justifyMode": "center",
                  "orientation": "auto",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "textMode": "auto"
                },
                "pluginVersion": "9.2.4",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "trivy_cluster_compliance{description=\"CIS Kubernetes Benchmarks\",status=\"Pass\",title=\"CIS Kubernetes Benchmarks v1.23\"}",
                    "instant": true,
                    "legendFormat": "Pass",
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "trivy_cluster_compliance{description=\"CIS Kubernetes Benchmarks\",status=\"Fail\",title=\"CIS Kubernetes Benchmarks v1.23\"}",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Fail",
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"CIS Kubernetes Benchmarks\",title=\"CIS Kubernetes Benchmarks v1.23\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Total",
                    "range": false,
                    "refId": "C"
                  }
                ],
                "title": "CIS benchmark",
                "type": "stat"
              }
            ],
            "title": "CIS",
            "type": "row"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 4
            },
            "id": 42,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "NSA status",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "continuous-RdYlGr"
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 1
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unknown"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 24,
                  "x": 0,
                  "y": 23
                },
                "id": 36,
                "options": {
                  "colorMode": "background",
                  "graphMode": "none",
                  "justifyMode": "center",
                  "orientation": "auto",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "textMode": "auto"
                },
                "pluginVersion": "9.2.4",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"National Security Agency - Kubernetes Hardening Guidance\",status=\"Pass\",title=\"National Security Agency - Kubernetes Hardening Guidance v1.0\"})",
                    "instant": true,
                    "legendFormat": "Pass",
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"National Security Agency - Kubernetes Hardening Guidance\",status=\"Fail\",title=\"National Security Agency - Kubernetes Hardening Guidance v1.0\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Fail",
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"National Security Agency - Kubernetes Hardening Guidance\",title=\"National Security Agency - Kubernetes Hardening Guidance v1.0\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Total",
                    "range": false,
                    "refId": "C"
                  }
                ],
                "title": "NSA",
                "type": "stat"
              }
            ],
            "title": "NSA",
            "type": "row"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 5
            },
            "id": 44,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "PSS: Restricted status",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "continuous-GrYlRd"
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 1
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unknown"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 24,
                  "x": 0,
                  "y": 4
                },
                "id": 38,
                "options": {
                  "colorMode": "background",
                  "graphMode": "none",
                  "justifyMode": "center",
                  "orientation": "auto",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "textMode": "auto"
                },
                "pluginVersion": "9.2.4",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"Kubernetes Pod Security Standards - Restricted\",status=\"Pass\",title=\"Kubernetes Pod Security Standards - Restricted\"})",
                    "instant": true,
                    "legendFormat": "Pass",
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"Kubernetes Pod Security Standards - Restricted\",status=\"Fail\",title=\"Kubernetes Pod Security Standards - Restricted\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Fail",
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"Kubernetes Pod Security Standards - Restricted\",title=\"Kubernetes Pod Security Standards - Restricted\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Total",
                    "range": false,
                    "refId": "C"
                  }
                ],
                "title": "PSS: Restricted",
                "type": "stat"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "PSS: Baseline status",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "continuous-GrYlRd"
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 1
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unknown"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 24,
                  "x": 0,
                  "y": 13
                },
                "id": 37,
                "options": {
                  "colorMode": "background",
                  "graphMode": "none",
                  "justifyMode": "center",
                  "orientation": "auto",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "textMode": "auto"
                },
                "pluginVersion": "9.2.4",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"Kubernetes Pod Security Standards - Baseline\",status=\"Pass\",title=\"Kubernetes Pod Security Standards - Baseline\"})",
                    "instant": true,
                    "legendFormat": "Pass",
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"Kubernetes Pod Security Standards - Baseline\",status=\"Fail\",title=\"Kubernetes Pod Security Standards - Baseline\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Fail",
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_cluster_compliance{description=\"Kubernetes Pod Security Standards - Baseline\",title=\"Kubernetes Pod Security Standards - Baseline\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Total",
                    "range": false,
                    "refId": "C"
                  }
                ],
                "title": "PSS: Baseline",
                "type": "stat"
              }
            ],
            "title": "PSS",
            "type": "row"
          }
        ],
        "refresh": false,
        "schemaVersion": 37,
        "style": "dark",
        "tags": [
          "trivy-operator",
          "security",
          "security scanning",
          "vulnerabilities",
          "CIS",
          "NSA",
          "PSS",
          "trivy"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "Service Cluster",
                "value": "Service Cluster"
              },
              "hide": 0,
              "includeAll": false,
              "label": "datasource",
              "multi": false,
              "name": "DS_PROMETHEUS",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            }
          ]
        },
        "time": {
          "from": "now-2d",
          "to": "now"
        },
        "timepicker": {},
        "timezone": "",
        "title": "ClusterComplianceReport: CIS, NSA, PSS",
        "uid": "qo5ORKYVz",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-daily-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "ops"
data:
  daily-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": null,
        "graphTooltip": 0,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 17,
            "panels": [],
            "title": "OpenSearch snapshots",
            "type": "row"
          },
          {
            "description": "The age of the oldest snapshot currently available. This can help you determine if the retention policy is working. Is the age always increasing or does it regularly decrease when the oldest snapshot is removed?",
            "fieldConfig": {
              "defaults": {
                "decimals": 0,
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "blue",
                      "value": null
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 7,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "expr": "time() - elasticsearch_snapshot_stats_oldest_snapshot_timestamp",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "OpenSearch oldest snapshot age",
            "type": "stat"
          },
          {
            "description": "Shows the number of snapshots stored. This is for keeping track of retention. If the count just keeps increasing, something is wrong with the SLM retention.",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "blue",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "id": 4,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "expr": "elasticsearch_snapshot_stats_number_of_snapshots",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "OpenSearch number of snapshots",
            "type": "stat"
          },
          {
            "collapsed": false,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 9
            },
            "id": 15,
            "panels": [],
            "title": "S3 buckets",
            "type": "row"
          },
          {
            "description": "This shows the time since an object was last modified for each bucket. If the backups are working objects should be added at least every 24 hours.",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "blue",
                      "value": null
                    }
                  ]
                },
                "unit": "dtdurations"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 10
            },
            "id": 13,
            "interval": "60m",
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.2.7",
            "targets": [
              {
                "expr": "max by (bucket) (time() - max_over_time(s3_last_modified_object_date[1h]))",
                "interval": "",
                "legendFormat": "{{bucket}}",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Time since last modified object",
            "type": "stat"
          },
          {
            "description": "Show the total size of the *selected* buckets. This is for keeping track of the usage and avoid hitting quota limits.",
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "drawStyle": "points",
                  "lineInterpolation": "linear",
                  "barAlignment": 0,
                  "lineWidth": 1,
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "spanNulls": false,
                  "insertNulls": false,
                  "showPoints": "always",
                  "pointSize": 6,
                  "stacking": {
                    "mode": "none",
                    "group": "A"
                  },
                  "axisPlacement": "auto",
                  "axisLabel": "",
                  "axisColorMode": "text",
                  "axisBorderShow": false,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "axisCenteredZero": false,
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "color": {
                  "mode": "palette-classic"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "value": null,
                      "color": "green"
                    },
                    {
                      "value": 80,
                      "color": "red"
                    }
                  ]
                },
                "links": [],
                "unit": "decbytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 18
            },
            "id": 11,
            "interval": "60m",
            "options": {
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              },
              "legend": {
                "showLegend": true,
                "displayMode": "list",
                "placement": "bottom",
                "calcs": []
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "expr": "sum(max_over_time(s3_objects_size_sum_bytes[1h]))",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "S3 total usage",
            "type": "timeseries",
            "timeFrom": null,
            "timeShift": null
          },
          {
            "description": "Shows the size of all buckets used by Welkin. Note that this does *not* show *all* buckets, only those configured for the environment.",
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "drawStyle": "points",
                  "lineInterpolation": "linear",
                  "barAlignment": 0,
                  "lineWidth": 1,
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "spanNulls": false,
                  "insertNulls": false,
                  "showPoints": "always",
                  "pointSize": 6,
                  "stacking": {
                    "mode": "none",
                    "group": "A"
                  },
                  "axisPlacement": "auto",
                  "axisLabel": "",
                  "axisColorMode": "text",
                  "axisBorderShow": false,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "axisCenteredZero": false,
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "color": {
                  "mode": "palette-classic"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "value": null,
                      "color": "green"
                    },
                    {
                      "value": 80,
                      "color": "red"
                    }
                  ]
                },
                "links": [],
                "unit": "decbytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 18
            },
            "id": 9,
            "interval": "60m",
            "options": {
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              },
              "legend": {
                "showLegend": true,
                "displayMode": "list",
                "placement": "bottom",
                "calcs": []
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "expr": "max by (bucket) (max_over_time(s3_objects_size_sum_bytes[1h]))",
                "interval": "",
                "legendFormat": "{{bucket}}",
                "refId": "A"
              }
            ],
            "title": "Bucket sizes",
            "type": "timeseries",
            "timeFrom": null,
            "timeShift": null
          },
          {
            "collapsed": false,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 26
            },
            "id": 19,
            "panels": [],
            "title": "Misc",
            "type": "row"
          },
          {
            "description": "",
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 27
            },
            "id": 21,
            "options": {
              "content": "In addition to these panels, you should also check the Persistent Volumes and Backups dashboards.\n\n\n\n\n",
              "mode": "markdown"
            },
            "pluginVersion": "8.2.7",
            "timeFrom": null,
            "timeShift": null,
            "title": "Additional checks",
            "type": "text"
          }
        ],
        "refresh": "5m",
        "schemaVersion": 32,
        "style": "dark",
        "tags": [
          "daily"
        ],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-24h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Daily-checks",
        "uid": "auCci6Lnk",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-etcd-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  etcd-dashboard.json: |-
    
      {
         "description": "etcd sample Grafana dashboard with Prometheus",
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "colorMode": "none",
                  "graphMode": "none",
                  "reduceOptions": {
                     "calcs": [
                        "lastNotNull"
                     ]
                  }
               },
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "sum(etcd_server_has_leader{job=~\".*etcd.*\", job=\"$cluster\"})",
                     "legendFormat": "{{cluster}} - {{namespace}}\n"
                  }
               ],
               "title": "Up",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 10,
                  "x": 6,
                  "y": 0
               },
               "id": 2,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "sum(rate(grpc_server_started_total{job=~\".*etcd.*\", job=\"$cluster\",grpc_type=\"unary\"}[$__rate_interval]))",
                     "legendFormat": "RPC rate"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "sum(rate(grpc_server_handled_total{job=~\".*etcd.*\", job=\"$cluster\",grpc_type=\"unary\",grpc_code=~\"Unknown|FailedPrecondition|ResourceExhausted|Internal|Unavailable|DataLoss|DeadlineExceeded\"}[$__rate_interval]))",
                     "legendFormat": "RPC failed rate"
                  }
               ],
               "title": "RPC rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     }
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 0
               },
               "id": 3,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "sum(grpc_server_started_total{job=~\".*etcd.*\",job=\"$cluster\",grpc_service=\"etcdserverpb.Watch\",grpc_type=\"bidi_stream\"}) - sum(grpc_server_handled_total{job=\"$cluster\",grpc_service=\"etcdserverpb.Watch\",grpc_type=\"bidi_stream\"})",
                     "legendFormat": "Watch streams"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "sum(grpc_server_started_total{job=~\".*etcd.*\",job=\"$cluster\",grpc_service=\"etcdserverpb.Lease\",grpc_type=\"bidi_stream\"}) - sum(grpc_server_handled_total{job=\"$cluster\",grpc_service=\"etcdserverpb.Lease\",grpc_type=\"bidi_stream\"})",
                     "legendFormat": "Lease streams"
                  }
               ],
               "title": "Active streams",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "bytes"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 25
               },
               "id": 4,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "etcd_mvcc_db_total_size_in_bytes{job=~\".*etcd.*\", job=\"$cluster\"}",
                     "legendFormat": "{{instance}} DB size"
                  }
               ],
               "title": "DB size",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 25
               },
               "id": 5,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(etcd_disk_wal_fsync_duration_seconds_bucket{job=~\".*etcd.*\", job=\"$cluster\"}[$__rate_interval])) by (instance, le))",
                     "legendFormat": "{{instance}} WAL fsync"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(etcd_disk_backend_commit_duration_seconds_bucket{job=~\".*etcd.*\", job=\"$cluster\"}[$__rate_interval])) by (instance, le))",
                     "legendFormat": "{{instance}} DB fsync"
                  }
               ],
               "title": "Disk sync duration",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "bytes"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 25
               },
               "id": 6,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "process_resident_memory_bytes{job=~\".*etcd.*\", job=\"$cluster\"}",
                     "legendFormat": "{{instance}} resident memory"
                  }
               ],
               "title": "Memory",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 0,
                  "y": 50
               },
               "id": 7,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "rate(etcd_network_client_grpc_received_bytes_total{job=~\".*etcd.*\", job=\"$cluster\"}[$__rate_interval])",
                     "legendFormat": "{{instance}} client traffic in"
                  }
               ],
               "title": "Client traffic in",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 6,
                  "y": 50
               },
               "id": 8,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "rate(etcd_network_client_grpc_sent_bytes_total{job=~\".*etcd.*\", job=\"$cluster\"}[$__rate_interval])",
                     "legendFormat": "{{instance}} client traffic out"
                  }
               ],
               "title": "Client traffic out",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 12,
                  "y": 50
               },
               "id": 9,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "sum(rate(etcd_network_peer_received_bytes_total{job=~\".*etcd.*\", job=\"$cluster\"}[$__rate_interval])) by (instance)",
                     "legendFormat": "{{instance}} peer traffic in"
                  }
               ],
               "title": "Peer traffic in",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 50
               },
               "id": 10,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "sum(rate(etcd_network_peer_sent_bytes_total{job=~\".*etcd.*\", job=\"$cluster\"}[$__rate_interval])) by (instance)",
                     "legendFormat": "{{instance}} peer traffic out"
                  }
               ],
               "title": "Peer traffic out",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     }
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 75
               },
               "id": 11,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "changes(etcd_server_leader_changes_seen_total{job=~\".*etcd.*\", job=\"$cluster\"}[1d])",
                     "legendFormat": "{{instance}} total leader elections per day"
                  }
               ],
               "title": "Raft proposals",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     }
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 75
               },
               "id": 12,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "changes(etcd_server_leader_changes_seen_total{job=~\".*etcd.*\", job=\"$cluster\"}[1d])",
                     "legendFormat": "{{instance}} total leader elections per day"
                  }
               ],
               "title": "Total leader elections per day",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 0,
                        "lineWidth": 2,
                        "showPoints": "never"
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 75
               },
               "id": 13,
               "interval": "1m",
               "pluginVersion": "v10.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "$datasource"
                     },
                     "expr": "histogram_quantile(0.99, sum by (instance, le) (rate(etcd_network_peer_round_trip_time_seconds_bucket{job=~\".*etcd.*\", job=\"$cluster\"}[$__rate_interval])))",
                     "legendFormat": "{{instance}} peer round trip time"
                  }
               ],
               "title": "Peer round trip time",
               "type": "timeseries"
            }
         ],
         "refresh": "10s",
         "schemaVersion": 36,
         "tags": [
            "etcd-mixin"
         ],
         "templating": {
            "list": [
               {
                  "label": "Data Source",
                  "name": "datasource",
                  "query": "prometheus",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(etcd_server_has_leader{job=~\".*etcd.*\"}, job)",
                  "refresh": 2,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-15m",
            "to": "now"
         },
         "timezone": "",
         "title": "etcd",
         "uid": "c2f4e12cdf69feb95caa41a5a1b423d9"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-falco-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  falco-dashboard.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Falco is a cloud-native security tool designed for Linux systems. It employs custom rules on kernel events, which are enriched with container and Kubernetes metadata, to provide real-time alerts. Falco helps you gain visibility into abnormal behavior, potential security threats, and compliance violations, contributing to comprehensive runtime security.",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "id": 41,
        "links": [],
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "gridPos": {
              "h": 4,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 7,
            "options": {
              "code": {
                "language": "plaintext",
                "showLineNumbers": false,
                "showMiniMap": false
              },
              "content": "# Detailed falco logs can be found in OpenSearch Dashboards:\n\n\nhttps://opensearch.ck8s.example.com",
              "mode": "markdown"
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "refId": "A"
              }
            ],
            "title": "Falco logs",
            "type": "text"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 1
            },
            "id": 7,
            "panels": [],
            "title": "Events",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": [],
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 9,
              "x": 0,
              "y": 2
            },
            "id": 1,
            "options": {
              "displayLabels": [
                "name"
              ],
              "legend": {
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": false
              },
              "pieType": "donut",
              "reduceOptions": {
                "calcs": [
                  "sum"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(rule_name) (increase(falcosecurity_falco_rules_matches_total{cluster=~\"$cluster\", source=~\"$source\", priority=~\"$priority\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{rule_name}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Rules",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": [],
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 8,
              "x": 9,
              "y": 2
            },
            "id": 2,
            "options": {
              "displayLabels": [
                "name"
              ],
              "legend": {
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": false
              },
              "pieType": "donut",
              "reduceOptions": {
                "calcs": [
                  "sum"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(source) (increase(falcosecurity_falco_rules_matches_total{cluster=~\"$cluster\", source=~\"$source\", priority=~\"$priority\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": false,
                "instant": false,
                "legendFormat": "{{source}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Sources",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "unit": "none"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-red",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "critical"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "notice"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-blue",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "warning"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 7,
              "x": 17,
              "y": 2
            },
            "id": 3,
            "options": {
              "displayLabels": [
                "name"
              ],
              "legend": {
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": false
              },
              "pieType": "donut",
              "reduceOptions": {
                "calcs": [
                  "sum"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(priority) (increase(falcosecurity_falco_rules_matches_total{cluster=~\"$cluster\", source=~\"$source\", priority=~\"$priority\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{priority}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Priorities",
            "transformations": [
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "0",
                  "renamePattern": "default"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "1",
                  "renamePattern": "debug"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "2",
                  "renamePattern": "informational"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "3",
                  "renamePattern": "notice"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "4",
                  "renamePattern": "warning"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "5",
                  "renamePattern": "error"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "6",
                  "renamePattern": "critical"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "7",
                  "renamePattern": "alert"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "8",
                  "renamePattern": "emergency"
                }
              }
            ],
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.5,
                  "drawStyle": "bars",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 1,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "min": 0.01,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 14,
              "w": 12,
              "x": 0,
              "y": 10
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Max",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(priority) (increase(falcosecurity_falco_rules_matches_total{cluster=~\"$cluster\", source=~\"$source\", priority=~\"$priority\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "interval": "1m",
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "by Priority over time",
            "transformations": [
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "0",
                  "renamePattern": "default"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "1",
                  "renamePattern": "debug"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "2",
                  "renamePattern": "informational"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "3",
                  "renamePattern": "notice"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "4",
                  "renamePattern": "warning"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "5",
                  "renamePattern": "error"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "6",
                  "renamePattern": "critical"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "7",
                  "renamePattern": "alert"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "8",
                  "renamePattern": "emergency"
                }
              }
            ],
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.5,
                  "drawStyle": "bars",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 1,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "fieldMinMax": false,
                "mappings": [],
                "min": 0.01,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 14,
              "w": 12,
              "x": 12,
              "y": 10
            },
            "id": 18,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(source) (increase(falcosecurity_falco_rules_matches_total{cluster=~\"$cluster\", source=~\"$source\", priority=~\"$priority\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "interval": "1m",
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "by Source over time",
            "transformations": [
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "0",
                  "renamePattern": "default"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "1",
                  "renamePattern": "debug"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "2",
                  "renamePattern": "informational"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "3",
                  "renamePattern": "notice"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "4",
                  "renamePattern": "warning"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "5",
                  "renamePattern": "error"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "6",
                  "renamePattern": "critical"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "7",
                  "renamePattern": "alert"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "8",
                  "renamePattern": "emergency"
                }
              }
            ],
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.5,
                  "drawStyle": "bars",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 1,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "fieldMinMax": false,
                "mappings": [],
                "min": 0.01,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 15,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 19,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(rule_name) (increase(falcosecurity_falco_rules_matches_total{cluster=~\"$cluster\", source=~\"$source\", priority=~\"$priority\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "interval": "1m",
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "by Rule over time",
            "transformations": [
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "0",
                  "renamePattern": "default"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "1",
                  "renamePattern": "debug"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "2",
                  "renamePattern": "informational"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "3",
                  "renamePattern": "notice"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "4",
                  "renamePattern": "warning"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "5",
                  "renamePattern": "error"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "6",
                  "renamePattern": "critical"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "7",
                  "renamePattern": "alert"
                }
              },
              {
                "id": "renameByRegex",
                "options": {
                  "regex": "8",
                  "renamePattern": "emergency"
                }
              }
            ],
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 39
            },
            "id": 8,
            "panels": [],
            "title": "Performances",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 1,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "total"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-red",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "total"
                  },
                  "properties": [
                    {
                      "id": "custom.lineStyle",
                      "value": {
                        "dash": [
                          10,
                          10
                        ],
                        "fill": "dash"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [
                  "min",
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "exemplar": false,
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_evts_total{cluster=~\"$cluster\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "interval": "1m",
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "exemplar": false,
                "expr": "sum(irate(falcosecurity_falco_n_evts_total[$__interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "interval": "1m",
                "legendFormat": "total",
                "range": true,
                "refId": "B",
                "useBackend": false
              }
            ],
            "title": "Scap events by instance over time",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "decbytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 0,
              "y": 50
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [
                  "min",
                  "max",
                  "mean",
                  "last"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "avg by(pod, raw_name) (falcosecurity_falco_memory_rss_bytes{cluster=~\"$cluster\", pod=~\"$pod\"})",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Memory RSS",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "decbytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 12,
              "y": 50
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [
                  "min",
                  "max",
                  "mean",
                  "last"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "avg by(pod, raw_name) (falcosecurity_falco_memory_vsz_bytes{cluster=~\"$cluster\", pod=~\"$pod\"})",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - {{raw_name}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "avg by(pod, raw_name) (falcosecurity_falco_memory_vsz_bytes{cluster=~\"$cluster\"})",
                "fullMetaSearch": false,
                "hide": true,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "B",
                "useBackend": false
              }
            ],
            "title": "Memory VSZ",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 24,
              "x": 0,
              "y": 62
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [
                  "min",
                  "max",
                  "mean",
                  "last"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "avg by(pod) (falcosecurity_falco_cpu_usage_ratio{cluster=~\"$cluster\", pod=~\"$pod\"})",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "CPU",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 0,
              "y": 74
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [
                  "min",
                  "max",
                  "mean",
                  "last"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_total{cluster=~\"$cluster\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Scap Drops total",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 12,
              "y": 74
            },
            "id": 24,
            "options": {
              "legend": {
                "calcs": [
                  "min",
                  "max",
                  "mean",
                  "last"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_falco_outputs_queue_num_drops_total{cluster=~\"$cluster\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Queue Drops",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 16,
              "w": 12,
              "x": 0,
              "y": 86
            },
            "id": 20,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Max",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"enter\", drop=\"clone_fork\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - clone_fork",
                "range": true,
                "refId": "A",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"enter\", drop=\"connect\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - connect",
                "range": true,
                "refId": "B",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"enter\", drop=\"dir_file\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - dir_file",
                "range": true,
                "refId": "C",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"enter\", drop=\"execve\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - execve",
                "range": true,
                "refId": "D",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"enter\", drop=\"open\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - open",
                "range": true,
                "refId": "E",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"enter\", drop=\"other_interest\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - other_interest",
                "range": true,
                "refId": "F",
                "useBackend": false
              }
            ],
            "title": "Scap Drops Buffer Enter",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 16,
              "w": 12,
              "x": 12,
              "y": 86
            },
            "id": 26,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Max",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"exit\", drop=\"clone_fork\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - clone_fork",
                "range": true,
                "refId": "A",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"exit\", drop=\"connect\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - connect",
                "range": true,
                "refId": "B",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"exit\", drop=\"dir_file\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - dir_file",
                "range": true,
                "refId": "C",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"exit\", drop=\"execve\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - execve",
                "range": true,
                "refId": "D",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"exit\", drop=\"open\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - open",
                "range": true,
                "refId": "E",
                "useBackend": false
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_buffer_total{cluster=~\"$cluster\", pod=~\"$pod\", dir=\"exit\", drop=\"other_interest\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "hide": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}} - other_interest",
                "range": true,
                "refId": "F",
                "useBackend": false
              }
            ],
            "title": "Scap Drops Buffer Exit",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 8,
              "x": 0,
              "y": 102
            },
            "id": 21,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_cpu_total{cluster=~\"$cluster\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Scap Drops CPU",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 8,
              "x": 8,
              "y": 102
            },
            "id": 22,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_full_threadtable_total{cluster=~\"$cluster\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Scap Drops Full Threadtable",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 8,
              "x": 16,
              "y": 102
            },
            "id": 23,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "sum by(pod) (increase(falcosecurity_scap_n_drops_scratch_map_total{cluster=~\"$cluster\", pod=~\"$pod\"}[$__rate_interval]))",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "instant": false,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Scap Drops Scratch Map",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 114
            },
            "id": 15,
            "panels": [],
            "title": "Fleet",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 6,
              "x": 0,
              "y": 115
            },
            "id": 16,
            "options": {
              "displayLabels": [
                "name",
                "value"
              ],
              "legend": {
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true,
                "values": []
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "count by(version) (falcosecurity_falco_version_info{cluster=~\"$cluster\", pod=~\"$pod\"})",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Versions",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 6,
              "x": 6,
              "y": 115
            },
            "id": 17,
            "options": {
              "displayLabels": [
                "name",
                "value"
              ],
              "legend": {
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true,
                "values": []
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0-77222",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "disableTextWrap": false,
                "editorMode": "builder",
                "expr": "count by(engine_name) (falcosecurity_scap_engine_name_info{cluster=~\"$cluster\", pod=~\"$pod\"})",
                "fullMetaSearch": false,
                "includeNullMetadata": true,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A",
                "useBackend": false
              }
            ],
            "title": "Engines",
            "type": "piechart"
          }
        ],
        "preload": false,
        "refresh": "",
        "schemaVersion": 40,
        "tags": [
          "falco",
          "kubernetes",
          "security"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "refresh": 1,
              "regex": "",
              "type": "datasource"
            },
            {
              "current": {
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(falcosecurity_falco_cpu_usage_ratio,namespace)",
              "includeAll": true,
              "multi": true,
              "name": "namespace",
              "options": [],
              "query": {
                "qryType": 1,
                "query": "label_values(falcosecurity_falco_cpu_usage_ratio,namespace)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "type": "query"
            },
            {
              "current": {
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(falcosecurity_falco_cpu_usage_ratio{namespace=~\"$namespace\"},pod)",
              "includeAll": true,
              "multi": true,
              "name": "pod",
              "options": [],
              "query": {
                "qryType": 1,
                "query": "label_values(falcosecurity_falco_cpu_usage_ratio{namespace=~\"$namespace\"},pod)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "sort": 1,
              "type": "query"
            },
            {
              "current": {
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(falcosecurity_falco_rules_matches_total{namespace=~\"$namespace\", pod=~\"$pod\"},source)",
              "includeAll": true,
              "label": "source",
              "multi": true,
              "name": "source",
              "options": [],
              "query": {
                "qryType": 1,
                "query": "label_values(falcosecurity_falco_rules_matches_total{namespace=~\"$namespace\", pod=~\"$pod\"},source)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "sort": 4,
              "type": "query"
            },
            {
              "current": {
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(falcosecurity_falco_rules_matches_total{namespace=~\"$namespace\", source=~\"$source\"},priority)",
              "includeAll": true,
              "label": "priority",
              "multi": true,
              "name": "priority",
              "options": [],
              "query": {
                "qryType": 1,
                "query": "label_values(falcosecurity_falco_rules_matches_total{namespace=~\"$namespace\", source=~\"$source\"},priority)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "sort": 4,
              "type": "query"
            },
            {
              "allValue": "",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(falcosecurity_falco_version_info,cluster)",
              "hide": 0,
              "includeAll": true,
              "label": "cluster",
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(falcosecurity_falco_version_info,cluster)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-24h",
          "to": "now"
        },
        "timepicker": {},
        "timezone": "browser",
        "title": "Falco",
        "uid": "ddwe2ug4nfi0wb",
        "version": 46,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-fluentd-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  fluentd-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "uid": "$DS_PROMETHEUS"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "fluentd 1.x deployed in kubernetes and scraped by prometheus",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 13042,
        "graphTooltip": 1,
        "id": 9,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 19,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "General",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "description": "If you see errors then you probably have serious issues with log processing, see https://docs.fluentd.org/buffer#handling-unrecoverable-errors\n\nRetries are normal but should occur only from time to time, otherwise check for network errors or destination is too slow and requires additional tuning per given provider.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ops"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Error.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E02F44",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 5,
              "w": 8,
              "x": 0,
              "y": 1
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(rate(fluentd_output_status_retry_count{pod=~\"$pod\"}[1m]))",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "Retry rate",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(rate(fluentd_output_status_num_errors{pod=~\"$pod\"}[1m]))",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "Error rate",
                "refId": "C"
              }
            ],
            "title": "Fluentd output error/retry rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "description": "Input  and output total rates",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 8,
              "x": 8,
              "y": 1
            },
            "id": 44,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(rate(fluentd_input_status_num_records_total{pod=~\"$pod\"}[1m]))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "input",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(rate(fluentd_output_status_write_count{pod=~\"$pod\"}[1m]))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "output",
                "refId": "B"
              }
            ],
            "title": "Input /  output rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "description": "This should not reach 0 otherwise logs are blocked from processing or even dropped",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 8,
              "x": 16,
              "y": 1
            },
            "id": 20,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "list",
                "placement": "right",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "min(fluentd_output_status_buffer_available_space_ratio)",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "lowest across all hosts",
                "refId": "A"
              }
            ],
            "title": "fluentd output status buffer available space ratio",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "description": "total flush time",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "count"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "short"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 5,
              "w": 8,
              "x": 0,
              "y": 6
            },
            "id": 21,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "list",
                "placement": "right",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(rate(fluentd_output_status_flush_time_count{pod=~\"$pod\"}[1m]))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "time",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(rate(fluentd_output_status_slow_flush_count[1m]))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "count",
                "refId": "B"
              }
            ],
            "title": "fluentd output status flush time count rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "description": "Current total size of stage and queue buffers.\nfluentd_output_status_buffer_total_bytes",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 8,
              "x": 8,
              "y": 6
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(fluentd_output_status_buffer_total_bytes) by (type)",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ type }}",
                "refId": "A"
              }
            ],
            "title": "Current total size of stage and queue buffers.",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 8,
              "x": 16,
              "y": 6
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(fluentd_output_status_buffer_queue_length)",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "total",
                "refId": "A"
              }
            ],
            "title": "Fluentd output buffer queue",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 11
            },
            "id": 17,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_input_status_num_records_total",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 12
                },
                "id": 39,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "editorMode": "code",
                    "expr": "sum(rate(fluentd_input_status_num_records_total{pod=~\"$pod\"}[1m])) ",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "total",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "Input entries rate (total)",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_input_status_num_records_total",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 12
                },
                "id": 47,
                "interval": "",
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_input_status_num_records_total{pod=~\"$pod\"}[1m])) by (hostname)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{hostname}}",
                    "refId": "A"
                  }
                ],
                "title": "Input entries rate per hostname",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_input_status_num_records_total",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 18
                },
                "id": 60,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_input_status_num_records_total{pod=~\"$pod\"}[1m])) by (namespace)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{namespace}}",
                    "refId": "A"
                  }
                ],
                "title": "Input entries rate per namespace",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_input_status_num_records_total",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 18
                },
                "id": 48,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_input_status_num_records_total{pod=~\"$pod\"}[1m])) by (instance)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{namespace}}",
                    "refId": "A"
                  }
                ],
                "title": "Input entries rate per instance",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Input details",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 12
            },
            "id": 59,
            "panels": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_input_status_num_records_total",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 25
                },
                "id": 49,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_input_status_num_records_total{pod=~\"$pod\"}[1m])) by (tag)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{tag}}",
                    "refId": "A"
                  }
                ],
                "title": "Input entries rate per tag",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Input details (warning, very slow!)",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 13
            },
            "id": 41,
            "panels": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_buffer_stage_length",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 32
                },
                "id": 22,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(fluentd_output_status_buffer_stage_length) by (pod, type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Current length of stage buffers.",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_buffer_stage_byte_size",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 32
                },
                "id": 23,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(fluentd_output_status_buffer_stage_byte_size) by (pod, type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Current total size of stage buffers.",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Buffer Stage",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 14
            },
            "id": 43,
            "panels": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 5
                },
                "id": 50,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "max_over_time(fluentd_output_status_buffer_queue_length[1m])",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Maximum buffer length in last 1min",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 5
                },
                "id": 25,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "max_over_time(fluentd_output_status_buffer_total_bytes[1m])",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Maximum buffer bytes in last 1min",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_buffer_queue_length",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 11
                },
                "id": 24,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(fluentd_output_status_buffer_queue_length) by (pod, type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Current length of queue buffers.",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_queue_byte_size",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 11
                },
                "id": 51,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(fluentd_output_status_queue_byte_size) by (pod, type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Current total size of queue buffers.",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Buffer Queue",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 15
            },
            "id": 46,
            "panels": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_buffer_available_space_ratio",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "max": 100,
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "percent"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 6
                },
                "id": 26,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(fluentd_output_status_buffer_available_space_ratio) by (pod, type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Ratio of available space in buffer.",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Buffer Space",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 53,
            "panels": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_retry_count",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 7
                },
                "id": 30,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_retry_count{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Current retry counts.",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_emit_records",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 7
                },
                "id": 33,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_emit_records{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Current emit records",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_emit_count",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 13
                },
                "id": 32,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_emit_count{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Current emit counts rate",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_rollback_count",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 13
                },
                "id": 35,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_rollback_count{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Current rollback counts",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_write_count",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 19
                },
                "id": 34,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_write_count{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Current write counts",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_slow_flush_count",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 19
                },
                "id": 37,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_slow_flush_count{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Current slow flush counts",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_retry_wait",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 25
                },
                "id": 38,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_retry_wait{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Current retry wait",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_flush_time_count",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "ms"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 25
                },
                "id": 36,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_flush_time_count{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Total flush time",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Buffer Retries",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 17
            },
            "id": 57,
            "panels": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_num_errors",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 8
                },
                "id": 31,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(rate(fluentd_output_status_num_errors{pod=~\"$pod\"}[1m])) by (type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{type}}",
                    "refId": "A"
                  }
                ],
                "title": "Current number of errors rate",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Buffer Errors",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 18
            },
            "id": 55,
            "panels": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 9
                },
                "id": 29,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "fluentd_output_status_buffer_newest_timekey - fluentd_output_status_buffer_oldest_timekey",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type}}",
                    "refId": "A"
                  }
                ],
                "title": "Timekey diff",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_buffer_newest_timekey",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 9
                },
                "id": 27,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(fluentd_output_status_buffer_newest_timekey) by (pod, type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Newest timekey in buffer.",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "description": "fluentd_output_status_buffer_oldest_timekey",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 15
                },
                "id": 28,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": false
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "desc"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$DS_PROMETHEUS"
                    },
                    "expr": "sum(fluentd_output_status_buffer_oldest_timekey) by (pod, type)",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{pod}} {{ type }}",
                    "refId": "A"
                  }
                ],
                "title": "Oldest timekey in buffer.",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Buffer timekeys",
            "type": "row"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 39,
        "tags": [
          "fluentd",
          "logging"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Datasource",
              "multi": false,
              "name": "DS_PROMETHEUS",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "definition": "label_values(kube_pod_info{pod=~\".*fluentd.*\"}, pod)",
              "hide": 0,
              "includeAll": true,
              "label": "pod",
              "multi": false,
              "name": "pod",
              "options": [],
              "query": {
                "query": "label_values(kube_pod_info{pod=~\".*fluentd.*\"}, pod)",
                "refId": "prometheus-sc-pod-Variable-Query"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Fluentd 1.x",
        "uid": "fdvi36ehnin0gd",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-gatekeeper-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  gatekeeper-dashboard.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "description": "Visualize violations from OPA Gatekeeper and OPA Scorecard",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 15763,
        "graphTooltip": 0,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "gridPos": {
              "h": 4,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 8,
            "options": {
              "code": {
                "language": "plaintext",
                "showLineNumbers": false,
                "showMiniMap": false
              },
              "content": "\n# Detailed gatekeeper logs can be found in OpenSearch Dashboards:\n\n\nhttps://opensearch.ck8s.example.com",
              "mode": "markdown"
            },
            "pluginVersion": "9.5.5",
            "title": "Gatekeeper logs",
            "type": "text"
          },
          {
            "collapsed": false,
            "datasource": "$datasource",
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 4
            },
            "id": 10,
            "panels": [],
            "targets": [
              {
                "datasource": "$datasource",
                "refId": "A"
              }
            ],
            "title": "Audit process",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "The number of audit violations per constraint detected in the last audit cycle",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "warn"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "unrecognized"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "yellow",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "dryrun"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "yellow",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "deny"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 4,
              "w": 12,
              "x": 0,
              "y": 5
            },
            "id": 31,
            "options": {
              "displayMode": "gradient",
              "minVizHeight": 10,
              "minVizWidth": 0,
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showUnfilled": true,
              "text": {},
              "valueMode": "color"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": true,
                "expr": "sum by (enforcement_action) (gatekeeper_violations{cluster=~\"$cluster\"})",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "legendFormat": "{{kind}}",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Total Violations",
            "transformations": [],
            "type": "bargauge"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Latency of audit operation",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 12,
              "y": 5
            },
            "id": 12,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": true,
                "expr": "rate(gatekeeper_audit_duration_seconds_count{cluster=~\"$cluster\"}[10m])",
                "interval": "",
                "legendFormat": "",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Audit duration",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Description: Timestamp of last audit run time",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 15,
              "y": 5
            },
            "id": 27,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": true,
                "expr": "time() - gatekeeper_audit_last_run_time{cluster=~\"$cluster\"}",
                "interval": "",
                "legendFormat": "",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Audit last run time",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Total number of watched GroupVersionKinds",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 18,
              "y": 5
            },
            "id": 30,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": true,
                "expr": "sum(gatekeeper_watch_manager_watched_gvk{cluster=~\"$cluster\", pod=~\"gatekeeper-controller.+\"}) / sum(gatekeeper_watch_manager_watched_gvk{cluster=~\"$cluster\", pod=~\"gatekeeper-controller.+\"})",
                "interval": "",
                "legendFormat": "",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Total GroupVersionKinds",
            "transformations": [],
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Total number of GroupVersionKinds with a registered watch intent",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 21,
              "y": 5
            },
            "id": 29,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": true,
                "expr": "sum(gatekeeper_watch_manager_intended_watch_gvk{cluster=~\"$cluster\", pod=~\"gatekeeper-controller.+\"}) / sum(gatekeeper_watch_manager_intended_watch_gvk{cluster=~\"$cluster\", pod=~\"gatekeeper-controller.+\"})",
                "interval": "",
                "legendFormat": "",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Total GroupVersionKinds registered",
            "transformations": [],
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": "$datasource",
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 9
            },
            "id": 16,
            "panels": [],
            "targets": [
              {
                "datasource": "$datasource",
                "refId": "A"
              }
            ],
            "title": "Admission webook",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Description: The number of requests that are routed to mutation webhook",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 0,
              "y": 10
            },
            "id": 22,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.2.3",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum by (mutation_status, pod) (rate(gatekeeper_mutation_request_count_total{cluster=~\"$cluster\"}[20m]))",
                "interval": "",
                "legendFormat": "{{mutation_status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Mutation request count",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Description: The number of requests that are routed to validation webhook",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 12,
              "y": 10
            },
            "id": 26,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.2.3",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": true,
                "expr": "sum by (admission_status, pod) (rate(gatekeeper_validation_request_count_total{cluster=~\"$cluster\"}[20m]))",
                "interval": "",
                "legendFormat": "{{admission_status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Validation request count",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": "$datasource",
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 14,
            "panels": [],
            "targets": [
              {
                "datasource": "$datasource",
                "refId": "A"
              }
            ],
            "title": "Controller",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Description: Current number of constraint templates\n\nUnderstanding this metric: Gatekeeper subscribes to a watch on all ConstraintTemplate resources. Whenever one is created or deleted on the cluster, this count gets updated.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 3,
              "x": 0,
              "y": 17
            },
            "id": 18,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": true,
                "expr": "sum by (status) (gatekeeper_constraint_templates{cluster=~\"$cluster\", pod=~\"gatekeeper-audit-.*\"})",
                "interval": "",
                "legendFormat": "{{status}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Constraint templates",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Current number of constraints\nUnderstanding this metric: Gatekeeper subscribes to a watch on all constraint resources. Whenever one is created or deleted on the cluster, this count gets updated.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "warn"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "unrecognized"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "yellow",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "dryrun"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "yellow",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "deny"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 6,
              "w": 9,
              "x": 3,
              "y": 17
            },
            "id": 19,
            "options": {
              "displayMode": "gradient",
              "minVizHeight": 10,
              "minVizWidth": 0,
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showUnfilled": true,
              "text": {},
              "valueMode": "color"
            },
            "pluginVersion": "9.5.5",
            "targets": [
              {
                "datasource": "$datasource",
                "editorMode": "code",
                "exemplar": true,
                "expr": "sum by(enforcement_action) (gatekeeper_constraints{cluster=~\"$cluster\", pod=~\"gatekeeper-audit-.*\"})",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "legendFormat": "{{kind}}",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Constraints",
            "transformations": [],
            "type": "bargauge"
          }
        ],
        "refresh": "",
        "schemaVersion": 38,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": ".*",
              "current": {
                "selected": true,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(kube_node_info,cluster)",
              "hide": 0,
              "includeAll": true,
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(kube_node_info,cluster)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-24h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Gatekeeper",
        "uid": "f19ee130-7413-49b4-bbec-200f223895c7",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-grafana-overview-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  grafana-overview-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 11,
        "links": [],
        "panels": [
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 0,
              "y": 0
            },
            "id": 6,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "text": {},
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "grafana_alerting_result_total{job=~\"$job\", instance=~\"$instance\", state=\"alerting\"}",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Firing Alerts",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 6,
              "x": 6,
              "y": 0
            },
            "id": 8,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "text": {},
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(grafana_stat_totals_dashboard{job=~\"$job\", instance=~\"$instance\"})",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Dashboards",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 12,
              "y": 0
            },
            "id": 10,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "grafana_build_info{job=~\"$job\", instance=~\"$instance\"}",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Build Info",
            "transformations": [
              {
                "id": "labelsToFields",
                "options": {}
              },
              {
                "id": "merge",
                "options": {}
              },
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "Value": true,
                    "branch": true,
                    "container": true,
                    "goversion": true,
                    "namespace": true,
                    "pod": true,
                    "revision": true
                  },
                  "indexByName": {
                    "Time": 7,
                    "Value": 11,
                    "branch": 4,
                    "container": 8,
                    "edition": 2,
                    "goversion": 6,
                    "instance": 1,
                    "job": 0,
                    "namespace": 9,
                    "pod": 10,
                    "revision": 5,
                    "version": 3
                  },
                  "renameByName": {}
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 5
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (status_code) (irate(grafana_http_request_duration_seconds_count{job=~\"$job\", instance=~\"$instance\"}[1m])) ",
                "interval": "",
                "legendFormat": "{{status_code}}",
                "refId": "A"
              }
            ],
            "title": "RPS",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 5
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "exemplar": true,
                "expr": "histogram_quantile(0.99, sum(irate(grafana_http_request_duration_seconds_bucket{instance=~\"$instance\", job=~\"$job\"}[$__rate_interval])) by (le)) * 1",
                "interval": "",
                "legendFormat": "99th Percentile",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "exemplar": true,
                "expr": "histogram_quantile(0.50, sum(irate(grafana_http_request_duration_seconds_bucket{instance=~\"$instance\", job=~\"$job\"}[$__rate_interval])) by (le)) * 1",
                "interval": "",
                "legendFormat": "50th Percentile",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "exemplar": true,
                "expr": "sum(irate(grafana_http_request_duration_seconds_sum{instance=~\"$instance\", job=~\"$job\"}[$__rate_interval])) * 1 / sum(irate(grafana_http_request_duration_seconds_count{instance=~\"$instance\", job=~\"$job\"}[$__rate_interval]))",
                "interval": "",
                "legendFormat": "Average",
                "refId": "C"
              }
            ],
            "title": "Request Latency",
            "type": "timeseries"
          }
        ],
        "schemaVersion": 39,
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": ".*",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "label_values(grafana_build_info, job)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "job",
              "options": [],
              "query": {
                "query": "label_values(grafana_build_info, job)",
                "refId": "Billing Admin-job-Variable-Query"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "label_values(grafana_build_info, instance)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "instance",
              "options": [],
              "query": {
                "query": "label_values(grafana_build_info, instance)",
                "refId": "Billing Admin-instance-Variable-Query"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-6h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Grafana Overview",
        "uid": "6be0s85Mk",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-harbor-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  harbor-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 130,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 2,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "refId": "A"
              }
            ],
            "title": "Info",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": []
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 4,
              "x": 0,
              "y": 1
            },
            "id": 4,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": false,
                "expr": "harbor_health",
                "instant": false,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Harbor health",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "left",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "filterable": false,
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 4,
              "x": 4,
              "y": 1
            },
            "id": 8,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(harbor_system_info) by (auth_mode, harbor_version)",
                "format": "table",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "System info",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "Value": true
                  },
                  "indexByName": {},
                  "renameByName": {
                    "auth_mode": ""
                  }
                }
              },
              {
                "id": "reduce",
                "options": {
                  "includeTimeField": false,
                  "labelsToFields": false,
                  "mode": "seriesToRows",
                  "reducers": [
                    "lastNotNull"
                  ]
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "false"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Private"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "true"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Public"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 8,
              "y": 1
            },
            "id": 25,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "harbor_project_total",
                "interval": "",
                "legendFormat": "{{public}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Total number of Projects (Public vs Private)",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Total number of artifacts type in a project",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 4,
              "x": 16,
              "y": 1
            },
            "id": 98,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(harbor_project_artifact_total)",
                "interval": "",
                "legendFormat": "Project: {{project_name}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Total number of artifacts",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Total used resources of a project",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 4,
              "x": 20,
              "y": 1
            },
            "id": 99,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(harbor_project_quota_usage_byte)",
                "interval": "",
                "legendFormat": "Project: {{project_name}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Quota usage",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Running status of Harbor components",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 8,
              "x": 0,
              "y": 7
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "harbor_up",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "legendFormat": "{{component}}",
                "refId": "A"
              }
            ],
            "title": "Component up status",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Total number of repositories in a project",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 8,
              "x": 8,
              "y": 7
            },
            "id": 23,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "harbor_project_repo_total",
                "interval": "",
                "legendFormat": "Project: {{project_name}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Total repositories in a project",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Total number of members in a project",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 8,
              "x": 16,
              "y": 7
            },
            "id": 19,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "harbor_project_member_total",
                "interval": "",
                "legendFormat": "Project: {{project_name}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Total members in a project",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Total used resources of a project",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "left",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total:"
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 8,
              "x": 0,
              "y": 17
            },
            "id": 21,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "harbor_project_quota_usage_byte",
                "format": "time_series",
                "interval": "",
                "legendFormat": "Project: {{project_name}}",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(harbor_project_quota_usage_byte)",
                "hide": false,
                "legendFormat": "Total:",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Quota Usage per project",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Total number of artifacts type in a project",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "left",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Total:"
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 8,
              "x": 8,
              "y": 17
            },
            "id": 97,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "harbor_project_artifact_total",
                "format": "time_series",
                "interval": "",
                "legendFormat": "Project: {{project_name}}",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "sum(harbor_project_artifact_total)",
                "hide": false,
                "legendFormat": "Total:",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Number of Artifacts per project",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Number of images pulled in a project",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 8,
              "x": 16,
              "y": 17
            },
            "id": 17,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "expr": "harbor_artifact_pulled",
                "interval": "",
                "legendFormat": "Project: {{project_name}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Images pulled per project",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 27
            },
            "id": 52,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 0,
                  "y": 2
                },
                "id": 58,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_info{job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "go info",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 6,
                  "y": 2
                },
                "id": 94,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "process_cpu_seconds_total{job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "Process CPU time",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 12,
                  "y": 2
                },
                "id": 66,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_threads{job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "go threads",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 18,
                  "y": 2
                },
                "id": 56,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_goroutines{job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "goroutines",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 0,
                  "y": 10
                },
                "id": 70,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "process_open_fds{job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "Process opened fd",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 6,
                  "y": 10
                },
                "id": 62,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_memstats_heap_objects{job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "Go heap objects",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 12,
                  "y": 10
                },
                "id": 60,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_memstats_alloc_bytes{job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "go allocated  memory",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 6,
                  "x": 18,
                  "y": 10
                },
                "id": 68,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_memstats_next_gc_bytes{job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "go next gc bytes",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 0,
                  "y": 18
                },
                "id": 96,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_gc_duration_seconds{quantile=\"0.25\",job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "go gc time 0.25",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 8,
                  "y": 18
                },
                "id": 54,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_gc_duration_seconds{quantile=\"0.5\",job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "go gc time 0.5",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 16,
                  "y": 18
                },
                "id": 95,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "go_gc_duration_seconds{quantile=\"0.75\",job=~\"harbor.*\"}",
                    "interval": "",
                    "legendFormat": "",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "go gc time 0.75",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "refId": "A"
              }
            ],
            "title": "General metrics",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 28
            },
            "id": 10,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 3
                },
                "id": 12,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_core_http_request_duration_seconds{quantile=\"0.5\"}",
                    "interval": "",
                    "legendFormat": "Operation: {{operation}}, Method: {{method}}, Pod: {{pod}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "API request time 0.5",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 3
                },
                "id": 26,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_core_http_request_duration_seconds{quantile=\"0.9\"}",
                    "instant": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Operation: {{operation}}, Method: {{method}}, Pod: {{pod}}",
                    "refId": "A"
                  }
                ],
                "title": "request time 0.9",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 3
                },
                "id": 28,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_core_http_request_duration_seconds{quantile=\"0.99\"}",
                    "interval": "",
                    "legendFormat": "Operation: {{operation}}, Method: {{method}}, Pod: {{pod}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "request time 0.99",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 10
                },
                "id": 14,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "rate(harbor_core_http_request_total[5m])",
                    "instant": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Operation: {{operation}}, Method: {{method}}, Pod: {{pod}}",
                    "refId": "A"
                  }
                ],
                "title": "harbor core request total",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 10
                },
                "id": 30,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_core_http_inflight_requests",
                    "interval": "",
                    "legendFormat": "Pod: {{pod}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "harbor core inflight request",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "refId": "A"
              }
            ],
            "title": "Core Metrics",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 29
            },
            "id": 74,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 4,
                  "w": 16,
                  "x": 0,
                  "y": 4
                },
                "id": 76,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "expr": "harbor_jobservice_info",
                    "interval": "",
                    "legendFormat": "",
                    "refId": "A"
                  }
                ],
                "title": "job service info",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 4
                },
                "id": 90,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_task_queue_size",
                    "interval": "",
                    "legendFormat": "{{type}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "task queue pending size",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "time period from last process of task queue",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 0,
                  "y": 8
                },
                "id": 92,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_task_queue_latency",
                    "interval": "",
                    "legendFormat": "{{type}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "task latency",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 4,
                  "w": 8,
                  "x": 8,
                  "y": 8
                },
                "id": 86,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_task_concurrency",
                    "interval": "",
                    "legendFormat": "Type: {{type}}, Pool: {{pool}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "task concurrency",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 5,
                  "w": 8,
                  "x": 16,
                  "y": 11
                },
                "id": 78,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "rate(harbor_jobservice_task_total[1m])",
                    "interval": "",
                    "legendFormat": "Type: {{type}}, Status: {{status}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "tasks per minute",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 4,
                  "w": 8,
                  "x": 8,
                  "y": 12
                },
                "id": 88,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "expr": "harbor_task_scheduled_total",
                    "interval": "",
                    "legendFormat": "",
                    "refId": "A"
                  }
                ],
                "title": "number of running scheduled job",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 8,
                  "x": 0,
                  "y": 16
                },
                "id": 80,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_jobservice_task_process_time_seconds{quantile=\"0.5\"}",
                    "interval": "",
                    "legendFormat": "Type: {{type}}, Status: {{status}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "task process time 0.5",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 8,
                  "x": 8,
                  "y": 16
                },
                "id": 82,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_jobservice_task_process_time_seconds{quantile=\"0.9\"}",
                    "interval": "",
                    "legendFormat": "Type: {{type}}, Status: {{status}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "task process time 0.9",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 6,
                  "w": 8,
                  "x": 16,
                  "y": 16
                },
                "id": 84,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "harbor_jobservice_task_process_time_seconds{quantile=\"0.99\"}",
                    "interval": "",
                    "legendFormat": "Type: {{type}}, Status: {{status}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "task process time 0.99",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "refId": "A"
              }
            ],
            "title": "JobService Metrics",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 30
            },
            "id": 32,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 0,
                  "y": 5
                },
                "id": 35,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "registry_http_in_flight_requests",
                    "interval": "",
                    "legendFormat": "{{handler}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "Registry request inflight",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 8,
                  "y": 5
                },
                "id": 36,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "rate(registry_http_requests_total[5m])",
                    "interval": "",
                    "legendFormat": "Handler: {{handler}}, Method: {{method}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "Registry request rate",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 16,
                  "y": 5
                },
                "id": 50,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "rate(registry_storage_cache_total[5m])",
                    "interval": "",
                    "legendFormat": "{{type}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "registry storage cache",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 0,
                  "y": 13
                },
                "id": 38,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "histogram_quantile(0.5, rate(registry_http_request_duration_seconds_bucket[10m]))",
                    "interval": "",
                    "legendFormat": "Handler: {{handler}}, Method: {{method}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "registry request time 0.5",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 8,
                  "y": 13
                },
                "id": 40,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "histogram_quantile(0.9, rate(registry_http_request_duration_seconds_bucket[10m]))",
                    "interval": "",
                    "legendFormat": "Handler: {{handler}}, Method: {{method}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "registry request time 0.9",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 16,
                  "y": 13
                },
                "id": 42,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "histogram_quantile(0.99, rate(registry_http_request_duration_seconds_bucket[10m]))",
                    "interval": "",
                    "legendFormat": "Handler: {{handler}}, Method: {{method}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "registry request time 0.99",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 0,
                  "y": 21
                },
                "id": 44,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "histogram_quantile(0.9, rate(registry_http_request_size_bytes_bucket[10m]))",
                    "interval": "",
                    "legendFormat": "{{handler}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "registry request size 0.9",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 8,
                  "y": 21
                },
                "id": 46,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "histogram_quantile(0.9, rate(registry_http_response_size_bytes_bucket[10m]))",
                    "interval": "",
                    "legendFormat": "{{handler}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "registry response size 0.9",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green"
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 8,
                  "w": 8,
                  "x": 16,
                  "y": 21
                },
                "id": 48,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.0",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "expr": "histogram_quantile(0.9, rate(registry_storage_action_seconds_bucket[10m]))",
                    "interval": "",
                    "legendFormat": "Action: {{action}}, Driver: {{driver}}",
                    "range": true,
                    "refId": "A"
                  }
                ],
                "title": "registry storage action time 0.9",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "refId": "A"
              }
            ],
            "title": "Registry Metric",
            "type": "row"
          }
        ],
        "refresh": "",
        "schemaVersion": 39,
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            }
          ]
        },
        "time": {
          "from": "now-12h",
          "to": "now"
        },
        "timepicker": {
          "hidden": false
        },
        "timezone": "",
        "title": "Harbor",
        "uid": "c51f4da2-e4a1-46cb-9856-46251a01e612",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-hnc-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "ops"
data:
  hnc-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "description": "Status of the HNC",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "iteration": 1661238093481,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "A ***condition*** is some kind of problem affecting a namespace or cluster.\n\nNamespace conditions are reported in the status of the `HierarchyConfiguration` object in each namespace.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "color": "text",
                        "index": 1,
                        "text": "Unknown"
                      }
                    },
                    "type": "special"
                  }
                ],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 16,
              "w": 7,
              "x": 0,
              "y": 0
            },
            "id": 2,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "value_and_name"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "PE090269EBE049DA8"
                },
                "exemplar": true,
                "expr": "sum(hnc_namespace_conditions{cluster=\"$cluster\"}) by(Condition, Reason)",
                "interval": "",
                "legendFormat": "{{Reason}}",
                "refId": "A"
              }
            ],
            "title": "Conditions",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "stepAfter",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 17,
              "x": 7,
              "y": 0
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "sum(hnc_reconcilers_hierconfig_total)",
                "hide": false,
                "interval": "",
                "legendFormat": "Total",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "sum(hnc_reconcilers_hierconfig_concurrent_peak)",
                "hide": false,
                "interval": "",
                "legendFormat": "Concurrent peak",
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "sum(hnc_reconcilers_hierconfig_hierconfig_writes_total)",
                "hide": false,
                "interval": "",
                "legendFormat": "Hierconfig writes total",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "sum(hnc_reconcilers_hierconfig_namespace_writes_total)",
                "hide": false,
                "interval": "",
                "legendFormat": "Namespace writes total",
                "refId": "D"
              }
            ],
            "title": "Reconcilers hierconfig activity",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "stepAfter",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 17,
              "x": 7,
              "y": 8
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "sum(hnc_reconcilers_object_total{cluster=\"$cluster\"})",
                "hide": false,
                "interval": "",
                "legendFormat": "Total",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "sum(hnc_reconcilers_object_concurrent_peak{cluster=\"$cluster\"})",
                "hide": false,
                "interval": "",
                "legendFormat": "Concurrent peak",
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "sum(hnc_reconcilers_object_writes_total{cluster=\"$cluster\"})",
                "hide": false,
                "interval": "",
                "legendFormat": "Writes total",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "sum(hnc_reconcilers_object_overwrites_total{cluster=\"$cluster\"})",
                "hide": false,
                "interval": "",
                "legendFormat": "Overwrites total",
                "refId": "D"
              }
            ],
            "title": "Reconcilers object activity",
            "type": "timeseries"
          }
        ],
        "refresh": "1m",
        "schemaVersion": 35,
        "style": "dark",
        "tags": [
          "hnc"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Datasource",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(hnc_namespace_conditions, cluster)",
              "hide": 0,
              "includeAll": true,
              "label": "Cluster",
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(hnc_namespace_conditions, cluster)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-6h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Hierarchical Namespace Controller",
        "uid": "_fIEqli4z",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-apiserver-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  apiserver-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "The SLO (service level objective) and other metrics displayed on this dashboard are for informational purposes only.",
               "gridPos": {
                  "h": 2,
                  "w": 24,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "options": {
                  "content": "The SLO (service level objective) and other metrics displayed on this dashboard are for informational purposes only."
               },
               "pluginVersion": "v11.0.0",
               "title": "Notice",
               "type": "text"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many percent of requests (both read and write) in 30 days have been answered successfully and fast enough?",
               "fieldConfig": {
                  "defaults": {
                     "decimals": 3,
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 2
               },
               "id": 2,
               "interval": "1m",
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "apiserver_request:availability30d{verb=\"all\", cluster=\"$cluster\"}"
                  }
               ],
               "title": "Availability (30d) > 99.000%",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How much error budget is left looking at our 0.990% availability guarantees?",
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 100
                     },
                     "decimals": 3,
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 16,
                  "x": 8,
                  "y": 2
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "100 * (apiserver_request:availability30d{verb=\"all\", cluster=\"$cluster\"} - 0.990000)",
                     "legendFormat": "errorbudget"
                  }
               ],
               "title": "ErrorBudget (30d) > 99.000%",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many percent of read requests (LIST,GET) in 30 days have been answered successfully and fast enough?",
               "fieldConfig": {
                  "defaults": {
                     "decimals": 3,
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 0,
                  "y": 9
               },
               "id": 4,
               "interval": "1m",
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "apiserver_request:availability30d{verb=\"read\", cluster=\"$cluster\"}"
                  }
               ],
               "title": "Read Availability (30d)",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many read requests (LIST,GET) per second do the apiservers get by code?",
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 100,
                        "stacking": {
                           "mode": "normal"
                        }
                     },
                     "unit": "reqps"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/2../i"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": "#56A64B"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/3../i"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": "#F2CC0C"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/4../i"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": "#3274D9"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/5../i"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": "#E02F44"
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 6,
                  "y": 9
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (code) (code_resource:apiserver_request_total:rate5m{verb=\"read\", cluster=\"$cluster\"})",
                     "legendFormat": "{{ code }}"
                  }
               ],
               "title": "Read SLI - Requests",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many percent of read requests (LIST,GET) per second are returned with errors (5xx)?",
               "fieldConfig": {
                  "defaults": {
                     "min": 0,
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 12,
                  "y": 9
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (resource) (code_resource:apiserver_request_total:rate5m{verb=\"read\",code=~\"5..\", cluster=\"$cluster\"}) / sum by (resource) (code_resource:apiserver_request_total:rate5m{verb=\"read\", cluster=\"$cluster\"})",
                     "legendFormat": "{{ resource }}"
                  }
               ],
               "title": "Read SLI - Errors",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many seconds is the 99th percentile for reading (LIST|GET) a given resource?",
               "fieldConfig": {
                  "defaults": {
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 9
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "cluster_quantile:apiserver_request_sli_duration_seconds:histogram_quantile{verb=\"read\", cluster=\"$cluster\"}",
                     "legendFormat": "{{ resource }}"
                  }
               ],
               "title": "Read SLI - Duration",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many percent of write requests (POST|PUT|PATCH|DELETE) in 30 days have been answered successfully and fast enough?",
               "fieldConfig": {
                  "defaults": {
                     "decimals": 3,
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 0,
                  "y": 16
               },
               "id": 8,
               "interval": "1m",
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "apiserver_request:availability30d{verb=\"write\", cluster=\"$cluster\"}"
                  }
               ],
               "title": "Write Availability (30d)",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many write requests (POST|PUT|PATCH|DELETE) per second do the apiservers get by code?",
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 100,
                        "stacking": {
                           "mode": "normal"
                        }
                     },
                     "unit": "reqps"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/2../i"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": "#56A64B"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/3../i"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": "#F2CC0C"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/4../i"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": "#3274D9"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/5../i"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": "#E02F44"
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 6,
                  "y": 16
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (code) (code_resource:apiserver_request_total:rate5m{verb=\"write\", cluster=\"$cluster\"})",
                     "legendFormat": "{{ code }}"
                  }
               ],
               "title": "Write SLI - Requests",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many percent of write requests (POST|PUT|PATCH|DELETE) per second are returned with errors (5xx)?",
               "fieldConfig": {
                  "defaults": {
                     "min": 0,
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 12,
                  "y": 16
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (resource) (code_resource:apiserver_request_total:rate5m{verb=\"write\",code=~\"5..\", cluster=\"$cluster\"}) / sum by (resource) (code_resource:apiserver_request_total:rate5m{verb=\"write\", cluster=\"$cluster\"})",
                     "legendFormat": "{{ resource }}"
                  }
               ],
               "title": "Write SLI - Errors",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "description": "How many seconds is the 99th percentile for writing (POST|PUT|PATCH|DELETE) a given resource?",
               "fieldConfig": {
                  "defaults": {
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 16
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "cluster_quantile:apiserver_request_sli_duration_seconds:histogram_quantile{verb=\"write\", cluster=\"$cluster\"}",
                     "legendFormat": "{{ resource }}"
                  }
               ],
               "title": "Write SLI - Duration",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "min": 0,
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 23
               },
               "id": 12,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": false
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(workqueue_adds_total{job=\"apiserver\", instance=~\"$instance\", cluster=\"$cluster\"}[$__rate_interval])) by (instance, name)",
                     "legendFormat": "{{instance}} {{name}}"
                  }
               ],
               "title": "Work Queue Add Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "min": 0,
                     "unit": "short"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 23
               },
               "id": 13,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": false
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(workqueue_depth{job=\"apiserver\", instance=~\"$instance\", cluster=\"$cluster\"}[$__rate_interval])) by (instance, name)",
                     "legendFormat": "{{instance}} {{name}}"
                  }
               ],
               "title": "Work Queue Depth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "min": 0,
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 30
               },
               "id": 14,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(workqueue_queue_duration_seconds_bucket{job=\"apiserver\", instance=~\"$instance\", cluster=\"$cluster\"}[$__rate_interval])) by (instance, name, le))",
                     "legendFormat": "{{instance}} {{name}}"
                  }
               ],
               "title": "Work Queue Latency",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "bytes"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 37
               },
               "id": 15,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "process_resident_memory_bytes{job=\"apiserver\",instance=~\"$instance\", cluster=\"$cluster\"}",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "Memory",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "min": 0,
                     "unit": "short"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 37
               },
               "id": 16,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "rate(process_cpu_seconds_total{job=\"apiserver\",instance=~\"$instance\", cluster=\"$cluster\"}[$__rate_interval])",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "CPU usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "short"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 37
               },
               "id": 17,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "go_goroutines{job=\"apiserver\",instance=~\"$instance\", cluster=\"$cluster\"}",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "Goroutines",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"apiserver\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "name": "instance",
                  "query": "label_values(up{job=\"apiserver\", cluster=\"$cluster\"}, instance)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / API server",
         "uid": "09ec8aa1e996d6ffcd6817bbaff4db1b"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-cluster-total-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  cluster-total-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Received",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 0
               },
               "id": 2,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Transmitted",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Bytes/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "binBps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Packets/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "pps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Namespace"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down",
                                    "url": "/d/8b7a8b326d7a6f1f04244066368c67af/kubernetes-networking-namespace-pods?${datasource:queryparam}&var-cluster=${cluster}&var-namespace=${__data.fields.Namespace}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 9,
                  "w": 24,
                  "x": 0,
                  "y": 9
               },
               "id": 3,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "avg by (namespace) (\n    rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "avg by (namespace) (\n    rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_receive_packets_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_transmit_packets_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_receive_packets_dropped_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_transmit_packets_dropped_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Status",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "namespace",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "Time 7": true,
                           "Time 8": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Time 7": 6,
                           "Time 8": 7,
                           "Value #A": 9,
                           "Value #B": 10,
                           "Value #C": 11,
                           "Value #D": 12,
                           "Value #E": 13,
                           "Value #F": 14,
                           "Value #G": 15,
                           "Value #H": 16,
                           "namespace": 8
                        },
                        "renameByName": {
                           "Value #A": "Rx Bytes",
                           "Value #B": "Tx Bytes",
                           "Value #C": "Rx Bytes (Avg)",
                           "Value #D": "Tx Bytes (Avg)",
                           "Value #E": "Rx Packets",
                           "Value #F": "Tx Packets",
                           "Value #G": "Rx Packets Dropped",
                           "Value #H": "Tx Packets Dropped",
                           "namespace": "Namespace"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 18
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "avg by (namespace) (\n    rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Rate of Bytes Received",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 18
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "avg by (namespace) (\n    rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Rate of Bytes Transmitted",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 27
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 27
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 36
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_receive_packets_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 36
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_transmit_packets_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 45
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_receive_packets_dropped_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 45
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (namespace) (\n    rate(container_network_transmit_packets_dropped_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 54
               },
               "id": 12,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (instance) (\n    rate(node_netstat_Tcp_RetransSegs{cluster=\"$cluster\"}[$__rate_interval]) / rate(node_netstat_Tcp_OutSegs{cluster=\"$cluster\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of TCP Retransmits out of all sent segments",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 54
               },
               "id": 13,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (instance) (\n    rate(node_netstat_TcpExt_TCPSynRetrans{cluster=\"$cluster\"}[$__rate_interval]) / rate(node_netstat_Tcp_RetransSegs{cluster=\"$cluster\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of TCP SYN Retransmits out of all retransmits",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kubelet\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Networking / Cluster",
         "uid": "ff635a025bcfea7bc3dd4f508990a3e9"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-k8s-resources-cluster-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  k8s-resources-cluster-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 4,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "cluster:node_cpu:ratio_rate5m{cluster=\"$cluster\"}",
                     "instant": true
                  }
               ],
               "title": "CPU Utilisation",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 4,
                  "x": 4,
                  "y": 0
               },
               "id": 2,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(namespace_cpu:kube_pod_container_resource_requests:sum{cluster=\"$cluster\"}) / sum(kube_node_status_allocatable{job=\"kube-state-metrics\",resource=\"cpu\",cluster=\"$cluster\"})",
                     "instant": true
                  }
               ],
               "title": "CPU Requests Commitment",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 4,
                  "x": 8,
                  "y": 0
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(namespace_cpu:kube_pod_container_resource_limits:sum{cluster=\"$cluster\"}) / sum(kube_node_status_allocatable{job=\"kube-state-metrics\",resource=\"cpu\",cluster=\"$cluster\"})",
                     "instant": true
                  }
               ],
               "title": "CPU Limits Commitment",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 4,
                  "x": 12,
                  "y": 0
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "1 - sum(:node_memory_MemAvailable_bytes:sum{cluster=\"$cluster\"}) / sum(node_memory_MemTotal_bytes{job=\"node-exporter\",cluster=\"$cluster\"})",
                     "instant": true
                  }
               ],
               "title": "Memory Utilisation",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 4,
                  "x": 16,
                  "y": 0
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(namespace_memory:kube_pod_container_resource_requests:sum{cluster=\"$cluster\"}) / sum(kube_node_status_allocatable{job=\"kube-state-metrics\",resource=\"memory\",cluster=\"$cluster\"})",
                     "instant": true
                  }
               ],
               "title": "Memory Requests Commitment",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 4,
                  "x": 20,
                  "y": 0
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(namespace_memory:kube_pod_container_resource_limits:sum{cluster=\"$cluster\"}) / sum(kube_node_status_allocatable{job=\"kube-state-metrics\",resource=\"memory\",cluster=\"$cluster\"})",
                     "instant": true
                  }
               ],
               "title": "Memory Limits Commitment",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     }
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 6
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "CPU Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Namespace"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?${datasource:queryparam}&var-cluster=$cluster&var-namespace=${__data.fields.Namespace}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 12
               },
               "id": 8,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(kube_pod_owner{job=\"kube-state-metrics\", cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "count(avg(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\"}) by (workload, namespace)) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(namespace_cpu:kube_pod_container_resource_requests:sum{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}) by (namespace) / sum(namespace_cpu:kube_pod_container_resource_requests:sum{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(namespace_cpu:kube_pod_container_resource_limits:sum{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}) by (namespace) / sum(namespace_cpu:kube_pod_container_resource_limits:sum{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "CPU Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "namespace",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "Time 7": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Time 7": 6,
                           "Value #A": 8,
                           "Value #B": 9,
                           "Value #C": 10,
                           "Value #D": 11,
                           "Value #E": 12,
                           "Value #F": 13,
                           "Value #G": 14,
                           "namespace": 7
                        },
                        "renameByName": {
                           "Value #A": "Pods",
                           "Value #B": "Workloads",
                           "Value #C": "CPU Usage",
                           "Value #D": "CPU Requests",
                           "Value #E": "CPU Requests %",
                           "Value #F": "CPU Limits",
                           "Value #G": "CPU Limits %",
                           "namespace": "Namespace"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "bytes"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 18
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_rss{job=\"kubelet\", cluster=\"$cluster\", container!=\"\"}) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Memory",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Memory Usage"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "bytes"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Memory Requests"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "bytes"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Memory Limits"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "bytes"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Namespace"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?${datasource:queryparam}&var-cluster=$cluster&var-namespace=${__data.fields.Namespace}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 24
               },
               "id": 10,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(kube_pod_owner{job=\"kube-state-metrics\", cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "count(avg(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\"}) by (workload, namespace)) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_rss{job=\"kubelet\", cluster=\"$cluster\", container!=\"\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(namespace_memory:kube_pod_container_resource_requests:sum{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_rss{job=\"kubelet\", cluster=\"$cluster\", container!=\"\"}) by (namespace) / sum(namespace_memory:kube_pod_container_resource_requests:sum{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(namespace_memory:kube_pod_container_resource_limits:sum{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_rss{job=\"kubelet\", cluster=\"$cluster\", container!=\"\"}) by (namespace) / sum(namespace_memory:kube_pod_container_resource_limits:sum{cluster=\"$cluster\"}) by (namespace)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Memory Requests by Namespace",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "namespace",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "Time 7": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Time 7": 6,
                           "Value #A": 8,
                           "Value #B": 9,
                           "Value #C": 10,
                           "Value #D": 11,
                           "Value #E": 12,
                           "Value #F": 13,
                           "Value #G": 14,
                           "namespace": 7
                        },
                        "renameByName": {
                           "Value #A": "Pods",
                           "Value #B": "Workloads",
                           "Value #C": "Memory Usage",
                           "Value #D": "Memory Requests",
                           "Value #E": "Memory Requests %",
                           "Value #F": "Memory Limits",
                           "Value #G": "Memory Limits %",
                           "namespace": "Namespace"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Bandwidth/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "Bps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Packets/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "pps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Namespace"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?${datasource:queryparam}&var-cluster=$cluster&var-namespace=${__data.fields.Namespace}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 30
               },
               "id": 11,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Network Usage",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "namespace",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 7,
                           "Value #B": 8,
                           "Value #C": 9,
                           "Value #D": 10,
                           "Value #E": 11,
                           "Value #F": 12,
                           "namespace": 6
                        },
                        "renameByName": {
                           "Value #A": "Current Receive Bandwidth",
                           "Value #B": "Current Transmit Bandwidth",
                           "Value #C": "Rate of Received Packets",
                           "Value #D": "Rate of Transmitted Packets",
                           "Value #E": "Rate of Received Packets Dropped",
                           "Value #F": "Rate of Transmitted Packets Dropped",
                           "namespace": "Namespace"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 36
               },
               "id": 12,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 42
               },
               "id": 13,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 48
               },
               "id": 14,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "avg(irate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Container Bandwidth by Namespace: Received",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 54
               },
               "id": 15,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "avg(irate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Container Bandwidth by Namespace: Transmitted",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 60
               },
               "id": 16,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 66
               },
               "id": 17,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 72
               },
               "id": 18,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 78
               },
               "id": 19,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=~\".+\"}[$__rate_interval])) by (namespace)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "iops"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 84
               },
               "id": 20,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "ceil(sum by(namespace) (rate(container_fs_reads_total{job=\"kubelet\", container!=\"\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]) + rate(container_fs_writes_total{job=\"kubelet\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval])))",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "IOPS(Reads+Writes)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 90
               },
               "id": 21,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(namespace) (rate(container_fs_reads_bytes_total{job=\"kubelet\", container!=\"\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]) + rate(container_fs_writes_bytes_total{job=\"kubelet\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]))",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "ThroughPut(Read+Write)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/IOPS/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "iops"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Throughput/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "Bps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Namespace"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?${datasource:queryparam}&var-cluster=$cluster&var-namespace=${__data.fields.Namespace}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 96
               },
               "id": 22,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(namespace) (rate(container_fs_reads_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(namespace) (rate(container_fs_writes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(namespace) (rate(container_fs_reads_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]) + rate(container_fs_writes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(namespace) (rate(container_fs_reads_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(namespace) (rate(container_fs_writes_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(namespace) (rate(container_fs_reads_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]) + rate(container_fs_writes_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace!=\"\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Storage IO",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "namespace",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 7,
                           "Value #B": 8,
                           "Value #C": 9,
                           "Value #D": 10,
                           "Value #E": 11,
                           "Value #F": 12,
                           "namespace": 6
                        },
                        "renameByName": {
                           "Value #A": "IOPS(Reads)",
                           "Value #B": "IOPS(Writes)",
                           "Value #C": "IOPS(Reads + Writes)",
                           "Value #D": "Throughput(Read)",
                           "Value #E": "Throughput(Write)",
                           "Value #F": "Throughput(Read + Write)",
                           "namespace": "Namespace"
                        }
                     }
                  }
               ],
               "type": "table"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kubelet\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Compute Resources / Cluster",
         "uid": "efa86fd1d0c121a26444b636a3f509a8"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-k8s-resources-namespace-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  k8s-resources-namespace-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 6,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}) / sum(kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"})",
                     "instant": true
                  }
               ],
               "title": "CPU Utilisation (from requests)",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 6,
                  "x": 6,
                  "y": 0
               },
               "id": 2,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}) / sum(kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"})",
                     "instant": true
                  }
               ],
               "title": "CPU Utilisation (from limits)",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 6,
                  "x": 12,
                  "y": 0
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\", image!=\"\"}) / sum(kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"})",
                     "instant": true
                  }
               ],
               "title": "Memory Utilisation (from requests)",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "percentunit"
                  }
               },
               "gridPos": {
                  "h": 3,
                  "w": 6,
                  "x": 18,
                  "y": 0
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\", image!=\"\"}) / sum(kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"})",
                     "instant": true
                  }
               ],
               "title": "Memory Utilisation (from limits)",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     }
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "B"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "red",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "C"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "orange",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 7
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "legendFormat": "__auto"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "scalar(kube_resourcequota{cluster=\"$cluster\", namespace=\"$namespace\", type=\"hard\",resource=\"requests.cpu\"})",
                     "legendFormat": "quota - requests"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "scalar(kube_resourcequota{cluster=\"$cluster\", namespace=\"$namespace\", type=\"hard\",resource=\"limits.cpu\"})",
                     "legendFormat": "quota - limits"
                  }
               ],
               "title": "CPU Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 14
               },
               "id": 6,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "CPU Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Value #A": 6,
                           "Value #B": 7,
                           "Value #C": 8,
                           "Value #D": 9,
                           "Value #E": 10,
                           "pod": 5
                        },
                        "renameByName": {
                           "Value #A": "CPU Usage",
                           "Value #B": "CPU Requests",
                           "Value #C": "CPU Requests %",
                           "Value #D": "CPU Limits",
                           "Value #E": "CPU Limits %",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "B"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "red",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "C"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "orange",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 21
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}) by (pod)",
                     "legendFormat": "__auto"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "scalar(kube_resourcequota{cluster=\"$cluster\", namespace=\"$namespace\", type=\"hard\",resource=\"requests.memory\"})",
                     "legendFormat": "quota - requests"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "scalar(kube_resourcequota{cluster=\"$cluster\", namespace=\"$namespace\", type=\"hard\",resource=\"limits.memory\"})",
                     "legendFormat": "quota - limits"
                  }
               ],
               "title": "Memory Usage (w/o cache)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 28
               },
               "id": 8,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\", image!=\"\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\", image!=\"\"}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\", image!=\"\"}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_rss{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_cache{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_swap{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Memory Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "Time 7": true,
                           "Time 8": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Time 7": 6,
                           "Time 8": 7,
                           "Value #A": 9,
                           "Value #B": 10,
                           "Value #C": 11,
                           "Value #D": 12,
                           "Value #E": 13,
                           "Value #F": 14,
                           "Value #G": 15,
                           "Value #H": 16,
                           "pod": 8
                        },
                        "renameByName": {
                           "Value #A": "Memory Usage",
                           "Value #B": "Memory Requests",
                           "Value #C": "Memory Requests %",
                           "Value #D": "Memory Limits",
                           "Value #E": "Memory Limits %",
                           "Value #F": "Memory Usage (RSS)",
                           "Value #G": "Memory Usage (Cache)",
                           "Value #H": "Memory Usage (Swap)",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Bandwidth/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "Bps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Packets/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "pps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 35
               },
               "id": 9,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Network Usage",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 7,
                           "Value #B": 8,
                           "Value #C": 9,
                           "Value #D": 10,
                           "Value #E": 11,
                           "Value #F": 12,
                           "pod": 6
                        },
                        "renameByName": {
                           "Value #A": "Current Receive Bandwidth",
                           "Value #B": "Current Transmit Bandwidth",
                           "Value #C": "Rate of Received Packets",
                           "Value #D": "Rate of Transmitted Packets",
                           "Value #E": "Rate of Received Packets Dropped",
                           "Value #F": "Rate of Transmitted Packets Dropped",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 42
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_bytes_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 42
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_bytes_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 49
               },
               "id": 12,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_receive_packets_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 49
               },
               "id": 13,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_transmit_packets_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 56
               },
               "id": 14,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_receive_packets_dropped_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 56
               },
               "id": 15,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_transmit_packets_dropped_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "iops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 63
               },
               "id": 16,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "ceil(sum by(pod) (rate(container_fs_reads_total{container!=\"\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]) + rate(container_fs_writes_total{container!=\"\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])))",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "IOPS(Reads+Writes)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 63
               },
               "id": 17,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_reads_bytes_total{container!=\"\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]) + rate(container_fs_writes_bytes_total{container!=\"\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "ThroughPut(Read+Write)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/IOPS/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "iops"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Throughput/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "Bps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 70
               },
               "id": 18,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_reads_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_writes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_reads_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]) + rate(container_fs_writes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_reads_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_writes_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_reads_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]) + rate(container_fs_writes_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Storage IO",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 7,
                           "Value #B": 8,
                           "Value #C": 9,
                           "Value #D": 10,
                           "Value #E": 11,
                           "Value #F": 12,
                           "pod": 6
                        },
                        "renameByName": {
                           "Value #A": "IOPS(Reads)",
                           "Value #B": "IOPS(Writes)",
                           "Value #C": "IOPS(Reads + Writes)",
                           "Value #D": "Throughput(Read)",
                           "Value #E": "Throughput(Write)",
                           "Value #F": "Throughput(Read + Write)",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kube-state-metrics\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "namespace",
                  "name": "namespace",
                  "query": "label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Compute Resources / Namespace (Pods)",
         "uid": "85a562078cdf77779eaa1add43ccec1e"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-k8s-resources-node-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  k8s-resources-node-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true,
                        "stacking": {
                           "mode": "normal"
                        }
                     }
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "max capacity"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "red",
                                 "mode": "fixed"
                              }
                           },
                           {
                              "id": "custom.stacking",
                              "value": {
                                 "mode": "none"
                              }
                           },
                           {
                              "id": "custom.hideFrom",
                              "value": {
                                 "legend": false,
                                 "tooltip": true,
                                 "viz": false
                              }
                           },
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "dash": [
                                    10,
                                    10
                                 ],
                                 "fill": "dash"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(kube_node_status_capacity{cluster=\"$cluster\", node=~\"$node\", resource=\"cpu\"})",
                     "legendFormat": "max capacity"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "legendFormat": "{{pod}}"
                  }
               ],
               "title": "CPU Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 6
               },
               "id": 2,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", node=~\"$node\"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", node=~\"$node\"}) by (pod) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "CPU Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true
                        },
                        "renameByName": {
                           "Value #A": "CPU Usage",
                           "Value #B": "CPU Requests",
                           "Value #C": "CPU Requests %",
                           "Value #D": "CPU Limits",
                           "Value #E": "CPU Limits %",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true,
                        "stacking": {
                           "mode": "normal"
                        }
                     },
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "max capacity"
                        },
                        "properties": [
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "red",
                                 "mode": "fixed"
                              }
                           },
                           {
                              "id": "custom.stacking",
                              "value": {
                                 "mode": "none"
                              }
                           },
                           {
                              "id": "custom.hideFrom",
                              "value": {
                                 "legend": false,
                                 "tooltip": true,
                                 "viz": false
                              }
                           },
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "dash": [
                                    10,
                                    10
                                 ],
                                 "fill": "dash"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 12
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(kube_node_status_capacity{cluster=\"$cluster\", node=~\"$node\", resource=\"memory\"})",
                     "legendFormat": "max capacity"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_memory_working_set_bytes{cluster=\"$cluster\", node=~\"$node\", container!=\"\"}) by (pod)",
                     "legendFormat": "{{pod}}"
                  }
               ],
               "title": "Memory Usage (w/o cache)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 18
               },
               "id": 4,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_memory_working_set_bytes{cluster=\"$cluster\", node=~\"$node\",container!=\"\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_memory_working_set_bytes{cluster=\"$cluster\", node=~\"$node\",container!=\"\"}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_memory_working_set_bytes{cluster=\"$cluster\", node=~\"$node\",container!=\"\"}) by (pod) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{cluster=\"$cluster\", node=~\"$node\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_memory_rss{cluster=\"$cluster\", node=~\"$node\",container!=\"\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_memory_cache{cluster=\"$cluster\", node=~\"$node\",container!=\"\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_memory_swap{cluster=\"$cluster\", node=~\"$node\",container!=\"\"}) by (pod)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Memory Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "Time 7": true,
                           "Time 8": true
                        },
                        "renameByName": {
                           "Value #A": "Memory Usage",
                           "Value #B": "Memory Requests",
                           "Value #C": "Memory Requests %",
                           "Value #D": "Memory Limits",
                           "Value #E": "Memory Limits %",
                           "Value #F": "Memory Usage (RSS)",
                           "Value #G": "Memory Usage (Cache)",
                           "Value #H": "Memory Usage (Swap)",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kube-state-metrics\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "node",
                  "multi": true,
                  "name": "node",
                  "query": "label_values(kube_node_info{cluster=\"$cluster\"}, node)",
                  "refresh": 2,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Compute Resources / Node (Pods)",
         "uid": "200ac8fdbfbb74b39aff88118e4d1c2c"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-k8s-resources-pod-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  k8s-resources-pod-dashboard.json: |-
    
      {
         "annotations": {
            "list": [
               {
                  "builtIn": 1,
                  "datasource": {
                     "type": "grafana",
                     "uid": "-- Grafana --"
                  },
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "enable": true,
                  "expr": "changes(kube_pod_container_status_restarts_total{pod=\"$pod\"}[$__interval]) > 0",
                  "iconColor": "red",
                  "name": "Container restart",
                  "step": "",
                  "textFormat": "Container \"{{ container }}\" restarted",
                  "titleFormat": "Container restarted"
               }
            ]
         },
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     }
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "B"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "red",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "C"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "orange",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{namespace=\"$namespace\", pod=\"$pod\", cluster=\"$cluster\", container!=\"\"}) by (container)",
                     "legendFormat": "__auto"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", resource=\"cpu\"}\n)\n",
                     "legendFormat": "requests"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", resource=\"cpu\"}\n)\n",
                     "legendFormat": "limits"
                  }
               ],
               "title": "CPU Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "axisColorMode": "thresholds",
                        "axisSoftMax": 1,
                        "axisSoftMin": 0,
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true,
                        "thresholdsStyle": {
                           "mode": "dashed+area"
                        }
                     },
                     "unit": "percentunit"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "A"
                        },
                        "properties": [
                           {
                              "id": "thresholds",
                              "value": {
                                 "mode": "absolute",
                                 "steps": [
                                    {
                                       "color": "green",
                                       "value": null
                                    },
                                    {
                                       "color": "red",
                                       "value": 0.25
                                    }
                                 ]
                              }
                           },
                           {
                              "id": "color",
                              "value": {
                                 "mode": "thresholds",
                                 "seriesBy": "lastNotNull"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 7
               },
               "id": 2,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(increase(container_cpu_cfs_throttled_periods_total{job=\"kubelet\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\", cluster=\"$cluster\"}[$__rate_interval])) by (container) /sum(increase(container_cpu_cfs_periods_total{job=\"kubelet\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\", cluster=\"$cluster\"}[$__rate_interval])) by (container)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "CPU Throttling",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 14
               },
               "id": 3,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}) by (container) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}) by (container) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_limits{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}) by (container)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "CPU Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "container",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Value #A": 6,
                           "Value #B": 7,
                           "Value #C": 8,
                           "Value #D": 9,
                           "Value #E": 10,
                           "container": 5
                        },
                        "renameByName": {
                           "Value #A": "CPU Usage",
                           "Value #B": "CPU Requests",
                           "Value #C": "CPU Requests %",
                           "Value #D": "CPU Limits",
                           "Value #E": "CPU Limits %",
                           "container": "Container"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "B"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "red",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "C"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "orange",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 21
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\", image!=\"\"}) by (container)",
                     "legendFormat": "__auto"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", resource=\"memory\"}\n)\n",
                     "legendFormat": "requests"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", resource=\"memory\"}\n)\n",
                     "legendFormat": "limits"
                  }
               ],
               "title": "Memory Usage (WSS)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 28
               },
               "id": 5,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\", image!=\"\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", image!=\"\"}) by (container) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\", image!=\"\"}) by (container) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_limits{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_rss{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container != \"\", container != \"POD\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_cache{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container != \"\", container != \"POD\"}) by (container)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(container_memory_swap{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container != \"\", container != \"POD\"}) by (container)",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Memory Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "container",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "Time 7": true,
                           "Time 8": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Time 7": 6,
                           "Time 8": 7,
                           "Value #A": 9,
                           "Value #B": 10,
                           "Value #C": 11,
                           "Value #D": 12,
                           "Value #E": 13,
                           "Value #F": 14,
                           "Value #G": 15,
                           "Value #H": 16,
                           "container": 8
                        },
                        "renameByName": {
                           "Value #A": "Memory Usage",
                           "Value #B": "Memory Requests",
                           "Value #C": "Memory Requests %",
                           "Value #D": "Memory Limits",
                           "Value #E": "Memory Limits %",
                           "Value #F": "Memory Usage (RSS)",
                           "Value #G": "Memory Usage (Cache)",
                           "Value #H": "Memory Usage (Swap)",
                           "container": "Container"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 35
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(irate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 35
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 42
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 42
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 49
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 49
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "iops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 56
               },
               "id": 12,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "ceil(sum by(pod) (rate(container_fs_reads_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval])))",
                     "legendFormat": "Reads"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "ceil(sum by(pod) (rate(container_fs_writes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\",namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval])))",
                     "legendFormat": "Writes"
                  }
               ],
               "title": "IOPS (Pod)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 56
               },
               "id": 13,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_reads_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval]))",
                     "legendFormat": "Reads"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(pod) (rate(container_fs_writes_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[$__rate_interval]))",
                     "legendFormat": "Writes"
                  }
               ],
               "title": "ThroughPut (Pod)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "iops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 63
               },
               "id": 14,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "ceil(sum by(container) (rate(container_fs_reads_total{job=\"kubelet\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]) + rate(container_fs_writes_total{job=\"kubelet\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval])))",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "IOPS (Containers)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 63
               },
               "id": 15,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(container) (rate(container_fs_reads_bytes_total{job=\"kubelet\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]) + rate(container_fs_writes_bytes_total{job=\"kubelet\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]))",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "ThroughPut (Containers)",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/IOPS/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "iops"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Throughput/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "Bps"
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 70
               },
               "id": 16,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(container) (rate(container_fs_reads_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(container) (rate(container_fs_writes_total{job=\"kubelet\",device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(container) (rate(container_fs_reads_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]) + rate(container_fs_writes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(container) (rate(container_fs_reads_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(container) (rate(container_fs_writes_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by(container) (rate(container_fs_reads_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]) + rate(container_fs_writes_bytes_total{job=\"kubelet\", device=~\"(/dev.+)|mmcblk.p.+|nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+|dasd.+\", container!=\"\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[$__rate_interval]))",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Storage IO",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "container",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 7,
                           "Value #B": 8,
                           "Value #C": 9,
                           "Value #D": 10,
                           "Value #E": 11,
                           "Value #F": 12,
                           "container": 6
                        },
                        "renameByName": {
                           "Value #A": "IOPS(Reads)",
                           "Value #B": "IOPS(Writes)",
                           "Value #C": "IOPS(Reads + Writes)",
                           "Value #D": "Throughput(Read)",
                           "Value #E": "Throughput(Write)",
                           "Value #F": "Throughput(Read + Write)",
                           "container": "Container"
                        }
                     }
                  }
               ],
               "type": "table"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kube-state-metrics\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "namespace",
                  "name": "namespace",
                  "query": "label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "pod",
                  "name": "pod",
                  "query": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\"}, pod)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Compute Resources / Pod",
         "uid": "6581e46e4e5c7ba40a07646395ef7b23"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-k8s-resources-workload-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  k8s-resources-workload-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     }
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "CPU Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 7
               },
               "id": 2,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n/sum(\n    kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n/sum(\n    kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "CPU Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Value #A": 6,
                           "Value #B": 7,
                           "Value #C": 8,
                           "Value #D": 9,
                           "Value #E": 10,
                           "pod": 5
                        },
                        "renameByName": {
                           "Value #A": "CPU Usage",
                           "Value #B": "CPU Requests",
                           "Value #C": "CPU Requests %",
                           "Value #D": "CPU Limits",
                           "Value #E": "CPU Limits %",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "bytes"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 14
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Memory Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 21
               },
               "id": 4,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n/sum(\n    kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n/sum(\n    kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=~\"$type\"}\n) by (pod)\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Memory Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Value #A": 9,
                           "Value #B": 10,
                           "Value #C": 11,
                           "Value #D": 12,
                           "Value #E": 13,
                           "pod": 8
                        },
                        "renameByName": {
                           "Value #A": "Memory Usage",
                           "Value #B": "Memory Requests",
                           "Value #C": "Memory Requests %",
                           "Value #D": "Memory Limits",
                           "Value #E": "Memory Limits %",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Bandwidth/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "Bps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Packets/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "pps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to pods",
                                    "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 28
               },
               "id": 5,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Network Usage",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 7,
                           "Value #B": 8,
                           "Value #C": 9,
                           "Value #D": 10,
                           "Value #E": 11,
                           "Value #F": 12,
                           "pod": 6
                        },
                        "renameByName": {
                           "Value #A": "Current Receive Bandwidth",
                           "Value #B": "Current Transmit Bandwidth",
                           "Value #C": "Rate of Received Packets",
                           "Value #D": "Rate of Transmitted Packets",
                           "Value #E": "Rate of Received Packets Dropped",
                           "Value #F": "Rate of Transmitted Packets Dropped",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 35
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 35
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 42
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(avg(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Container Bandwidth by Pod: Received",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 42
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(avg(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Container Bandwidth by Pod: Transmitted",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 49
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 49
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 56
               },
               "id": 12,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 56
               },
               "id": 13,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kube-state-metrics\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "namespace",
                  "name": "namespace",
                  "query": "label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "workload_type",
                  "name": "type",
                  "query": "label_values(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\"}, workload_type)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "workload",
                  "name": "workload",
                  "query": "label_values(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}, workload)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Compute Resources / Workload",
         "uid": "a164a7f0339f99e89cea5cb47e9be617"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-k8s-resources-workloads-namespace-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  k8s-resources-workloads-namespace-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     }
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "B"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "red",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "C"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "orange",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n  node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "legendFormat": "{{workload}} - {{workload_type}}"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "scalar(kube_resourcequota{cluster=\"$cluster\", namespace=\"$namespace\", type=\"hard\",resource=\"requests.cpu\"})",
                     "legendFormat": "quota - requests"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "scalar(kube_resourcequota{cluster=\"$cluster\", namespace=\"$namespace\", type=\"hard\",resource=\"limits.cpu\"})",
                     "legendFormat": "quota - limits"
                  }
               ],
               "title": "CPU Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Workload"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to workloads",
                                    "url": "/d/a164a7f0339f99e89cea5cb47e9be617/k8s-resources-workload?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-type=${__data.fields.Type}&var-workload=${__data.fields.Workload}"
                                 }
                              ]
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Running Pods"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "none"
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 7
               },
               "id": 2,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "count(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}) by (workload, workload_type)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n  node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n  kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n  node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n/sum(\n  kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n  kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n  node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\", namespace=\"$namespace\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n/sum(\n  kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "CPU Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "workload",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "workload_type 2": true,
                           "workload_type 3": true,
                           "workload_type 4": true,
                           "workload_type 5": true,
                           "workload_type 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 8,
                           "Value #B": 9,
                           "Value #C": 10,
                           "Value #D": 11,
                           "Value #E": 12,
                           "Value #F": 13,
                           "workload": 6,
                           "workload_type 1": 7,
                           "workload_type 2": 14,
                           "workload_type 3": 15,
                           "workload_type 4": 16,
                           "workload_type 5": 17,
                           "workload_type 6": 18
                        },
                        "renameByName": {
                           "Value #A": "Running Pods",
                           "Value #B": "CPU Usage",
                           "Value #C": "CPU Requests",
                           "Value #D": "CPU Requests %",
                           "Value #E": "CPU Limits",
                           "Value #F": "CPU Limits %",
                           "workload": "Workload",
                           "workload_type 1": "Type"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "B"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "red",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byFrameRefID",
                           "options": "C"
                        },
                        "properties": [
                           {
                              "id": "custom.lineStyle",
                              "value": {
                                 "fill": "dash"
                              }
                           },
                           {
                              "id": "custom.lineWidth",
                              "value": 2
                           },
                           {
                              "id": "color",
                              "value": {
                                 "fixedColor": "orange",
                                 "mode": "fixed"
                              }
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 14
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "legendFormat": "{{workload}} - {{workload_type}}"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "scalar(kube_resourcequota{cluster=\"$cluster\", namespace=\"$namespace\", type=\"hard\",resource=\"requests.memory\"})",
                     "legendFormat": "quota - requests"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "scalar(kube_resourcequota{cluster=\"$cluster\", namespace=\"$namespace\", type=\"hard\",resource=\"limits.memory\"})",
                     "legendFormat": "quota - limits"
                  }
               ],
               "title": "Memory Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "bytes"
                  },
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/%/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "percentunit"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Workload"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to workloads",
                                    "url": "/d/a164a7f0339f99e89cea5cb47e9be617/k8s-resources-workload?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-type=${__data.fields.Type}&var-workload=${__data.fields.Workload}"
                                 }
                              ]
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Running Pods"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "none"
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 21
               },
               "id": 4,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "count(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}) by (workload, workload_type)",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n  kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n/sum(\n  kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n  kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(\n    container_memory_working_set_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n/sum(\n  kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n* on(namespace,pod)\n  group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}\n) by (workload, workload_type)\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Memory Quota",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "workload",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "workload_type 2": true,
                           "workload_type 3": true,
                           "workload_type 4": true,
                           "workload_type 5": true,
                           "workload_type 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 8,
                           "Value #B": 9,
                           "Value #C": 10,
                           "Value #D": 11,
                           "Value #E": 12,
                           "Value #F": 13,
                           "workload": 6,
                           "workload_type 1": 7,
                           "workload_type 2": 14,
                           "workload_type 3": 15,
                           "workload_type 4": 16,
                           "workload_type 5": 17,
                           "workload_type 6": 18
                        },
                        "renameByName": {
                           "Value #A": "Running Pods",
                           "Value #B": "Memory Usage",
                           "Value #C": "Memory Requests",
                           "Value #D": "Memory Requests %",
                           "Value #E": "Memory Limits",
                           "Value #F": "Memory Limits %",
                           "workload": "Workload",
                           "workload_type 1": "Type"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Bandwidth/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "Bps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Packets/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "pps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Workload"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down to workloads",
                                    "url": "/d/a164a7f0339f99e89cea5cb47e9be617/k8s-resources-workload?${datasource:queryparam}&var-cluster=$cluster&var-namespace=$namespace&var-type=${__data.fields.Type}&var-workload=${__data.fields.Workload}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 28
               },
               "id": 5,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}) by (workload))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}) by (workload))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}) by (workload))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}) by (workload))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}) by (workload))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload_type=~\"$type\"}) by (workload))\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Network Usage",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "workload",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 7,
                           "Value #B": 8,
                           "Value #C": 9,
                           "Value #D": 10,
                           "Value #E": 11,
                           "Value #F": 12,
                           "workload": 6
                        },
                        "renameByName": {
                           "Value #A": "Current Receive Bandwidth",
                           "Value #B": "Current Transmit Bandwidth",
                           "Value #C": "Rate of Received Packets",
                           "Value #D": "Rate of Transmitted Packets",
                           "Value #E": "Rate of Received Packets Dropped",
                           "Value #F": "Rate of Transmitted Packets Dropped",
                           "workload": "Workload"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 35
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 35
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 42
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(avg(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Container Bandwidth by Workload: Received",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 42
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(avg(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Container Bandwidth by Workload: Transmitted",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 49
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 49
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 56
               },
               "id": 12,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 56
               },
               "id": 13,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(sum(rate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kube-state-metrics\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "namespace",
                  "name": "namespace",
                  "query": "label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "workload_type",
                  "name": "type",
                  "query": "label_values(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\"}, workload_type)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Compute Resources / Namespace (Workloads)",
         "uid": "a87fb0d919ec0ea5f6543124e16c42a5"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-kubelet-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  kubelet-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "none"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 4,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(kubelet_node_name{cluster=\"$cluster\", job=\"kubelet\"})",
                     "instant": true
                  }
               ],
               "title": "Running Kubelets",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "none"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 4,
                  "x": 4,
                  "y": 0
               },
               "id": 2,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(kubelet_running_pods{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\"})",
                     "instant": true
                  }
               ],
               "title": "Running Pods",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "none"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 4,
                  "x": 8,
                  "y": 0
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(kubelet_running_containers{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\"})",
                     "instant": true
                  }
               ],
               "title": "Running Containers",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "none"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 4,
                  "x": 12,
                  "y": 0
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(volume_manager_total_volumes{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\", state=\"actual_state_of_world\"})",
                     "instant": true
                  }
               ],
               "title": "Actual Volume Count",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "none"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 4,
                  "x": 16,
                  "y": 0
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(volume_manager_total_volumes{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\",state=\"desired_state_of_world\"})",
                     "instant": true
                  }
               ],
               "title": "Desired Volume Count",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "none"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 4,
                  "x": 20,
                  "y": 0
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubelet_node_config_error{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\"}[$__rate_interval]))",
                     "instant": true
                  }
               ],
               "title": "Config Error Count",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 7
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubelet_runtime_operations_total{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (operation_type, instance)",
                     "legendFormat": "{{instance}} {{operation_type}}"
                  }
               ],
               "title": "Operation Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 7
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubelet_runtime_operations_errors_total{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance, operation_type)",
                     "legendFormat": "{{instance}} {{operation_type}}"
                  }
               ],
               "title": "Operation Error Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 14
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(kubelet_runtime_operations_duration_seconds_bucket{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance, operation_type, le))",
                     "legendFormat": "{{instance}} {{operation_type}}"
                  }
               ],
               "title": "Operation Duration 99th quantile",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 21
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubelet_pod_start_duration_seconds_count{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance)",
                     "legendFormat": "{{instance}} pod"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubelet_pod_worker_duration_seconds_count{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance)",
                     "legendFormat": "{{instance}} worker"
                  }
               ],
               "title": "Pod Start Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 21
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(kubelet_pod_start_duration_seconds_bucket{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance, le))",
                     "legendFormat": "{{instance}} pod"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(kubelet_pod_worker_duration_seconds_bucket{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance, le))",
                     "legendFormat": "{{instance}} worker"
                  }
               ],
               "title": "Pod Start Duration",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 28
               },
               "id": 12,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(storage_operation_duration_seconds_count{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance, operation_name, volume_plugin)",
                     "legendFormat": "{{instance}} {{operation_name}} {{volume_plugin}}"
                  }
               ],
               "title": "Storage Operation Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 28
               },
               "id": 13,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(storage_operation_errors_total{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance, operation_name, volume_plugin)",
                     "legendFormat": "{{instance}} {{operation_name}} {{volume_plugin}}"
                  }
               ],
               "title": "Storage Operation Error Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 35
               },
               "id": 14,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(storage_operation_duration_seconds_bucket{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\"}[$__rate_interval])) by (instance, operation_name, volume_plugin, le))",
                     "legendFormat": "{{instance}} {{operation_name}} {{volume_plugin}}"
                  }
               ],
               "title": "Storage Operation Duration 99th quantile",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 42
               },
               "id": 15,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubelet_cgroup_manager_duration_seconds_count{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\"}[$__rate_interval])) by (instance, operation_type)",
                     "legendFormat": "{{operation_type}}"
                  }
               ],
               "title": "Cgroup manager operation rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 42
               },
               "id": 16,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(kubelet_cgroup_manager_duration_seconds_bucket{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\"}[$__rate_interval])) by (instance, operation_type, le))",
                     "legendFormat": "{{instance}} {{operation_type}}"
                  }
               ],
               "title": "Cgroup manager 99th quantile",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 49
               },
               "id": 17,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubelet_pleg_relist_duration_seconds_count{cluster=\"$cluster\", job=\"kubelet\", instance=~\"$instance\"}[$__rate_interval])) by (instance)",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "PLEG relist rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 49
               },
               "id": 18,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(kubelet_pleg_relist_interval_seconds_bucket{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance, le))",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "PLEG relist interval",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 56
               },
               "id": 19,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(kubelet_pleg_relist_duration_seconds_bucket{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])) by (instance, le))",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "PLEG relist duration",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 63
               },
               "id": 20,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(rest_client_requests_total{cluster=\"$cluster\",job=\"kubelet\", instance=~\"$instance\",code=~\"2..\"}[$__rate_interval]))",
                     "legendFormat": "2xx"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(rest_client_requests_total{cluster=\"$cluster\",job=\"kubelet\", instance=~\"$instance\",code=~\"3..\"}[$__rate_interval]))",
                     "legendFormat": "3xx"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(rest_client_requests_total{cluster=\"$cluster\",job=\"kubelet\", instance=~\"$instance\",code=~\"4..\"}[$__rate_interval]))",
                     "legendFormat": "4xx"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(rest_client_requests_total{cluster=\"$cluster\",job=\"kubelet\", instance=~\"$instance\",code=~\"5..\"}[$__rate_interval]))",
                     "legendFormat": "5xx"
                  }
               ],
               "title": "RPC rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 70
               },
               "id": 21,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(rest_client_request_duration_seconds_bucket{cluster=\"$cluster\",job=\"kubelet\", instance=~\"$instance\"}[$__rate_interval])) by (instance, verb, url, le))",
                     "legendFormat": "{{instance}} {{verb}} {{url}}"
                  }
               ],
               "title": "Request duration 99th quantile",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "bytes"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 77
               },
               "id": 22,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "process_resident_memory_bytes{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "Memory",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "short"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 77
               },
               "id": 23,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "rate(process_cpu_seconds_total{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}[$__rate_interval])",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "CPU usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "short"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 77
               },
               "id": 24,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "go_goroutines{cluster=\"$cluster\",job=\"kubelet\",instance=~\"$instance\"}",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "Goroutines",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kubelet\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "instance",
                  "name": "instance",
                  "query": "label_values(up{job=\"kubelet\",cluster=\"$cluster\"}, instance)",
                  "refresh": 2,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Kubelet",
         "uid": "3138fa155d5915769fbded898ac09fd9"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-namespace-by-pod-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  namespace-by-pod-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "displayName": "$namespace",
                     "max": 10000000000,
                     "min": 0,
                     "thresholds": {
                        "steps": [
                           {
                              "color": "dark-green",
                              "index": 0,
                              "value": null
                           },
                           {
                              "color": "dark-yellow",
                              "index": 1,
                              "value": 5000000000
                           },
                           {
                              "color": "dark-red",
                              "index": 2,
                              "value": 7000000000
                           }
                        ]
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum (\n    rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Received",
               "type": "gauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "displayName": "$namespace",
                     "max": 10000000000,
                     "min": 0,
                     "thresholds": {
                        "steps": [
                           {
                              "color": "dark-green",
                              "index": 0,
                              "value": null
                           },
                           {
                              "color": "dark-yellow",
                              "index": 1,
                              "value": 5000000000
                           },
                           {
                              "color": "dark-red",
                              "index": 2,
                              "value": 7000000000
                           }
                        ]
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 0
               },
               "id": 2,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum (\n    rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Transmitted",
               "type": "gauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Bandwidth/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "Bps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Packets/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "pps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Pod"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down",
                                    "url": "/d/7a18067ce943a40ae25454675c19ff5c/kubernetes-networking-pod?${datasource:queryparam}&var-cluster=${cluster}&var-namespace=${namespace}&var-pod=${__data.fields.Pod}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 9,
                  "w": 24,
                  "x": 0,
                  "y": 9
               },
               "id": 3,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_receive_packets_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_transmit_packets_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_receive_packets_dropped_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_transmit_packets_dropped_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Network Usage",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "pod",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Value #A": 7,
                           "Value #B": 8,
                           "Value #C": 9,
                           "Value #D": 10,
                           "Value #E": 11,
                           "Value #F": 12,
                           "pod": 6
                        },
                        "renameByName": {
                           "Value #A": "Current Receive Bandwidth",
                           "Value #B": "Current Transmit Bandwidth",
                           "Value #C": "Rate of Received Packets",
                           "Value #D": "Rate of Transmitted Packets",
                           "Value #E": "Rate of Received Packets Dropped",
                           "Value #F": "Rate of Transmitted Packets Dropped",
                           "pod": "Pod"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 18
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 18
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 27
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_receive_packets_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 27
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_transmit_packets_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 36
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_receive_packets_dropped_total{cluster=\"$cluster\",namespace!=\"\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 36
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum by (pod) (\n    rate(container_network_transmit_packets_dropped_total{cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n  * on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n)\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kubelet\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "allValue": ".+",
                  "current": {
                     "selected": false,
                     "text": "kube-system",
                     "value": "kube-system"
                  },
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "namespace",
                  "name": "namespace",
                  "query": "label_values(container_network_receive_packets_total{cluster=\"$cluster\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Networking / Namespace (Pods)",
         "uid": "8b7a8b326d7a6f1f04244066368c67af"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-namespace-by-workload-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  namespace-by-workload-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "color": {
                        "fixedColor": "green",
                        "mode": "fixed"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "options": {
                  "displayMode": "basic",
                  "showUnfilled": false
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Received",
               "type": "bargauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "color": {
                        "fixedColor": "green",
                        "mode": "fixed"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 0
               },
               "id": 2,
               "options": {
                  "displayMode": "basic",
                  "showUnfilled": false
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Transmitted",
               "type": "bargauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "overrides": [
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Bytes/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "binBps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byRegexp",
                           "options": "/Packets/"
                        },
                        "properties": [
                           {
                              "id": "unit",
                              "value": "pps"
                           }
                        ]
                     },
                     {
                        "matcher": {
                           "id": "byName",
                           "options": "Workload"
                        },
                        "properties": [
                           {
                              "id": "links",
                              "value": [
                                 {
                                    "title": "Drill down",
                                    "url": "/d/728bf77cc1166d2f3133bf25846876cc/kubernetes-networking-workload?${datasource:queryparam}&var-cluster=${cluster}&var-namespace=${namespace}&var-type=${__data.fields.Type}&var-workload=${__data.fields.Workload}"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               },
               "gridPos": {
                  "h": 9,
                  "w": 24,
                  "x": 0,
                  "y": 9
               },
               "id": 3,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod) kube_pod_info{cluster=\"$cluster\",namespace=\"$namespace\",host_network=\"false\"}\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload, workload_type))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod) kube_pod_info{cluster=\"$cluster\",namespace=\"$namespace\",host_network=\"false\"}\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload, workload_type))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(avg(rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod) kube_pod_info{cluster=\"$cluster\",namespace=\"$namespace\",host_network=\"false\"}\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload, workload_type))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(avg(rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod) kube_pod_info{cluster=\"$cluster\",namespace=\"$namespace\",host_network=\"false\"}\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload, workload_type))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_packets_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod) kube_pod_info{cluster=\"$cluster\",namespace=\"$namespace\",host_network=\"false\"}\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload, workload_type))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_packets_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod) kube_pod_info{cluster=\"$cluster\",namespace=\"$namespace\",host_network=\"false\"}\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload, workload_type))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_packets_dropped_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod) kube_pod_info{cluster=\"$cluster\",namespace=\"$namespace\",host_network=\"false\"}\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload, workload_type))\n",
                     "format": "table",
                     "instant": true
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_packets_dropped_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (namespace,pod) kube_pod_info{cluster=\"$cluster\",namespace=\"$namespace\",host_network=\"false\"}\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload, workload_type))\n",
                     "format": "table",
                     "instant": true
                  }
               ],
               "title": "Current Status",
               "transformations": [
                  {
                     "id": "joinByField",
                     "options": {
                        "byField": "workload",
                        "mode": "outer"
                     }
                  },
                  {
                     "id": "organize",
                     "options": {
                        "excludeByName": {
                           "Time": true,
                           "Time 1": true,
                           "Time 2": true,
                           "Time 3": true,
                           "Time 4": true,
                           "Time 5": true,
                           "Time 6": true,
                           "Time 7": true,
                           "Time 8": true,
                           "workload_type 2": true,
                           "workload_type 3": true,
                           "workload_type 4": true,
                           "workload_type 5": true,
                           "workload_type 6": true,
                           "workload_type 7": true,
                           "workload_type 8": true
                        },
                        "indexByName": {
                           "Time 1": 0,
                           "Time 2": 1,
                           "Time 3": 2,
                           "Time 4": 3,
                           "Time 5": 4,
                           "Time 6": 5,
                           "Time 7": 6,
                           "Time 8": 7,
                           "Value #A": 10,
                           "Value #B": 11,
                           "Value #C": 12,
                           "Value #D": 13,
                           "Value #E": 14,
                           "Value #F": 15,
                           "Value #G": 16,
                           "Value #H": 17,
                           "workload": 8,
                           "workload_type 1": 9,
                           "workload_type 2": 18,
                           "workload_type 3": 19,
                           "workload_type 4": 20,
                           "workload_type 5": 21,
                           "workload_type 6": 22,
                           "workload_type 7": 23,
                           "workload_type 8": 24
                        },
                        "renameByName": {
                           "Value #A": "Rx Bytes",
                           "Value #B": "Tx Bytes",
                           "Value #C": "Rx Bytes (Avg)",
                           "Value #D": "Tx Bytes (Avg)",
                           "Value #E": "Rx Packets",
                           "Value #F": "Tx Packets",
                           "Value #G": "Rx Packets Dropped",
                           "Value #H": "Tx Packets Dropped",
                           "workload": "Workload",
                           "workload_type 1": "Type"
                        }
                     }
                  }
               ],
               "type": "table"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 18
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 18
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 27
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(avg(rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Container Bandwidth by Workload: Received",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 27
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(avg(rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Container Bandwidth by Workload: Transmitted",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 36
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_packets_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 36
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_packets_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 45
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_packets_dropped_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 45
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_packets_dropped_total{cluster=\"$cluster\",namespace=\"$namespace\"}[$__rate_interval])\n* on (cluster,namespace,pod) group_left ()\n    topk by (cluster,namespace,pod) (\n      1,\n      max by (cluster,namespace,pod) (kube_pod_info{host_network=\"false\"})\n    )\n* on (cluster,namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=\"$namespace\", workload=~\".+\", workload_type=~\"$type\"}) by (workload))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kubelet\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "current": {
                     "selected": false,
                     "text": "kube-system",
                     "value": "kube-system"
                  },
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "namespace",
                  "name": "namespace",
                  "query": "label_values(container_network_receive_packets_total{cluster=\"$cluster\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "workload_type",
                  "name": "type",
                  "query": "label_values(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\".+\"}, workload_type)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Networking / Namespace (Workload)",
         "uid": "bbb2a765a623ae38130206c7d94a160f"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-persistentvolumesusage-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  persistentvolumesusage-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "bytes"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 18,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(\n  sum without(instance, node) (topk(1, (kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})))\n  -\n  sum without(instance, node) (topk(1, (kubelet_volume_stats_available_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})))\n)\n",
                     "legendFormat": "Used Space"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum without(instance, node) (topk(1, (kubelet_volume_stats_available_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})))\n",
                     "legendFormat": "Free Space"
                  }
               ],
               "title": "Volume Space Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "color": {
                        "mode": "thresholds"
                     },
                     "max": 100,
                     "min": 0,
                     "thresholds": {
                        "mode": "absolute",
                        "steps": [
                           {
                              "color": "green",
                              "value": 0
                           },
                           {
                              "color": "orange",
                              "value": 80
                           },
                           {
                              "color": "red",
                              "value": 90
                           }
                        ]
                     },
                     "unit": "percent"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 0
               },
               "id": 2,
               "interval": "1m",
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "max without(instance,node) (\n(\n  topk(1, kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n  -\n  topk(1, kubelet_volume_stats_available_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n)\n/\ntopk(1, kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n* 100)\n",
                     "instant": true
                  }
               ],
               "title": "Volume Space Usage",
               "type": "gauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "none"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 18,
                  "y": 7
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum without(instance, node) (topk(1, (kubelet_volume_stats_inodes_used{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})))",
                     "legendFormat": "Used inodes"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "(\n  sum without(instance, node) (topk(1, (kubelet_volume_stats_inodes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})))\n  -\n  sum without(instance, node) (topk(1, (kubelet_volume_stats_inodes_used{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})))\n)\n",
                     "legendFormat": "Free inodes"
                  }
               ],
               "title": "Volume inodes Usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "color": {
                        "mode": "thresholds"
                     },
                     "max": 100,
                     "min": 0,
                     "thresholds": {
                        "mode": "absolute",
                        "steps": [
                           {
                              "color": "green",
                              "value": 0
                           },
                           {
                              "color": "orange",
                              "value": 80
                           },
                           {
                              "color": "red",
                              "value": 90
                           }
                        ]
                     },
                     "unit": "percent"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 7
               },
               "id": 4,
               "interval": "1m",
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "max without(instance,node) (\ntopk(1, kubelet_volume_stats_inodes_used{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n/\ntopk(1, kubelet_volume_stats_inodes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n* 100)\n",
                     "instant": true
                  }
               ],
               "title": "Volume inodes Usage",
               "type": "gauge"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(kubelet_volume_stats_capacity_bytes{job=\"kubelet\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "Namespace",
                  "name": "namespace",
                  "query": "label_values(kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "PersistentVolumeClaim",
                  "name": "volume",
                  "query": "label_values(kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\"}, persistentvolumeclaim)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Persistent Volumes",
         "uid": "919b92a8e8041bd567af9edab12c840c"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-pod-total-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  pod-total-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "displayName": "$pod",
                     "max": 10000000000,
                     "min": 0,
                     "thresholds": {
                        "steps": [
                           {
                              "color": "dark-green",
                              "index": 0,
                              "value": null
                           },
                           {
                              "color": "dark-yellow",
                              "index": 1,
                              "value": 5000000000
                           },
                           {
                              "color": "dark-red",
                              "index": 2,
                              "value": 7000000000
                           }
                        ]
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\", pod=~\"$pod\"}[$__rate_interval]))",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Received",
               "type": "gauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "displayName": "$pod",
                     "max": 10000000000,
                     "min": 0,
                     "thresholds": {
                        "steps": [
                           {
                              "color": "dark-green",
                              "index": 0,
                              "value": null
                           },
                           {
                              "color": "dark-yellow",
                              "index": 1,
                              "value": 5000000000
                           },
                           {
                              "color": "dark-red",
                              "index": 2,
                              "value": 7000000000
                           }
                        ]
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 0
               },
               "id": 2,
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\", pod=~\"$pod\"}[$__rate_interval]))",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Transmitted",
               "type": "gauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 9
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 9
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_bytes_total{cluster=\"$cluster\",namespace=~\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 18
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_packets_total{cluster=\"$cluster\",namespace=~\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 18
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_packets_total{cluster=\"$cluster\",namespace=~\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 27
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_receive_packets_dropped_total{cluster=\"$cluster\",namespace=~\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "showPoints": "never"
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 27
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(container_network_transmit_packets_dropped_total{cluster=\"$cluster\",namespace=~\"$namespace\", pod=~\"$pod\"}[$__rate_interval])) by (pod)",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kubelet\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "allValue": ".+",
                  "current": {
                     "selected": false,
                     "text": "kube-system",
                     "value": "kube-system"
                  },
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "namespace",
                  "name": "namespace",
                  "query": "label_values(container_network_receive_packets_total{cluster=\"$cluster\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "current": {
                     "selected": false,
                     "text": "kube-system",
                     "value": "kube-system"
                  },
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "pod",
                  "name": "pod",
                  "query": "label_values(container_network_receive_packets_total{cluster=\"$cluster\",namespace=~\"$namespace\"}, pod)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Networking / Pod",
         "uid": "7a18067ce943a40ae25454675c19ff5c"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-proxy-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  proxy-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "unit": "none"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 4,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "interval": "1m",
               "options": {
                  "colorMode": "none"
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(up{cluster=\"$cluster\", job=\"kube-proxy\"})",
                     "instant": true
                  }
               ],
               "title": "Up",
               "type": "stat"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 10,
                  "x": 4,
                  "y": 0
               },
               "id": 2,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubeproxy_sync_proxy_rules_duration_seconds_count{cluster=\"$cluster\", job=\"kube-proxy\", instance=~\"$instance\"}[$__rate_interval]))",
                     "legendFormat": "rate"
                  }
               ],
               "title": "Rules Sync Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 10,
                  "x": 14,
                  "y": 0
               },
               "id": 3,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99,rate(kubeproxy_sync_proxy_rules_duration_seconds_bucket{cluster=\"$cluster\", job=\"kube-proxy\", instance=~\"$instance\"}[$__rate_interval]))",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "Rules Sync Latency 99th Quantile",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 7
               },
               "id": 4,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(kubeproxy_network_programming_duration_seconds_count{cluster=\"$cluster\", job=\"kube-proxy\", instance=~\"$instance\"}[$__rate_interval]))",
                     "legendFormat": "rate"
                  }
               ],
               "title": "Network Programming Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 7
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(kubeproxy_network_programming_duration_seconds_bucket{cluster=\"$cluster\", job=\"kube-proxy\", instance=~\"$instance\"}[$__rate_interval])) by (instance, le))",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "Network Programming Latency 99th Quantile",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 14
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(rest_client_requests_total{cluster=\"$cluster\",job=\"kube-proxy\", instance=~\"$instance\",code=~\"2..\"}[$__rate_interval]))",
                     "legendFormat": "2xx"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(rest_client_requests_total{cluster=\"$cluster\",job=\"kube-proxy\", instance=~\"$instance\",code=~\"3..\"}[$__rate_interval]))",
                     "legendFormat": "3xx"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(rest_client_requests_total{cluster=\"$cluster\",job=\"kube-proxy\", instance=~\"$instance\",code=~\"4..\"}[$__rate_interval]))",
                     "legendFormat": "4xx"
                  },
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sum(rate(rest_client_requests_total{cluster=\"$cluster\",job=\"kube-proxy\", instance=~\"$instance\",code=~\"5..\"}[$__rate_interval]))",
                     "legendFormat": "5xx"
                  }
               ],
               "title": "Kube API Request Rate",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "ops"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 16,
                  "x": 8,
                  "y": 14
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(rest_client_request_duration_seconds_bucket{cluster=\"$cluster\", job=\"kube-proxy\",instance=~\"$instance\",verb=\"POST\"}[$__rate_interval])) by (verb, url, le))",
                     "legendFormat": "{{verb}} {{url}}"
                  }
               ],
               "title": "Post Request Latency 99th Quantile",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "s"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 21
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "histogram_quantile(0.99, sum(rate(rest_client_request_duration_seconds_bucket{cluster=\"$cluster\", job=\"kube-proxy\", instance=~\"$instance\", verb=\"GET\"}[$__rate_interval])) by (verb, url, le))",
                     "legendFormat": "{{verb}} {{url}}"
                  }
               ],
               "title": "Get Request Latency 99th Quantile",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "bytes"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 28
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "process_resident_memory_bytes{cluster=\"$cluster\", job=\"kube-proxy\",instance=~\"$instance\"}",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "Memory",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "short"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 28
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "rate(process_cpu_seconds_total{cluster=\"$cluster\", job=\"kube-proxy\",instance=~\"$instance\"}[$__rate_interval])",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "CPU usage",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "short"
                  }
               },
               "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 28
               },
               "id": 11,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "go_goroutines{cluster=\"$cluster\", job=\"kube-proxy\",instance=~\"$instance\"}",
                     "legendFormat": "{{instance}}"
                  }
               ],
               "title": "Goroutines",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(up{job=\"kube-proxy\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "allValue": ".+",
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "instance",
                  "name": "instance",
                  "query": "label_values(up{job=\"kube-proxy\", cluster=\"$cluster\", job=\"kube-proxy\"}, instance)",
                  "refresh": 2,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Proxy",
         "uid": "632e265de029684c40b21cb76bca4f94"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-workload-total-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  workload-total-dashboard.json: |-
    
      {
         "editable": false,
         "links": [
            {
               "asDropdown": true,
               "includeVars": true,
               "keepTime": true,
               "tags": [
                  "kubernetes-mixin"
               ],
               "targetBlank": false,
               "title": "Kubernetes",
               "type": "dashboards"
            }
         ],
         "panels": [
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "color": {
                        "fixedColor": "green",
                        "mode": "fixed"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 0
               },
               "id": 1,
               "options": {
                  "displayMode": "basic",
                  "showUnfilled": false
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Received",
               "type": "bargauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "color": {
                        "fixedColor": "green",
                        "mode": "fixed"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 0
               },
               "id": 2,
               "options": {
                  "displayMode": "basic",
                  "showUnfilled": false
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Current Rate of Bytes Transmitted",
               "type": "bargauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "color": {
                        "fixedColor": "green",
                        "mode": "fixed"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 9
               },
               "id": 3,
               "options": {
                  "displayMode": "basic",
                  "showUnfilled": false
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(avg(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Rate of Bytes Received",
               "type": "bargauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "color": {
                        "fixedColor": "green",
                        "mode": "fixed"
                     },
                     "unit": "Bps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 9
               },
               "id": 4,
               "options": {
                  "displayMode": "basic",
                  "showUnfilled": false
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(avg(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Average Rate of Bytes Transmitted",
               "type": "bargauge"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 18
               },
               "id": 5,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Receive Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "binBps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 18
               },
               "id": 6,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Transmit Bandwidth",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 27
               },
               "id": 7,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_packets_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 27
               },
               "id": 8,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_packets_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 0,
                  "y": 36
               },
               "id": 9,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_receive_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Received Packets Dropped",
               "type": "timeseries"
            },
            {
               "datasource": {
                  "type": "datasource",
                  "uid": "-- Mixed --"
               },
               "fieldConfig": {
                  "defaults": {
                     "custom": {
                        "fillOpacity": 10,
                        "showPoints": "never",
                        "spanNulls": true
                     },
                     "unit": "pps"
                  }
               },
               "gridPos": {
                  "h": 9,
                  "w": 12,
                  "x": 12,
                  "y": 36
               },
               "id": 10,
               "interval": "1m",
               "options": {
                  "legend": {
                     "asTable": true,
                     "calcs": [
                        "lastNotNull"
                     ],
                     "displayMode": "table",
                     "placement": "right",
                     "showLegend": true
                  },
                  "tooltip": {
                     "mode": "single"
                  }
               },
               "pluginVersion": "v11.0.0",
               "targets": [
                  {
                     "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                     },
                     "expr": "sort_desc(sum(rate(container_network_transmit_packets_dropped_total{job=\"kubelet\", cluster=\"$cluster\",namespace=~\"$namespace\"}[$__rate_interval])\n* on (namespace,pod)\ngroup_left(workload,workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\",namespace=~\"$namespace\", workload=~\"$workload\", workload_type=~\"$type\"}) by (pod))\n",
                     "legendFormat": "__auto"
                  }
               ],
               "title": "Rate of Transmitted Packets Dropped",
               "type": "timeseries"
            }
         ],
         "refresh": "30s",
         "schemaVersion": 39,
         "tags": [
            "kubernetes-mixin"
         ],
         "templating": {
            "list": [
               {
                  "current": {
                     "selected": true,
                     "text": "default",
                     "value": "default"
                  },
                  "hide": 0,
                  "label": "Data source",
                  "name": "datasource",
                  "query": "prometheus",
                  "regex": "",
                  "type": "datasource"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "cluster",
                  "name": "cluster",
                  "query": "label_values(kube_pod_info{job=\"kube-state-metrics\"}, cluster)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "allValue": ".+",
                  "current": {
                     "selected": false,
                     "text": "kube-system",
                     "value": "kube-system"
                  },
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "namespace",
                  "name": "namespace",
                  "query": "label_values(container_network_receive_packets_total{cluster=\"$cluster\"}, namespace)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "label": "workload",
                  "name": "workload",
                  "query": "label_values(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=~\"$namespace\", workload=~\".+\"}, workload)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               },
               {
                  "allValue": ".+",
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "hide": 0,
                  "includeAll": true,
                  "label": "workload_type",
                  "name": "type",
                  "query": "label_values(namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=~\"$namespace\", workload=~\"$workload\"}, workload_type)",
                  "refresh": 2,
                  "sort": 1,
                  "type": "query"
               }
            ]
         },
         "time": {
            "from": "now-1h",
            "to": "now"
         },
         "timezone": "",
         "title": "Kubernetes / Networking / Workload",
         "uid": "728bf77cc1166d2f3133bf25846876cc"
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-kubernetesstatus-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  kubernetesstatus-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "iteration": 1659355778484,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 21,
            "panels": [],
            "title": "Pods",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 4,
              "x": 0,
              "y": 1
            },
            "id": 8,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1 and on (pod, namespace, cluster) kube_pod_status_ready{condition=\"true\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 0)",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Running pods not ready",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 4,
              "x": 4,
              "y": 1
            },
            "id": 9,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "expr": "sum(kube_pod_status_phase{phase=\"Pending\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1)",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Pending pods",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 4,
              "x": 8,
              "y": 1
            },
            "id": 10,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "expr": "sum(kube_pod_status_phase{phase=\"Failed\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1)",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Failed pods",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 4,
              "x": 12,
              "y": 1
            },
            "id": 25,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "count(kube_deployment_status_replicas_unavailable{cluster=~\"$cluster\", namespace=~\"$namespace\"} > 0)",
                "interval": "",
                "legendFormat": "{{deployment}}",
                "refId": "A"
              }
            ],
            "title": "Deployments with unavailable pods",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 4,
              "x": 16,
              "y": 1
            },
            "id": 23,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "count(kube_daemonset_status_number_unavailable{cluster=~\"$cluster\", namespace=~\"$namespace\"} > 0)",
                "interval": "",
                "legendFormat": "{{deployment}}",
                "refId": "A"
              }
            ],
            "title": "Daemonsets with unavailable pods",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 3
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 4,
              "x": 20,
              "y": 1
            },
            "id": 27,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "count((kube_statefulset_replicas{cluster=~\"$cluster\", namespace=~\"$namespace\"} - kube_statefulset_status_replicas_ready{cluster=~\"$cluster\", namespace=~\"$namespace\"}) > 0)",
                "interval": "",
                "legendFormat": "{{deployment}}",
                "refId": "A"
              }
            ],
            "title": "Statefulsets with unavailable pods",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 0,
                        "text": "0"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 0,
              "y": 8
            },
            "id": 26,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "kube_deployment_status_replicas_unavailable{cluster=~\"$cluster\", namespace=~\"$namespace\"}",
                "interval": "",
                "legendFormat": "{{deployment}} -  {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Unavailable pods per deployment",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 8,
              "y": 8
            },
            "id": 24,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "kube_daemonset_status_number_unavailable{cluster=~\"$cluster\", namespace=~\"$namespace\"}",
                "interval": "",
                "legendFormat": "{{daemonset}} -  {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Unavailable pods per daemonset",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 16,
              "y": 8
            },
            "id": 28,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "kube_statefulset_replicas{cluster=~\"$cluster\", namespace=~\"$namespace\"} - kube_statefulset_status_replicas_ready{cluster=~\"$cluster\", namespace=~\"$namespace\"}",
                "interval": "",
                "legendFormat": "{{statefulset}} -  {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Unavailable pods per statefulset",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 19,
            "panels": [],
            "title": "Nodes",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "red",
                      "value": null
                    },
                    {
                      "color": "green",
                      "value": 1
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 17
            },
            "id": 4,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "expr": "sum by (cluster) (kube_node_info{cluster=~\"$cluster\"})",
                "interval": "",
                "legendFormat": " {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Number of nodes",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "max": 1,
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "red",
                      "value": null
                    },
                    {
                      "color": "green",
                      "value": 90
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 17
            },
            "id": 2,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "text": {}
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "expr": "sum(kube_node_status_condition{condition=\"Ready\", status=\"true\", cluster=~\"$cluster\"}) / sum(kube_node_info{cluster=~\"$cluster\"})",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Ready nodes",
            "type": "gauge"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 17,
            "panels": [],
            "title": "Resource requests and limits",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 0,
                        "text": "0"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 80
                    },
                    {
                      "color": "red",
                      "value": 90
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 7,
              "x": 0,
              "y": 25
            },
            "id": 12,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "text": {}
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(kube_pod_container_resource_requests{cluster=~\"$cluster\", namespace=~\"$namespace\", resource=\"cpu\", node=~\"$node\"} and on (pod, namespace, cluster) kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1 ) / sum(kube_node_status_allocatable{cluster=~\"$cluster\", resource=\"cpu\", node=~\"$node\"}) or vector(0)",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Cluster CPU requested",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 0,
                        "text": "0"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 80
                    },
                    {
                      "color": "red",
                      "value": 90
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 7,
              "x": 7,
              "y": 25
            },
            "id": 13,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "text": {}
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(kube_pod_container_resource_requests{cluster=~\"$cluster\", namespace=~\"$namespace\", resource=\"memory\", node=~\"$node\"} and on (pod, namespace, cluster) kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) / sum(kube_node_status_allocatable{cluster=~\"$cluster\", resource=\"memory\", node=~\"$node\"}) or vector(0)",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Cluster memory requested",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 10
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 5,
              "x": 14,
              "y": 25
            },
            "id": 32,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "count(kube_pod_container_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\"} and on (pod, namespace, cluster) kube_pod_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", node=~\"$node\"} and on (pod, namespace, cluster)  kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) - (count(kube_pod_container_resource_requests{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", resource=\"cpu\", node=~\"$node\"} and on (pod, namespace, cluster)  kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) or vector(0))",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Containers without CPU requests",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 10
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 5,
              "x": 19,
              "y": 25
            },
            "id": 33,
            "options": {
              "colorMode": "background",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "count(kube_pod_container_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\"} and on (pod, namespace, cluster) kube_pod_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", node=~\"$node\"} and on (pod, namespace, cluster)  kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) - (count(kube_pod_container_resource_requests{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", resource=\"memory\", node=~\"$node\"} and on (pod, namespace, cluster)  kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) or vector(0))",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Containers without memory requests",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": "auto",
                  "displayMode": "auto"
                },
                "mappings": [],
                "noValue": "No containers missing CPU requests",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "pod"
                  },
                  "properties": [
                    {
                      "id": "links",
                      "value": [
                        {
                          "title": "Drill down",
                          "url": "./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?&var-datasource=${datasource}&var-cluster=${__data.fields[cluster]}&var-namespace=${__data.fields[namespace]}&var-pod=${__data.fields[pod]}"
                        }
                      ]
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Containers without request"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 32
            },
            "id": 37,
            "links": [],
            "options": {
              "footer": {
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "frameIndex": 2,
              "showHeader": true,
              "sortBy": [
                {
                  "desc": true,
                  "displayName": "Containers without request"
                }
              ]
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "count by (pod, namespace, cluster) (kube_pod_container_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\"} and on (pod, namespace, cluster) kube_pod_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", node=~\"$node\"} and on (pod, namespace, cluster)  kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) unless on (pod, namespace, cluster) kube_pod_container_resource_requests{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", resource=\"cpu\", node=~\"$node\"}",
                "format": "table",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "refId": "C"
              }
            ],
            "title": "Pods missing CPU requests",
            "transformations": [
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "cluster",
                      "namespace",
                      "pod",
                      "Value"
                    ]
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": "auto",
                  "displayMode": "auto"
                },
                "mappings": [],
                "noValue": "No containers missing memory requests",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "pod"
                  },
                  "properties": [
                    {
                      "id": "links",
                      "value": [
                        {
                          "title": "Drill down",
                          "url": "./d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?&var-datasource=${datasource}&var-cluster=${__data.fields[cluster]}&var-namespace=${__data.fields[namespace]}&var-pod=${__data.fields[pod]}"
                        }
                      ]
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Containers without request"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 32
            },
            "id": 38,
            "links": [],
            "options": {
              "footer": {
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "frameIndex": 2,
              "showHeader": true,
              "sortBy": [
                {
                  "desc": true,
                  "displayName": "Containers without request"
                }
              ]
            },
            "pluginVersion": "8.4.7",
            "targets": [
              {
                "exemplar": true,
                "expr": "count by (pod, namespace, cluster) (kube_pod_container_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\"} and on (pod, namespace, cluster) kube_pod_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", node=~\"$node\"} and on (pod, namespace, cluster)  kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) unless on (pod, namespace, cluster) kube_pod_container_resource_requests{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", resource=\"memory\", node=~\"$node\"}",
                "format": "table",
                "instant": true,
                "interval": "",
                "legendFormat": "",
                "refId": "C"
              }
            ],
            "title": "Pods missing memory requests",
            "transformations": [
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "cluster",
                      "namespace",
                      "pod",
                      "Value"
                    ]
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 40
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "exemplar": false,
                "expr": "sum by (node, cluster) (kube_pod_container_resource_requests{cluster=~\"$cluster\", namespace=~\"$namespace\", resource=\"cpu\"} and on (pod, namespace, cluster) kube_pod_info{cluster=~\"$cluster\", namespace=~\"$namespace\", namespace!~\"^${systemNamespaces}\", node=~\"$node\"} and on (pod, namespace, cluster) kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1 ) / sum by (node, cluster) (kube_node_status_allocatable{cluster=~\"$cluster\", node=~\"$node\", resource=\"cpu\"})",
                "interval": "",
                "legendFormat": " {{node}} - {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "CPU requested per node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 40
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum by (node, cluster) (kube_pod_container_resource_requests{cluster=~\"$cluster\", namespace=~\"$namespace\", node=~\"$node\", resource=\"memory\"} and on (pod, namespace, cluster) kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) / sum by (node, cluster) (kube_node_status_allocatable{cluster=~\"$cluster\", node=~\"$node\", resource=\"memory\"})",
                "interval": "",
                "legendFormat": "{{node}} -  {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Memory requested per node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 48
            },
            "id": 41,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum by (node, cluster) (kube_pod_container_resource_limits{cluster=~\"$cluster\", namespace=~\"$namespace\", node=~\"$node\", resource=\"cpu\"} and on (pod, namespace, cluster) kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1 ) / sum by (node, cluster) (kube_node_status_allocatable{cluster=~\"$cluster\", node=~\"$node\", resource=\"cpu\"})",
                "interval": "",
                "legendFormat": " {{node}} - {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "CPU limits per node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 48
            },
            "id": 42,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum by (node, cluster) (kube_pod_container_resource_limits{cluster=~\"$cluster\", namespace=~\"$namespace\", node=~\"$node\", resource=\"memory\"} and on (pod, namespace, cluster) kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\", namespace=~\"$namespace\"} == 1) / sum by (node, cluster) (kube_node_status_allocatable{cluster=~\"$cluster\", node=~\"$node\", resource=\"memory\"})",
                "interval": "",
                "legendFormat": "{{node}} -  {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Memory limits per node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 56
            },
            "id": 35,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "min",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Max",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=~\"$cluster\", node=~\"$node\", namespace=~\"$namespace\"}) by (pod, cluster) / sum(cluster:namespace:pod_cpu:active:kube_pod_container_resource_requests{cluster=~\"$cluster\", node=~\"$node\", namespace=~\"$namespace\"}) by (pod, cluster)",
                "hide": false,
                "instant": false,
                "interval": "",
                "legendFormat": "{{pod}} -  {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "CPU usage / requested per pod",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 24,
              "x": 0,
              "y": 64
            },
            "id": 34,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "min",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Max",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "exemplar": false,
                "expr": "sum(node_namespace_pod_container:container_memory_working_set_bytes{cluster=~\"$cluster\", node=~\"$node\", namespace=~\"$namespace\", container!=\"\"}) by (pod, cluster) / sum(cluster:namespace:pod_memory:active:kube_pod_container_resource_requests{cluster=~\"$cluster\", node=~\"$node\", namespace=~\"$namespace\"}) by (pod, cluster)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{pod}} -  {{cluster}}",
                "refId": "B"
              }
            ],
            "title": "Memory usage / requested per pod",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 35,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": ".*",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(kube_node_info, cluster)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(kube_node_info, cluster)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".*",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(kube_pod_info{cluster=~\"$cluster\"}, node)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "node",
              "options": [],
              "query": {
                "query": "label_values(kube_pod_info{cluster=~\"$cluster\"}, node)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query"
            },
            {
              "allValue": ".*",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(kube_namespace_status_phase, namespace)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "namespace",
              "options": [],
              "query": {
                "query": "label_values(kube_namespace_status_phase, namespace)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "hide": 2,
              "name": "systemNamespaces",
              "query": "kube-system|openstack-system|calico-system|calico-apiserver|capi-cluster|capi-system|tigera-operator|capi-kubeadm-control-plane-system|capi-kubeadm-bootstrap-system|capo-system",
              "skipUrlSync": false,
              "type": "constant"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Kubernetes cluster status",
        "uid": "iJiti6Lnkgg",
        "version": 16,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-networkpolicy-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  networkpolicy-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Packets blocked by NetworkPolicy egress rules",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "sum",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.4",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "rate(policy_accept_counter{type=\"fw\",cluster=~\"$cluster\",pod_namespace=~\"$namespace\"}[1m])",
                "interval": "",
                "legendFormat": "{{exported_pod}} - {{policy}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Packets allowed by NetworkPolicy going from pod",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Packets blocked by NetworkPolicy ingress rules",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "sum",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.4",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "rate(policy_accept_counter{type=\"tw\",cluster=~\"$cluster\",pod_namespace=~\"$namespace\"}[1m])",
                "interval": "",
                "legendFormat": "{{exported_pod}} - {{policy}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Packets allowed by NetworkPolicy going to pod",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "Packets blocked by NetworkPolicy egress rules",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#e02f440d",
                      "value": 0
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "sum",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.4",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "rate(no_policy_drop_counter{type=\"fw\",cluster=~\"$cluster\",pod_namespace=~\"$namespace\"}[1m])",
                "interval": "",
                "legendFormat": "{{exported_pod}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Dropped packets going from pod",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Packets blocked by NetworkPolicy ingress rules",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#e02f440d",
                      "value": 0
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "sum",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.4",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(no_policy_drop_counter{type=\"tw\",cluster=~\"$cluster\",pod_namespace=~\"$namespace\"}[1m])",
                "interval": "",
                "legendFormat": "{{exported_pod}}",
                "refId": "A"
              }
            ],
            "title": "Dropped packets going to pod",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 37,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(no_policy_drop_counter,cluster)",
              "hide": 0,
              "includeAll": true,
              "label": "cluster",
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(no_policy_drop_counter,cluster)",
                "refId": "Thanos All-cluster-Variable-Query"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(no_policy_drop_counter,pod_namespace)",
              "hide": 0,
              "includeAll": true,
              "label": "namespace",
              "multi": true,
              "name": "namespace",
              "options": [],
              "query": {
                "query": "label_values(no_policy_drop_counter,pod_namespace)",
                "refId": "Thanos All-namespace-Variable-Query"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-15m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "NetworkPolicy Dashboard",
        "uid": "nMS-kG0Vk",
        "version": 7,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-nginx-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  nginx-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "enable": true,
              "expr": "sum(changes(nginx_ingress_controller_config_last_reload_successful_timestamp_seconds{instance!=\"unknown\",controller_class=~\"$controller_class\",namespace=~\"$namespace\"}[30s])) by (controller_class)",
              "hide": false,
              "iconColor": "rgba(255, 96, 96, 1)",
              "limit": 100,
              "name": "Config Reloads",
              "showIn": 0,
              "step": "30s",
              "tagKeys": "controller_class",
              "tags": [],
              "titleFormat": "Config Reloaded",
              "type": "tags"
            }
          ]
        },
        "description": "Ingress-nginx supports a rich collection of prometheus metrics. If you have prometheus and grafana installed on your cluster then prometheus will already be scraping this data due to the scrape annotation on the deployment.",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 9614,
        "graphTooltip": 0,
        "id": 24,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "rgb(31, 120, 193)",
                  "mode": "fixed"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ops"
              },
              "overrides": []
            },
            "id": 20,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "round(sum(irate(nginx_ingress_controller_requests{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\"}[2m])), 0.001)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 4
              }
            ],
            "title": "Controller Request Volume",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "rgb(31, 120, 193)",
                  "mode": "fixed"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 6,
              "x": 6,
              "y": 0
            },
            "id": 82,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(avg_over_time(nginx_ingress_controller_nginx_process_connections{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}[2m]))",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 4
              }
            ],
            "title": "Controller Connections",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "rgb(31, 120, 193)",
                  "mode": "fixed"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 95
                    },
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": 99
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 6,
              "x": 12,
              "y": 0
            },
            "id": 21,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(nginx_ingress_controller_requests{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\",status!~\"[4-5].*\"}[2m])) / sum(rate(nginx_ingress_controller_requests{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\"}[2m]))",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 4
              }
            ],
            "title": "Controller Success Rate (non-4|5xx responses)",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "rgb(31, 120, 193)",
                  "mode": "fixed"
                },
                "decimals": 0,
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 18,
              "y": 0
            },
            "id": 81,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg(nginx_ingress_controller_success{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"})",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 4
              }
            ],
            "title": "Config Reloads",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "rgb(31, 120, 193)",
                  "mode": "fixed"
                },
                "decimals": 0,
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 3,
              "x": 21,
              "y": 0
            },
            "id": 83,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "count(nginx_ingress_controller_config_last_reload_successful{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_namespace=~\"$namespace\"} == 0)",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 4
              }
            ],
            "title": "Last Config Failed",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 3
            },
            "id": 86,
            "options": {
              "legend": {
                "calcs": [
                  "mean"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "width": 300
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "repeatDirection": "h",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "round(sum(irate(nginx_ingress_controller_requests{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\"}[2m])) by (ingress,cluster), 0.001)",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ ingress }} - {{cluster}}",
                "metric": "network",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Ingress Request Volume",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "max - istio-proxy"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#890f02",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "max - master"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#bf1b00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "max - prometheus"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#bf1b00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 3
            },
            "id": 87,
            "options": {
              "legend": {
                "calcs": [
                  "mean"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "width": 300
              },
              "tooltip": {
                "mode": "multi",
                "sort": "asc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(nginx_ingress_controller_requests{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\",ingress=~\"$ingress\",status!~\"[4-5].*\"}[2m])) by (ingress,cluster) / sum(rate(nginx_ingress_controller_requests{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",namespace=~\"$namespace\",ingress=~\"$ingress\"}[2m])) by (ingress,cluster)",
                "format": "time_series",
                "instant": false,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "{{ ingress }} - {{cluster}}",
                "metric": "container_memory_usage:sort_desc",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Ingress Success Rate (non-4|5xx responses)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 0,
              "y": 10
            },
            "id": 32,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull"
                ],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false,
                "width": 200
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum (irate (nginx_ingress_controller_request_size_sum{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}[2m])) by (cluster)",
                "format": "time_series",
                "instant": false,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "Received - {{cluster}}",
                "metric": "network",
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "- sum (irate (nginx_ingress_controller_response_size_sum{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}[2m])) by (cluster)",
                "format": "time_series",
                "hide": false,
                "instant": false,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "Sent - {{cluster}}",
                "metric": "network",
                "refId": "B",
                "step": 10
              }
            ],
            "title": "Network I/O pressure",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "max - istio-proxy"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#890f02",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "max - master"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#bf1b00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "max - prometheus"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#bf1b00",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 8,
              "y": 10
            },
            "id": 77,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull"
                ],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false,
                "width": 200
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg(nginx_ingress_controller_nginx_process_resident_memory_bytes{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}) by (cluster)",
                "format": "time_series",
                "instant": false,
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "nginx - {{cluster}}",
                "metric": "container_memory_usage:sort_desc",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Average Memory Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "cores",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 8,
              "x": 16,
              "y": 10
            },
            "id": 79,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull"
                ],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum (rate (nginx_ingress_controller_nginx_process_cpu_seconds_total{cluster=~\"$cluster\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\"}[2m])) by (cluster)",
                "format": "time_series",
                "interval": "10s",
                "intervalFactor": 1,
                "legendFormat": "nginx - {{cluster}}",
                "metric": "container_cpu",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Average CPU Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "filterable": false,
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "ingress"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Ingress"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align",
                      "value": "auto"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #C"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "P50 Latency"
                    },
                    {
                      "id": "unit",
                      "value": "dtdurations"
                    },
                    {
                      "id": "custom.align",
                      "value": "auto"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #D"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "P90 Latency"
                    },
                    {
                      "id": "unit",
                      "value": "dtdurations"
                    },
                    {
                      "id": "custom.align",
                      "value": "auto"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #E"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "P99 Latency"
                    },
                    {
                      "id": "unit",
                      "value": "dtdurations"
                    },
                    {
                      "id": "custom.align",
                      "value": "auto"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #F"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "IN"
                    },
                    {
                      "id": "unit",
                      "value": "Bps"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align",
                      "value": "auto"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Time"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    },
                    {
                      "id": "custom.hidden",
                      "value": true
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #G"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "OUT"
                    },
                    {
                      "id": "unit",
                      "value": "Bps"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align",
                      "value": "auto"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "hideTimeOverride": false,
            "id": 75,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "enablePagination": true,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.4.7",
            "repeatDirection": "h",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{cluster=~\"$cluster\",ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\"}[2m])) by (le, ingress, cluster))",
                "format": "table",
                "hide": false,
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ ingress }}",
                "refId": "C"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{cluster=~\"$cluster\",ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\"}[2m])) by (le, ingress, cluster))",
                "format": "table",
                "hide": false,
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ ingress }}",
                "refId": "D"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{cluster=~\"$cluster\",ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\"}[2m])) by (le, ingress, cluster))",
                "format": "table",
                "hide": false,
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ destination_service }}",
                "refId": "E"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(irate(nginx_ingress_controller_request_size_sum{cluster=~\"$cluster\",ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\"}[2m])) by (ingress,cluster)",
                "format": "table",
                "hide": false,
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ ingress }}",
                "refId": "F"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(irate(nginx_ingress_controller_response_size_sum{cluster=~\"$cluster\",ingress!=\"\",controller_pod=~\"$controller\",controller_class=~\"$controller_class\",controller_namespace=~\"$namespace\",ingress=~\"$ingress\"}[2m])) by (ingress,cluster)",
                "format": "table",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ ingress }}",
                "refId": "G"
              }
            ],
            "title": "Ingress Percentile Response Times and Transfer Rates",
            "transformations": [
              {
                "id": "merge",
                "options": {
                  "reducers": []
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value"
                  },
                  "properties": [
                    {
                      "id": "thresholds",
                      "value": {
                        "mode": "absolute",
                        "steps": [
                          {
                            "color": "red",
                            "value": null
                          },
                          {
                            "color": "green",
                            "value": 691200
                          }
                        ]
                      }
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "gradient",
                        "type": "color-background"
                      }
                    },
                    {
                      "id": "unit",
                      "value": "s"
                    },
                    {
                      "id": "decimals",
                      "value": 0
                    },
                    {
                      "id": "displayName",
                      "value": "TTL"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 26
            },
            "id": 85,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg(nginx_ingress_controller_ssl_expire_time_seconds{cluster=~\"$cluster\",kubernetes_pod_name=~\"$controller\",namespace=~\"$namespace\",ingress=~\"$ingress\"}) by (host, cluster) - time()",
                "format": "table",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{ host }}",
                "metric": "gke_letsencrypt_cert_expiration",
                "refId": "A",
                "step": 1
              }
            ],
            "title": "Ingress Certificate Expiry",
            "transformations": [
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "cluster",
                      "host",
                      "Value"
                    ]
                  }
                }
              }
            ],
            "type": "table"
          }
        ],
        "refresh": "5s",
        "schemaVersion": 39,
        "tags": [
          "nginx"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(nginx_ingress_controller_config_hash, cluster)",
              "hide": 0,
              "includeAll": true,
              "label": "cluster",
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": "label_values(nginx_ingress_controller_config_hash, cluster)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(nginx_ingress_controller_config_hash{cluster=~\"$cluster\"}, controller_namespace)",
              "hide": 0,
              "includeAll": true,
              "label": "Namespace",
              "multi": false,
              "name": "namespace",
              "options": [],
              "query": "label_values(nginx_ingress_controller_config_hash{cluster=~\"$cluster\"}, controller_namespace)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(nginx_ingress_controller_config_hash{cluster=~\"$cluster\",namespace=~\"$namespace\"}, controller_class)",
              "hide": 0,
              "includeAll": true,
              "label": "Controller Class",
              "multi": false,
              "name": "controller_class",
              "options": [],
              "query": "label_values(nginx_ingress_controller_config_hash{cluster=~\"$cluster\",namespace=~\"$namespace\"}, controller_class)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(nginx_ingress_controller_config_hash{cluster=~\"$cluster\",namespace=~\"$namespace\",controller_class=~\"$controller_class\"}, controller_pod) ",
              "hide": 0,
              "includeAll": true,
              "label": "Controller",
              "multi": false,
              "name": "controller",
              "options": [],
              "query": "label_values(nginx_ingress_controller_config_hash{cluster=~\"$cluster\",namespace=~\"$namespace\",controller_class=~\"$controller_class\"}, controller_pod) ",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "label_values(nginx_ingress_controller_requests{cluster=~\"$cluster\",namespace=~\"$namespace\",controller_class=~\"$controller_class\",controller=~\"$controller\"}, ingress) ",
              "hide": 0,
              "includeAll": true,
              "label": "Ingress",
              "multi": false,
              "name": "ingress",
              "options": [],
              "query": "label_values(nginx_ingress_controller_requests{cluster=~\"$cluster\",namespace=~\"$namespace\",controller_class=~\"$controller_class\",controller=~\"$controller\"}, ingress) ",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "2m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "NGINX Ingress controller",
        "uid": "f919bbc1-7a54-4cb1-af9e-62b32b169371",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-node-exporter-disk-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  node-exporter-disk-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "$$hashKey": "object:1058",
              "builtIn": 1,
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 31,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 261,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Overview",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "Unused Root FS",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "red",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 10737418240
                    },
                    {
                      "color": "green",
                      "value": 21474836480
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 5,
              "x": 0,
              "y": 1
            },
            "id": 154,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "sum(node_filesystem_avail_bytes{instance=~\"$node\", job=\"$job\", mountpoint=~\"$mountpoint\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Total free space",
            "type": "stat"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "decimals": 3,
            "description": "Disk space used of root filesystems across selected hosts",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "percentage",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "green",
                      "value": 55
                    },
                    {
                      "color": "yellow",
                      "value": 70
                    },
                    {
                      "color": "dark-red",
                      "value": 85
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 11,
              "x": 5,
              "y": 1
            },
            "id": 152,
            "options": {
              "displayMode": "gradient",
              "maxVizHeight": 300,
              "minVizHeight": 10,
              "minVizWidth": 0,
              "namePlacement": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showUnfilled": true,
              "sizing": "auto",
              "valueMode": "color"
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "1-(node_filesystem_avail_bytes{instance=~\"$node\", job=\"$job\", device=~\".*$device.*\", mountpoint=~\"$mountpoint\"} / node_filesystem_size_bytes{instance=~\"$node\", job=\"$job\", device=~\".*$device.*\", mountpoint=~\"$mountpoint\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} ({{device}})",
                "range": true,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Disk Space Used",
            "type": "bargauge"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "The worst average time across the selected hosts for requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.\n",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 0.005
                    },
                    {
                      "color": "red",
                      "value": 0.01
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 4,
              "x": 16,
              "y": 1
            },
            "id": 302,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "max(\n  rate(node_disk_read_time_seconds_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])\n  /\n  rate(node_disk_reads_completed_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])\n)\n",
                "hide": false,
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "Read wait time",
                "refId": "Read",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "max(\n  rate(node_disk_write_time_seconds_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])\n  /\n  rate(node_disk_writes_completed_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])\n)\n",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "Write wait time",
                "refId": "Write",
                "step": 240
              }
            ],
            "title": "Worst Average Disk Wait Time",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "The highest average queue length of the requests that were issued to the device across the selected instances",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 0.1
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 4,
              "x": 20,
              "y": 1
            },
            "id": 303,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "editorMode": "code",
                "expr": "max(rate(node_disk_io_time_weighted_seconds_total{instance=~\"$node\", job=\"$job\",device=~\"$device\"}[$__rate_interval]))",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{instance}}",
                "range": true,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Max Queue Size",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "Smallest amount of free space across the selected hosts.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "red",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 10737418240
                    },
                    {
                      "color": "green",
                      "value": 21474836480
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 5,
              "x": 0,
              "y": 6
            },
            "id": 304,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "editorMode": "code",
                "expr": "min(node_filesystem_avail_bytes{instance=~\"$node\", job=\"$job\", mountpoint=~\"$mountpoint\"})",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 1,
                "legendFormat": "__auto",
                "range": false,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Minimum free space",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 10
            },
            "id": 270,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Storage Disk",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "The number (after merges) of I/O requests completed per second for the device",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "IO read (-) / write (+)",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "iops"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*Read.*/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EF843C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda2_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BA43A9",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda3_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F4D598",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#962D82",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#9AC48A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#65C5DB",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9934E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EA6460",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FCEACA",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9E2D2",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 11
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_reads_completed_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} {{device}} - Reads completed",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_writes_completed_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{device}} - Writes completed",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "Disk IOps Completed",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "The number of bytes read from or written to the device per second",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "bytes read (-) / write (+)",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*Read.*/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EF843C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda2_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BA43A9",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda3_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F4D598",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#962D82",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#9AC48A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#65C5DB",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9934E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EA6460",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FCEACA",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9E2D2",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 11
            },
            "id": 33,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_read_bytes_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "format": "time_series",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} {{device}} - Read bytes",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_written_bytes_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{device}} - Written bytes",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "Disk R/W Data",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "The average time for requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "time. read (-) / write (+)",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 30,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*Read.*/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EF843C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda2_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BA43A9",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda3_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F4D598",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#962D82",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#9AC48A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#65C5DB",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9934E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EA6460",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FCEACA",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9E2D2",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 21
            },
            "id": 37,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_read_time_seconds_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval]) / rate(node_disk_reads_completed_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "hide": false,
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} {{device}} - Read wait time avg",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_write_time_seconds_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval]) / rate(node_disk_writes_completed_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{device}} - Write wait time avg",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "Disk Average Wait Time",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "The average queue length of the requests that were issued to the device",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "aqu-sz",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EF843C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda2_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BA43A9",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda3_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F4D598",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#962D82",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#9AC48A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#65C5DB",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9934E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EA6460",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FCEACA",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9E2D2",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 21
            },
            "id": 35,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_io_time_weighted_seconds_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} {{device}}",
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Average Queue Size",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "The number of read and write requests merged per second that were queued to the device",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "I/Os",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "iops"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*Read.*/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EF843C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda2_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BA43A9",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda3_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F4D598",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#962D82",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#9AC48A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#65C5DB",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9934E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EA6460",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FCEACA",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9E2D2",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 31
            },
            "id": 133,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_reads_merged_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{device}} - Read merged",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_writes_merged_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{device}} - Write merged",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "Disk R/W Merged",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "Percentage of elapsed time during which I/O requests were issued to the device (bandwidth utilization for the device). Device saturation occurs when this value is close to 100% for devices serving requests serially.  But for devices  serving requests in parallel, such as RAID arrays and modern SSDs, this number does not reflect their performance limits.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "%util",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 30,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EF843C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda2_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BA43A9",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda3_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F4D598",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#962D82",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#9AC48A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#65C5DB",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9934E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EA6460",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FCEACA",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9E2D2",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 31
            },
            "id": 36,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_io_time_seconds_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} {{device}} - IO",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_discard_time_seconds_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} {{device}} - discard",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "Time Spent Doing I/Os",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "The number of outstanding requests at the instant the sample was taken. Incremented as requests are given to appropriate struct request_queue and decremented as they finish.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "Outstanding req.",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EF843C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda2_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BA43A9",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda3_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F4D598",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#962D82",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#9AC48A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#65C5DB",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9934E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EA6460",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FCEACA",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9E2D2",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 41
            },
            "id": 34,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_disk_io_now{instance=~\"$node\",job=\"$job\",device=~\"$device\"}",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} {{device}} - IO now",
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Instantaneous Queue Size",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "IOs",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "iops"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EF843C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda2_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BA43A9",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sda3_.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F4D598",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdb3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#962D82",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdc3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#9AC48A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#65C5DB",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9934E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EA6460",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde1.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sdd2.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FCEACA",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*sde3.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F9E2D2",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 41
            },
            "id": 301,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "editorMode": "code",
                "expr": "rate(node_disk_discards_completed_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "interval": "",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} {{device}} - Discards completed",
                "range": true,
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "rate(node_disk_discards_merged_total{instance=~\"$node\",job=\"$job\",device=~\"$device\"}[$__rate_interval])",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{device}} - Discards merged",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "Disk IOps Discards completed / merged",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 51
            },
            "id": 271,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "refId": "A"
              }
            ],
            "title": "Storage Filesystem",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "bytes",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 52
            },
            "id": 43,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filesystem_avail_bytes{instance=~\"$node\",job=\"$job\",device!~'rootfs',mountpoint=~\"$mountpoint\"}",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{mountpoint}} - Available",
                "metric": "",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filesystem_free_bytes{instance=~\"$node\",job=\"$job\",device!~'rootfs',mountpoint=~\"$mountpoint\"}",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{mountpoint}} - Free",
                "refId": "B",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filesystem_size_bytes{instance=~\"$node\",job=\"$job\",device!~'rootfs',mountpoint=~\"$mountpoint\"}",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{mountpoint}} - Size",
                "refId": "C",
                "step": 240
              }
            ],
            "title": "Filesystem space available",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "file nodes",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 52
            },
            "id": 41,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filesystem_files_free{instance=~\"$node\",job=\"$job\",device!~'rootfs',mountpoint=~\"$mountpoint\"}",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{mountpoint}} - Free file nodes",
                "refId": "A",
                "step": 240
              }
            ],
            "title": "File Nodes Free",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "files",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 62
            },
            "id": 28,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filefd_maximum{instance=~\"$node\",job=\"$job\"}",
                "format": "time_series",
                "intervalFactor": 4,
                "legendFormat": "{{instance}} - Max open files\n",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filefd_allocated{instance=~\"$node\",job=\"$job\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} - Open files\n",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "File Descriptor",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "file Nodes",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 62
            },
            "id": 219,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filesystem_files{instance=~\"$node\",job=\"$job\",device!~'rootfs',mountpoint=~\"$mountpoint\"}",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{mountpoint}} - File nodes total",
                "refId": "A",
                "step": 240
              }
            ],
            "title": "File Nodes Size",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$DS_PROMETHEUS"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "counter",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "/ ReadOnly"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#890F02",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 72
            },
            "id": 44,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filesystem_readonly{instance=~\"$node\",job=\"$job\",device!~'rootfs',mountpoint=~\"$mountpoint\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{mountpoint}} - ReadOnly",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$DS_PROMETHEUS"
                },
                "expr": "node_filesystem_device_error{instance=~\"$node\",job=\"$job\",device!~'rootfs',fstype!~'tmpfs',mountpoint=~\"$mountpoint\"}",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{instance}} {{mountpoint}} - Device error",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "Filesystem in ReadOnly / Error",
            "type": "timeseries"
          }
        ],
        "refresh": "1m",
        "schemaVersion": 39,
        "tags": [
          "linux"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Datasource",
              "multi": false,
              "name": "DS_PROMETHEUS",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": true,
                "text": "node-exporter",
                "value": "node-exporter"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "label": "Job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(node_uname_info, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "definition": "label_values(node_uname_info{job=\"$job\"}, cluster)",
              "hide": 0,
              "includeAll": true,
              "label": "Cluster:",
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": "label_values(node_uname_info{job=\"$job\"}, cluster)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "definition": "label_values(node_uname_info{job=\"$job\",cluster=~\"$cluster\"}, instance)",
              "hide": 0,
              "includeAll": true,
              "label": "Host:",
              "multi": true,
              "name": "node",
              "options": [],
              "query": "label_values(node_uname_info{job=\"$job\",cluster=~\"$cluster\"}, instance)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "definition": "label_values(node_disk_info{job=\"$job\",cluster=~\"$cluster\",instance=~\"$node\"}, device)",
              "hide": 0,
              "includeAll": true,
              "label": "Drive:",
              "multi": true,
              "name": "device",
              "options": [],
              "query": "label_values(node_disk_info{job=\"$job\",cluster=~\"$cluster\",instance=~\"$node\"}, device)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "definition": "label_values(node_filesystem_avail_bytes{job=\"$job\",cluster=~\"$cluster\",device=~\"$device\",mountpoint!~\"/(run|boot)(|/.*)\"}, mountpoint)",
              "hide": 0,
              "includeAll": true,
              "label": "Mountpoint:",
              "multi": true,
              "name": "mountpoint",
              "options": [],
              "query": "label_values(node_filesystem_avail_bytes{job=\"$job\",cluster=~\"$cluster\",device=~\"/dev/${device}.*\",mountpoint!~\"/(run|boot)(|/.*)\"}, mountpoint)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-24h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Node Exporter Disk",
        "uid": "ada6a4a2-351a-49db-ae2b-5f236c35c8ed",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-node-exporter-full-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  node-exporter-full-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "$$hashKey": "object:1058",
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 1860,
        "graphTooltip": 0,
        "id": 32,
        "links": [
          {
            "icon": "external link",
            "tags": [],
            "title": "GitHub",
            "type": "link",
            "url": "https://github.com/rfrail3/grafana-dashboards"
          },
          {
            "icon": "external link",
            "tags": [],
            "title": "Grafana",
            "type": "link",
            "url": "https://grafana.com/grafana/dashboards/1860"
          }
        ],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 261,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Quick CPU / Mem / Disk",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Busy state of all CPU cores together",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 85
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 95
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 0,
              "y": 1
            },
            "id": 20,
            "options": {
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "(((count(count(node_cpu_seconds_total{instance=\"$node\",job=\"$job\"}) by (cpu))) - avg(sum by (mode)(rate(node_cpu_seconds_total{mode='idle',instance=\"$node\",job=\"$job\"}[$__rate_interval])))) * 100) / count(count(node_cpu_seconds_total{instance=\"$node\",job=\"$job\"}) by (cpu))",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 240
              }
            ],
            "title": "CPU Busy",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Busy state of all CPU cores together (5 min average)",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 85
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 95
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 3,
              "y": 1
            },
            "id": 155,
            "options": {
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "avg(node_load5{instance=\"$node\",job=\"$job\"}) /  count(count(node_cpu_seconds_total{instance=\"$node\",job=\"$job\"}) by (cpu)) * 100",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Sys Load (5m avg)",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Busy state of all CPU cores together (15 min average)",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 85
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 95
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 6,
              "y": 1
            },
            "id": 19,
            "options": {
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "avg(node_load15{instance=\"$node\",job=\"$job\"}) /  count(count(node_cpu_seconds_total{instance=\"$node\",job=\"$job\"}) by (cpu)) * 100",
                "hide": false,
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Sys Load (15m avg)",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Non available RAM memory",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 80
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 90
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 9,
              "y": 1
            },
            "hideTimeOverride": false,
            "id": 16,
            "options": {
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "((node_memory_MemTotal_bytes{instance=\"$node\",job=\"$job\"} - node_memory_MemFree_bytes{instance=\"$node\",job=\"$job\"}) / (node_memory_MemTotal_bytes{instance=\"$node\",job=\"$job\"} )) * 100",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "100 - ((node_memory_MemAvailable_bytes{instance=\"$node\",job=\"$job\"} * 100) / node_memory_MemTotal_bytes{instance=\"$node\",job=\"$job\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "refId": "B",
                "step": 240
              }
            ],
            "title": "RAM Used",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Used Swap",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 10
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 25
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 12,
              "y": 1
            },
            "id": 21,
            "options": {
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "((node_memory_SwapTotal_bytes{instance=\"$node\",job=\"$job\"} - node_memory_SwapFree_bytes{instance=\"$node\",job=\"$job\"}) / (node_memory_SwapTotal_bytes{instance=\"$node\",job=\"$job\"} )) * 100",
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "SWAP Used",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Used Root FS",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 80
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 90
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 15,
              "y": 1
            },
            "id": 154,
            "options": {
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "100 - ((node_filesystem_avail_bytes{instance=\"$node\",job=\"$job\",mountpoint=\"/\",fstype!=\"rootfs\"} * 100) / node_filesystem_size_bytes{instance=\"$node\",job=\"$job\",mountpoint=\"/\",fstype!=\"rootfs\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Root FS Used",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Total number of CPU cores",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 2,
              "x": 18,
              "y": 1
            },
            "id": 14,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "count(count(node_cpu_seconds_total{instance=\"$node\",job=\"$job\"}) by (cpu))",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A",
                "step": 240
              }
            ],
            "title": "CPU Cores",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "System uptime",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 1,
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 20,
              "y": 1
            },
            "hideTimeOverride": true,
            "id": 15,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "node_time_seconds{instance=\"$node\",job=\"$job\"} - node_boot_time_seconds{instance=\"$node\",job=\"$job\"}",
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Uptime",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Total RootFS",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 70
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 90
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 2,
              "x": 18,
              "y": 3
            },
            "id": 23,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "node_filesystem_size_bytes{instance=\"$node\",job=\"$job\",mountpoint=\"/\",fstype!=\"rootfs\"}",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "RootFS Total",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Total RAM",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 2,
              "x": 20,
              "y": 3
            },
            "id": 75,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "node_memory_MemTotal_bytes{instance=\"$node\",job=\"$job\"}",
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "RAM Total",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Total SWAP",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 2,
              "x": 22,
              "y": 3
            },
            "id": 18,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "node_memory_SwapTotal_bytes{instance=\"$node\",job=\"$job\"}",
                "intervalFactor": 1,
                "refId": "A",
                "step": 240
              }
            ],
            "title": "SWAP Total",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 5
            },
            "id": 263,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Basic CPU / Mem / Net / Disk",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Basic CPU info",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "percent"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Busy Iowait"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#890F02",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Idle"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "green",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Busy System"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Busy User"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A437C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Busy Other"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6D1F62",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Busy IRQs"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 6
            },
            "id": 77,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true,
                "width": 250
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum by (instance)(rate(node_cpu_seconds_total{mode=\"system\",instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "Busy System",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum by (instance)(rate(node_cpu_seconds_total{mode='user',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "Busy User",
                "refId": "B",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum by (instance)(rate(node_cpu_seconds_total{mode='iowait',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "Busy Iowait",
                "refId": "C",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum by (instance)(rate(node_cpu_seconds_total{mode=~\".*irq\",instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "Busy IRQs",
                "refId": "D",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum (rate(node_cpu_seconds_total{mode!='idle',mode!='user',mode!='system',mode!='iowait',mode!='irq',mode!='softirq',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "Busy Other",
                "refId": "E",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='idle',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "Idle",
                "refId": "F",
                "step": 240
              }
            ],
            "title": "CPU Basic",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Basic memory usage",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Apps"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#629E51",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Buffers"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#614D93",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Cache"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6D1F62",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Cached"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#511749",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Committed"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#508642",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Free"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A437C",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#CFFAFF",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Inactive"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#584477",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "PageTables"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Page_Tables"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "RAM_Free"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "SWAP Used"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Slab"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#806EB7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Slab_Cache"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0752D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Swap"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Swap Used"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Swap_Cache"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C15C17",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Swap_Free"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#2F575E",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Unused"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "RAM Total"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 0
                    },
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "A",
                        "mode": "none"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "RAM Cache + Buffer"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#052B51",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "RAM Free"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Available"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#DEDAF7",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 0
                    },
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "A",
                        "mode": "none"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 6
            },
            "id": 78,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true,
                "width": 350
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "node_memory_MemTotal_bytes{instance=\"$node\",job=\"$job\"}",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "RAM Total",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "node_memory_MemTotal_bytes{instance=\"$node\",job=\"$job\"} - node_memory_MemFree_bytes{instance=\"$node\",job=\"$job\"} - (node_memory_Cached_bytes{instance=\"$node\",job=\"$job\"} + node_memory_Buffers_bytes{instance=\"$node\",job=\"$job\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "RAM Used",
                "refId": "B",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "node_memory_Cached_bytes{instance=\"$node\",job=\"$job\"} + node_memory_Buffers_bytes{instance=\"$node\",job=\"$job\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "RAM Cache + Buffer",
                "refId": "C",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "node_memory_MemFree_bytes{instance=\"$node\",job=\"$job\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "RAM Free",
                "refId": "D",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "(node_memory_SwapTotal_bytes{instance=\"$node\",job=\"$job\"} - node_memory_SwapFree_bytes{instance=\"$node\",job=\"$job\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "SWAP Used",
                "refId": "E",
                "step": 240
              }
            ],
            "title": "Memory Basic",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Basic network info per interface",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Recv_bytes_eth2"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Recv_bytes_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Recv_drop_eth2"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Recv_drop_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Recv_errs_eth2"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Recv_errs_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#CCA300",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Trans_bytes_eth2"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Trans_bytes_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Trans_drop_eth2"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#6ED0E0",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Trans_drop_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0F9D7",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Trans_errs_eth2"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Trans_errs_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#CCA300",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "recv_bytes_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "recv_drop_eth0"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#99440A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "recv_drop_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#967302",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "recv_errs_eth0"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "recv_errs_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#890F02",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "trans_bytes_eth0"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#7EB26D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "trans_bytes_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A50A1",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "trans_drop_eth0"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#99440A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "trans_drop_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#967302",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "trans_errs_eth0"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#BF1B00",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "trans_errs_lo"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#890F02",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*trans.*/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 13
            },
            "id": 74,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "rate(node_network_receive_bytes_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])*8",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "recv {{device}}",
                "refId": "A",
                "step": 240
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "rate(node_network_transmit_bytes_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])*8",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "trans {{device}} ",
                "refId": "B",
                "step": 240
              }
            ],
            "title": "Network Traffic Basic",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "description": "Disk space used of all filesystems mounted",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 13
            },
            "id": 152,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "100 - ((node_filesystem_avail_bytes{instance=\"$node\",job=\"$job\",device!~'rootfs'} * 100) / node_filesystem_size_bytes{instance=\"$node\",job=\"$job\",device!~'rootfs'})",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{mountpoint}}",
                "refId": "A",
                "step": 240
              }
            ],
            "title": "Disk Space Used Basic",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 20
            },
            "id": 265,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "percentage",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 40,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineStyle": {
                        "fill": "solid"
                      },
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "percent"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "fieldMinMax": false,
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 12,
                  "w": 12,
                  "x": 0,
                  "y": 3
                },
                "id": 3,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 250
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode=\"system\",instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "interval": "10s",
                    "intervalFactor": 1,
                    "legendFormat": "System - Processes executing in kernel mode",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='user',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "User - Normal processes executing in user mode",
                    "range": true,
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='nice',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Nice - Niced processes executing in user mode",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='idle',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Idle - Waiting for something to happen",
                    "refId": "D",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='iowait',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Iowait - Waiting for I/O to complete",
                    "refId": "E",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='irq',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Irq - Servicing interrupts",
                    "refId": "F",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='softirq',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Softirq - Servicing softirqs",
                    "refId": "G",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='steal',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Steal - Time spent in other operating systems when running in a virtualized environment",
                    "refId": "H",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum by (mode)(rate(node_cpu_seconds_total{mode='guest',instance=\"$node\",job=\"$job\"}[$__rate_interval])) * 100",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Guest - Time spent running a virtual CPU for a guest operating system",
                    "refId": "I",
                    "step": 240
                  }
                ],
                "title": "CPU",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 40,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap - Swap memory usage"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused - Free memory unassigned"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Hardware Corrupted - *./"
                      },
                      "properties": [
                        {
                          "id": "custom.stacking",
                          "value": {
                            "group": "A",
                            "mode": "none"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 12,
                  "w": 12,
                  "x": 12,
                  "y": 3
                },
                "id": 24,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_MemTotal_bytes{instance=\"$node\",job=\"$job\"} - node_memory_MemFree_bytes{instance=\"$node\",job=\"$job\"} - node_memory_Buffers_bytes{instance=\"$node\",job=\"$job\"} - node_memory_Cached_bytes{instance=\"$node\",job=\"$job\"} - node_memory_Slab_bytes{instance=\"$node\",job=\"$job\"} - node_memory_PageTables_bytes{instance=\"$node\",job=\"$job\"} - node_memory_SwapCached_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Apps - Memory used by user-space applications",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_PageTables_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "PageTables - Memory used to map between virtual and physical memory addresses",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_SwapCached_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "SwapCache - Memory that keeps track of pages that have been fetched from swap but not yet been modified",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Slab_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Slab - Memory used by the kernel to cache data structures for its own use (caches like inode, dentry, etc)",
                    "refId": "D",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Cached_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Cache - Parked file data (file content) cache",
                    "refId": "E",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Buffers_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Buffers - Block device (e.g. harddisk) cache",
                    "refId": "F",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_MemFree_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Unused - Free memory unassigned",
                    "refId": "G",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "(node_memory_SwapTotal_bytes{instance=\"$node\",job=\"$job\"} - node_memory_SwapFree_bytes{instance=\"$node\",job=\"$job\"})",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Swap - Swap space used",
                    "refId": "H",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_HardwareCorrupted_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working",
                    "refId": "I",
                    "step": 240
                  }
                ],
                "title": "Memory Stack",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bits out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 40,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "receive_packets_eth0"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "receive_packets_lo"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "transmit_packets_eth0"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "transmit_packets_lo"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 12,
                  "w": 12,
                  "x": 0,
                  "y": 15
                },
                "id": 84,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_receive_bytes_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])*8",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Receive",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_transmit_bytes_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])*8",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Transmit",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Network Traffic",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 40,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 12,
                  "w": 12,
                  "x": 12,
                  "y": 15
                },
                "id": 156,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filesystem_size_bytes{instance=\"$node\",job=\"$job\",device!~'rootfs'} - node_filesystem_avail_bytes{instance=\"$node\",job=\"$job\",device!~'rootfs'}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{mountpoint}}",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Disk Space Used",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "IO read (-) / write (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "iops"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Read.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 12,
                  "w": 12,
                  "x": 0,
                  "y": 27
                },
                "id": 229,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_reads_completed_total{instance=\"$node\",job=\"$job\",device=~\"$diskdevices\"}[$__rate_interval])",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}} - Reads completed",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_writes_completed_total{instance=\"$node\",job=\"$job\",device=~\"$diskdevices\"}[$__rate_interval])",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Writes completed",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Disk IOps",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes read (-) / write (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 40,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "Bps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "io time"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#890F02",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*read*./"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byType",
                        "options": "time"
                      },
                      "properties": [
                        {
                          "id": "custom.axisPlacement",
                          "value": "hidden"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 12,
                  "w": 12,
                  "x": 12,
                  "y": 27
                },
                "id": 42,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_read_bytes_total{instance=\"$node\",job=\"$job\",device=~\"$diskdevices\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Successfully read bytes",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_written_bytes_total{instance=\"$node\",job=\"$job\",device=~\"$diskdevices\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Successfully written bytes",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "I/O Usage Read / Write",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "%util",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 40,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "percentunit"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "io time"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#890F02",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byType",
                        "options": "time"
                      },
                      "properties": [
                        {
                          "id": "custom.axisPlacement",
                          "value": "hidden"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 12,
                  "w": 12,
                  "x": 0,
                  "y": 39
                },
                "id": 127,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_io_time_seconds_total{instance=\"$node\",job=\"$job\",device=~\"$diskdevices\"} [$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}}",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "I/O Utilization",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "CPU / Memory / Net / Disk",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 21
            },
            "id": 266,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 4
                },
                "id": 136,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Inactive_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Inactive - Memory which has been less recently used.  It is more eligible to be reclaimed for other purposes",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Active_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Active - Memory that has been used more recently and usually not reclaimed unless absolutely necessary",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory Active / Inactive",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*CommitLimit - *./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 4
                },
                "id": 135,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Committed_AS_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Committed_AS - Amount of memory presently allocated on the system",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_CommitLimit_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "CommitLimit - Amount of  memory currently available to be allocated on the system",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory Committed",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 14
                },
                "id": 191,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Inactive_file_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Inactive_file - File-backed memory on inactive LRU list",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Inactive_anon_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Inactive_anon - Anonymous and swap cache on inactive LRU list, including tmpfs (shmem)",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Active_file_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Active_file - File-backed memory on active LRU list",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Active_anon_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Active_anon - Anonymous and swap cache on active least-recently-used (LRU) list, including tmpfs",
                    "refId": "D",
                    "step": 240
                  }
                ],
                "title": "Memory Active / Inactive Detail",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 14
                },
                "id": 130,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Writeback_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Writeback - Memory which is actively being written back to disk",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_WritebackTmp_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "WritebackTmp - Memory used by FUSE for temporary writeback buffers",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Dirty_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Dirty - Memory which is waiting to get written back to the disk",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Memory Writeback and Dirty",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "ShmemHugePages - Memory used by shared memory (shmem) and tmpfs allocated  with huge pages"
                      },
                      "properties": [
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "ShmemHugePages - Memory used by shared memory (shmem) and tmpfs allocated  with huge pages"
                      },
                      "properties": [
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 24
                },
                "id": 138,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Mapped_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Mapped - Used memory in mapped pages files which have been mmapped, such as libraries",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Shmem_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Shmem - Used shared memory (shared between several processes, thus including RAM disks)",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_ShmemHugePages_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "ShmemHugePages - Memory used by shared memory (shmem) and tmpfs allocated  with huge pages",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_ShmemPmdMapped_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "ShmemPmdMapped - Amount of shared (shmem/tmpfs) memory backed by huge pages",
                    "refId": "D",
                    "step": 240
                  }
                ],
                "title": "Memory Shared and Mapped",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 24
                },
                "id": 131,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_SUnreclaim_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "SUnreclaim - Part of Slab, that cannot be reclaimed on memory pressure",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_SReclaimable_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "SReclaimable - Part of Slab, that might be reclaimed, such as caches",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory Slab",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 34
                },
                "id": 70,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_VmallocChunk_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "VmallocChunk - Largest contiguous block of vmalloc area which is free",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_VmallocTotal_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "VmallocTotal - Total size of vmalloc memory area",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_VmallocUsed_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "VmallocUsed - Amount of vmalloc area which is used",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Memory Vmalloc",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 34
                },
                "id": 159,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Bounce_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Bounce - Memory used for block device bounce buffers",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Memory Bounce",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Inactive *./"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 44
                },
                "id": 129,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_AnonHugePages_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "AnonHugePages - Memory in anonymous huge pages",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_AnonPages_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "AnonPages - Memory in user pages not backed by files",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory Anonymous",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 44
                },
                "id": 160,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_KernelStack_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "KernelStack - Kernel memory stack. This is not reclaimable",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Percpu_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "PerCPU - Per CPU memory allocated dynamically by loadable modules",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory Kernel / CPU",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "pages",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 54
                },
                "id": 140,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_HugePages_Free{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "HugePages_Free - Huge pages in the pool that are not yet allocated",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_HugePages_Rsvd{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "HugePages_Rsvd - Huge pages for which a commitment to allocate from the pool has been made, but no allocation has yet been made",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_HugePages_Surp{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "HugePages_Surp - Huge pages in the pool above the value in /proc/sys/vm/nr_hugepages",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Memory HugePages Counter",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 54
                },
                "id": 71,
                "options": {
                  "legend": {
                    "calcs": [
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_HugePages_Total{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "HugePages - Total size of the pool of huge pages",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Hugepagesize_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Hugepagesize - Huge Page size",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory HugePages Size",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 64
                },
                "id": 128,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_DirectMap1G_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "DirectMap1G - Amount of pages mapped as this size",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_DirectMap2M_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "DirectMap2M - Amount of pages mapped as this size",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_DirectMap4k_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "DirectMap4K - Amount of pages mapped as this size",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Memory DirectMap",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 64
                },
                "id": 137,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Unevictable_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Unevictable - Amount of unevictable memory that can't be swapped out for a variety of reasons",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_Mlocked_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "MLocked - Size of pages locked to memory using the mlock() system call",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory Unevictable and MLocked",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 74
                },
                "id": 132,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_memory_NFS_Unstable_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "NFS Unstable - Memory in NFS pages sent to the server, but not yet committed to the storage",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Memory NFS",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Memory Meminfo",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 22
            },
            "id": 267,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "pages out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*out/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 5
                },
                "id": 176,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_vmstat_pgpgin{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Pagesin - Page in operations",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_vmstat_pgpgout{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Pagesout - Page out operations",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory Pages In / Out",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": true,
                      "axisColorMode": "text",
                      "axisLabel": "pages out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*out/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 5
                },
                "id": 22,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_vmstat_pswpin{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Pswpin - Pages swapped in",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_vmstat_pswpout{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Pswpout - Pages swapped out",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Memory Pages Swap In / Out",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "faults",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Apps"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#629E51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A437C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Hardware Corrupted - Amount of RAM that the kernel identified as corrupted / not working"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#CFFAFF",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "RAM_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#806EB7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#2F575E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unused"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Pgfault - Page major and minor fault operations"
                      },
                      "properties": [
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        },
                        {
                          "id": "custom.stacking",
                          "value": {
                            "group": "A",
                            "mode": "none"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 15
                },
                "id": 175,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 350
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_vmstat_pgfault{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Pgfault - Page major and minor fault operations",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_vmstat_pgmajfault{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Pgmajfault - Major page fault operations",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_vmstat_pgfault{instance=\"$node\",job=\"$job\"}[$__rate_interval])  - rate(node_vmstat_pgmajfault{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Pgminfault - Minor page fault operations",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Memory Page Faults",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#99440A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Buffers"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#58140C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6D1F62",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Cached"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Committed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#508642",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Dirty"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Free"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#B7DBAB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Mapped"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PageTables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Page_Tables"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Slab_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Swap_Cache"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C15C17",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#511749",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total RAM + Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#052B51",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Total Swap"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "VmallocUsed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 15
                },
                "id": 307,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_vmstat_oom_kill{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "oom killer invocations ",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "OOM Killer",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Memory Vmstat",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 23
            },
            "id": 293,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "seconds",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Variation*./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#890F02",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 6
                },
                "id": 260,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_timex_estimated_error_seconds{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Estimated error in seconds",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_timex_offset_seconds{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Time offset in between local system and reference clock",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_timex_maxerror_seconds{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Maximum error in seconds",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Time Synchronized Drift",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 6
                },
                "id": 291,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_timex_loop_time_constant{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Phase-locked loop time adjust",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Time PLL Adjust",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Variation*./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#890F02",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 16
                },
                "id": 168,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_timex_sync_status{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Is clock synchronized to a reliable server (1 = yes, 0 = no)",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_timex_frequency_adjustment_ratio{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Local clock frequency adjustment",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Time Synchronized Status",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "seconds",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 16
                },
                "id": 294,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_timex_tick_seconds{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Seconds between clock ticks",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_timex_tai_offset_seconds{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "International Atomic Time (TAI) offset",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Time Misc",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "System Timesync",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 312,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 7
                },
                "id": 62,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_procs_blocked{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Processes blocked waiting for I/O to complete",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_procs_running{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Processes in runnable state",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Processes Status",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 7
                },
                "id": 315,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "editorMode": "code",
                    "expr": "node_processes_state{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ state }}",
                    "range": true,
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Processes State",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "forks / sec",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 17
                },
                "id": 148,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_forks_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Processes forks second",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Processes  Forks",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "decbytes"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Max.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 17
                },
                "id": 149,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(process_virtual_memory_bytes{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Processes virtual memory size in bytes",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "process_resident_memory_max_bytes{instance=\"$node\",job=\"$job\"}",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Maximum amount of virtual memory available in bytes",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(process_virtual_memory_bytes{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Processes virtual memory size in bytes",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(process_virtual_memory_max_bytes{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Maximum amount of virtual memory available in bytes",
                    "refId": "D",
                    "step": 240
                  }
                ],
                "title": "Processes Memory",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "PIDs limit"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F2495C",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 27
                },
                "id": 313,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_processes_pids{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Number of PIDs",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_processes_max_processes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "PIDs limit",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "PIDs Number and Limit",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "seconds",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*waiting.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 27
                },
                "id": 305,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_schedstat_running_seconds_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "CPU {{ cpu }} - seconds spent running a process",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_schedstat_waiting_seconds_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "CPU {{ cpu }} - seconds spent by processing waiting for this CPU",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Process schedule stats Running / Waiting",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Threads limit"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F2495C",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 37
                },
                "id": 314,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_processes_threads{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Allocated threads",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_processes_max_threads{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Threads limit",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Threads Number and Limit",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "System Processes",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 25
            },
            "id": 269,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 8
                },
                "id": 8,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_context_switches_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Context switches",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_intr_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "Interrupts",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Context Switches / Interrupts",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 8
                },
                "id": 7,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_load1{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 4,
                    "legendFormat": "Load 1m",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_load5{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 4,
                    "legendFormat": "Load 5m",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_load15{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 4,
                    "legendFormat": "Load 15m",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "System Load",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Critical*./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Max*./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 18
                },
                "id": 259,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_interrupts_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ type }} - {{ info }}",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Interrupts Detail",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 18
                },
                "id": 306,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_schedstat_timeslices_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "CPU {{ cpu }}",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Schedule timeslices executed by each cpu",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 28
                },
                "id": 151,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_entropy_available_bits{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Entropy available to random number generators",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Entropy",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "seconds",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 28
                },
                "id": 308,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(process_cpu_seconds_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Time spent",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "CPU time spent in user and system contexts",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Max*./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#890F02",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 38
                },
                "id": 64,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "process_max_fds{instance=\"$node\",job=\"$job\"}",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Maximum open file descriptors",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "process_open_fds{instance=\"$node\",job=\"$job\"}",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Open file descriptors",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "File Descriptors",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "System Misc",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 26
            },
            "id": 304,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "temperature",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "celsius"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Critical*./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Max*./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 9
                },
                "id": 158,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_hwmon_temp_celsius{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ chip }} {{ sensor }} temp",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_hwmon_temp_crit_alarm_celsius{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": true,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ chip }} {{ sensor }} Critical Alarm",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_hwmon_temp_crit_celsius{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ chip }} {{ sensor }} Critical",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_hwmon_temp_crit_hyst_celsius{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": true,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ chip }} {{ sensor }} Critical Historical",
                    "refId": "D",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_hwmon_temp_max_celsius{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": true,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ chip }} {{ sensor }} Max",
                    "refId": "E",
                    "step": 240
                  }
                ],
                "title": "Hardware temperature monitor",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Max*./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 9
                },
                "id": 300,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_cooling_device_cur_state{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Current {{ name }} in {{ type }}",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_cooling_device_max_state{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Max {{ name }} in {{ type }}",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Throttle cooling device",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 19
                },
                "id": 302,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_power_supply_online{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ power_supply }} online",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Power supply",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Hardware Misc",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 27
            },
            "id": 296,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 10
                },
                "id": 297,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_systemd_socket_accepted_connections_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{ name }} Connections",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Systemd Sockets",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Failed"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F2495C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Inactive"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FF9830",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Active"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#73BF69",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Deactivating"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FFCB7D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Activating"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#C8F2C2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 10
                },
                "id": 298,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_systemd_units{instance=\"$node\",job=\"$job\",state=\"activating\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Activating",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_systemd_units{instance=\"$node\",job=\"$job\",state=\"active\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Active",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_systemd_units{instance=\"$node\",job=\"$job\",state=\"deactivating\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Deactivating",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_systemd_units{instance=\"$node\",job=\"$job\",state=\"failed\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Failed",
                    "refId": "D",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_systemd_units{instance=\"$node\",job=\"$job\",state=\"inactive\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Inactive",
                    "refId": "E",
                    "step": 240
                  }
                ],
                "title": "Systemd Units State",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Systemd",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 28
            },
            "id": 270,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "The number (after merges) of I/O requests completed per second for the device",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "IO read (-) / write (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "iops"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Read.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 11
                },
                "id": 9,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_reads_completed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}} - Reads completed",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_writes_completed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Writes completed",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Disk IOps Completed",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "The number of bytes read from or written to the device per second",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes read (-) / write (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "Bps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Read.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 11
                },
                "id": 33,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_read_bytes_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}} - Read bytes",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_written_bytes_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Written bytes",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Disk R/W Data",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "The average time for requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "time. read (-) / write (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 30,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Read.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 21
                },
                "id": 37,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_read_time_seconds_total{instance=\"$node\",job=\"$job\"}[$__rate_interval]) / rate(node_disk_reads_completed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}} - Read wait time avg",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_write_time_seconds_total{instance=\"$node\",job=\"$job\"}[$__rate_interval]) / rate(node_disk_writes_completed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Write wait time avg",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Disk Average Wait Time",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "The average queue length of the requests that were issued to the device",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "aqu-sz",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 21
                },
                "id": 35,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_io_time_weighted_seconds_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}}",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Average Queue Size",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "The number of read and write requests merged per second that were queued to the device",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "I/Os",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "iops"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Read.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 31
                },
                "id": 133,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_reads_merged_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Read merged",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_writes_merged_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Write merged",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Disk R/W Merged",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "Percentage of elapsed time during which I/O requests were issued to the device (bandwidth utilization for the device). Device saturation occurs when this value is close to 100% for devices serving requests serially.  But for devices  serving requests in parallel, such as RAID arrays and modern SSDs, this number does not reflect their performance limits.",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "%util",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 30,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "percentunit"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 31
                },
                "id": 36,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_io_time_seconds_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}} - IO",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_discard_time_seconds_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}} - discard",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Time Spent Doing I/Os",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "The number of outstanding requests at the instant the sample was taken. Incremented as requests are given to appropriate struct request_queue and decremented as they finish.",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "Outstanding req.",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 41
                },
                "id": 34,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_disk_io_now{instance=\"$node\",job=\"$job\"}",
                    "interval": "",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}} - IO now",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Instantaneous Queue Size",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "IOs",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "iops"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EAB839",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#6ED0E0",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EF843C",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#584477",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda2_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BA43A9",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sda3_.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F4D598",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#0A50A1",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#BF1B00",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdb3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0752D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#962D82",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#614D93",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdc3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#9AC48A",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#65C5DB",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9934E",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#EA6460",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde1.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E0F9D7",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sdd2.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#FCEACA",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*sde3.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F9E2D2",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 41
                },
                "id": 301,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_discards_completed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "intervalFactor": 4,
                    "legendFormat": "{{device}} - Discards completed",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_disk_discards_merged_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Discards merged",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Disk IOps Discards completed / merged",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Storage Disk",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 29
            },
            "id": 271,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 12
                },
                "id": 43,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filesystem_avail_bytes{instance=\"$node\",job=\"$job\",device!~'rootfs'}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "{{mountpoint}} - Available",
                    "metric": "",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filesystem_free_bytes{instance=\"$node\",job=\"$job\",device!~'rootfs'}",
                    "format": "time_series",
                    "hide": true,
                    "intervalFactor": 1,
                    "legendFormat": "{{mountpoint}} - Free",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filesystem_size_bytes{instance=\"$node\",job=\"$job\",device!~'rootfs'}",
                    "format": "time_series",
                    "hide": true,
                    "intervalFactor": 1,
                    "legendFormat": "{{mountpoint}} - Size",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Filesystem space available",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "file nodes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 12
                },
                "id": 41,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filesystem_files_free{instance=\"$node\",job=\"$job\",device!~'rootfs'}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "{{mountpoint}} - Free file nodes",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "File Nodes Free",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "files",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 22
                },
                "id": 28,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filefd_maximum{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 4,
                    "legendFormat": "Max open files",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filefd_allocated{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "Open files",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "File Descriptor",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "file Nodes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 22
                },
                "id": 219,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filesystem_files{instance=\"$node\",job=\"$job\",device!~'rootfs'}",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "{{mountpoint}} - File nodes total",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "File Nodes Size",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "max": 1,
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "/ ReadOnly"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#890F02",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsZero",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byValue",
                        "options": {
                          "op": "gte",
                          "reducer": "allIsNull",
                          "value": 0
                        }
                      },
                      "properties": [
                        {
                          "id": "custom.hideFrom",
                          "value": {
                            "legend": true,
                            "tooltip": true,
                            "viz": false
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 32
                },
                "id": 44,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filesystem_readonly{instance=\"$node\",job=\"$job\",device!~'rootfs'}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{mountpoint}} - ReadOnly",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_filesystem_device_error{instance=\"$node\",job=\"$job\",device!~'rootfs',fstype!~'tmpfs'}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{mountpoint}} - Device error",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Filesystem in ReadOnly / Error",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Storage Filesystem",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 30
            },
            "id": 272,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packets out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "pps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "receive_packets_eth0"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "receive_packets_lo"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "transmit_packets_eth0"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#7EB26D",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "transmit_packets_lo"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#E24D42",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 13
                },
                "id": 60,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_receive_packets_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Receive",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_transmit_packets_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Transmit",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Network Traffic by Packets",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packets out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "pps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 13
                },
                "id": 142,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_receive_errs_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Receive errors",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_transmit_errs_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Rransmit errors",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Network Traffic Errors",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packets out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "pps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 23
                },
                "id": 143,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_receive_drop_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Receive drop",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_transmit_drop_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Transmit drop",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Network Traffic Drop",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packets out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "pps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 23
                },
                "id": 141,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_receive_compressed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Receive compressed",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_transmit_compressed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Transmit compressed",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Network Traffic Compressed",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packets out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "pps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 33
                },
                "id": 146,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_receive_multicast_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Receive multicast",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Network Traffic Multicast",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packets out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "pps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 33
                },
                "id": 144,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_receive_fifo_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Receive fifo",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_transmit_fifo_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Transmit fifo",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Network Traffic Fifo",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packets out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "pps"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 43
                },
                "id": 145,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_receive_frame_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Receive frame",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Network Traffic Frame",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 43
                },
                "id": 231,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_transmit_carrier_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Statistic transmit_carrier",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Network Traffic Carrier",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Trans.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 53
                },
                "id": 232,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_network_transmit_colls_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{device}} - Transmit colls",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Network Traffic Colls",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "entries",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "NF conntrack limit"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#890F02",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 53
                },
                "id": 61,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_nf_conntrack_entries{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "NF conntrack entries",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_nf_conntrack_entries_limit{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "NF conntrack limit",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "NF Contrack",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "Entries",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 63
                },
                "id": 230,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_arp_entries{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{ device }} - ARP entries",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "ARP Entries",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "decimals": 0,
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 63
                },
                "id": 288,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_network_mtu_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{ device }} - Bytes",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "MTU",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "decimals": 0,
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 73
                },
                "id": 280,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_network_speed_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{ device }} - Speed",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Speed",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packets",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "decimals": 0,
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 73
                },
                "id": 289,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_network_transmit_queue_length{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{ device }} -   Interface transmit queue length",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Queue Length",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "packetes drop (-) / process (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Dropped.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 83
                },
                "id": 290,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_softnet_processed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "CPU {{cpu}} - Processed",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_softnet_dropped_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "CPU {{cpu}} - Dropped",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Softnet Packets",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 83
                },
                "id": 310,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_softnet_times_squeezed_total{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "CPU {{cpu}} - Squeezed",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Softnet Out of Quota",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 93
                },
                "id": 309,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_network_up{operstate=\"up\",instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{interface}} - Operational state UP",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_network_carrier{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "instant": false,
                    "legendFormat": "{{device}} - Physical link state",
                    "refId": "B"
                  }
                ],
                "title": "Network Operational Status",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Network Traffic",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 31
            },
            "id": 273,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 14
                },
                "id": 63,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_TCP_alloc{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "TCP_alloc - Allocated sockets",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_TCP_inuse{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "TCP_inuse - Tcp sockets currently in use",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_TCP_mem{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": true,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "TCP_mem - Used memory for tcp",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_TCP_orphan{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "TCP_orphan - Orphan sockets",
                    "refId": "D",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_TCP_tw{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "TCP_tw - Sockets waiting close",
                    "refId": "E",
                    "step": 240
                  }
                ],
                "title": "Sockstat TCP",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 14
                },
                "id": 124,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_UDPLITE_inuse{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "UDPLITE_inuse - Udplite sockets currently in use",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_UDP_inuse{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "UDP_inuse - Udp sockets currently in use",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_UDP_mem{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "UDP_mem - Used memory for udp",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Sockstat UDP",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 24
                },
                "id": 125,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_FRAG_inuse{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "FRAG_inuse - Frag sockets currently in use",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_RAW_inuse{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "RAW_inuse - Raw sockets currently in use",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "Sockstat FRAG / RAW",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "bytes",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 24
                },
                "id": 220,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_TCP_mem_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "mem_bytes - TCP sockets in that state",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_UDP_mem_bytes{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "mem_bytes - UDP sockets in that state",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_FRAG_memory{instance=\"$node\",job=\"$job\"}",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "FRAG_memory - Used memory for frag",
                    "refId": "C"
                  }
                ],
                "title": "Sockstat Memory Size",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "sockets",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 34
                },
                "id": 126,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_sockstat_sockets_used{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Sockets_used - Sockets currently in use",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Sockstat Used",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Network Sockstat",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 274,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "octets out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Out.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 15
                },
                "id": 221,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_IpExt_InOctets{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "InOctets - Received octets",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_IpExt_OutOctets{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "OutOctets - Sent octets",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Netstat IP In / Out Octets",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "datagrams",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 15
                },
                "id": 81,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true,
                    "width": 300
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Ip_Forwarding{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Forwarding - IP forwarding",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Netstat IP Forwarding",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "messages out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Out.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 25
                },
                "id": 115,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Icmp_InMsgs{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "InMsgs -  Messages which the entity received. Note that this counter includes all those counted by icmpInErrors",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Icmp_OutMsgs{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "OutMsgs - Messages which this entity attempted to send. Note that this counter includes all those counted by icmpOutErrors",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "ICMP In / Out",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "messages out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Out.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 25
                },
                "id": 50,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Icmp_InErrors{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "InErrors - Messages which the entity received but determined as having ICMP-specific errors (bad ICMP checksums, bad length, etc.)",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "ICMP Errors",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "datagrams out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Out.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Snd.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 35
                },
                "id": 55,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Udp_InDatagrams{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "InDatagrams - Datagrams received",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Udp_OutDatagrams{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "OutDatagrams - Datagrams sent",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "UDP In / Out",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "datagrams",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 35
                },
                "id": 109,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Udp_InErrors{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "InErrors - UDP Datagrams that could not be delivered to an application",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Udp_NoPorts{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "NoPorts - UDP Datagrams received on a port with no listener",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_UdpLite_InErrors{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "legendFormat": "InErrors Lite - UDPLite Datagrams that could not be delivered to an application",
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Udp_RcvbufErrors{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "RcvbufErrors - UDP buffer errors received",
                    "refId": "D",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Udp_SndbufErrors{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "SndbufErrors - UDP buffer errors send",
                    "refId": "E",
                    "step": 240
                  }
                ],
                "title": "UDP Errors",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "datagrams out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Out.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Snd.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 45
                },
                "id": 299,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Tcp_InSegs{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "instant": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "InSegs - Segments received, including those received in error. This count includes segments received on currently established connections",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Tcp_OutSegs{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "OutSegs - Segments sent, including those on current connections but excluding those containing only retransmitted octets",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "TCP In / Out",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 45
                },
                "id": 104,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_TcpExt_ListenOverflows{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "ListenOverflows - Times the listen queue of a socket overflowed",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_TcpExt_ListenDrops{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "ListenDrops - SYNs to LISTEN sockets ignored",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_TcpExt_TCPSynRetrans{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "TCPSynRetrans - SYN-SYN/ACK retransmits to break down retransmissions in SYN, fast/timeout retransmits",
                    "refId": "C",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Tcp_RetransSegs{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "legendFormat": "RetransSegs - Segments retransmitted - that is, the number of TCP segments transmitted containing one or more previously transmitted octets",
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Tcp_InErrs{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "legendFormat": "InErrs - Segments received in error (e.g., bad TCP checksums)",
                    "refId": "E"
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Tcp_OutRsts{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "interval": "",
                    "legendFormat": "OutRsts - Segments sent with RST flag",
                    "refId": "F"
                  }
                ],
                "title": "TCP Errors",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "connections",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*MaxConn *./"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#890F02",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.fillOpacity",
                          "value": 0
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 55
                },
                "id": 85,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_netstat_Tcp_CurrEstab{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "CurrEstab - TCP connections for which the current state is either ESTABLISHED or CLOSE- WAIT",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_netstat_Tcp_MaxConn{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "MaxConn - Limit on the total number of TCP connections the entity can support (Dynamic is \"-1\")",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "TCP Connections",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter out (-) / in (+)",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*Sent.*/"
                      },
                      "properties": [
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 55
                },
                "id": 91,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_TcpExt_SyncookiesFailed{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "SyncookiesFailed - Invalid SYN cookies received",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_TcpExt_SyncookiesRecv{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "SyncookiesRecv - SYN cookies received",
                    "refId": "B",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_TcpExt_SyncookiesSent{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "SyncookiesSent - SYN cookies sent",
                    "refId": "C",
                    "step": 240
                  }
                ],
                "title": "TCP SynCookie",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "connections",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 65
                },
                "id": 82,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Tcp_ActiveOpens{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "ActiveOpens - TCP connections that have made a direct transition to the SYN-SENT state from the CLOSED state",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(node_netstat_Tcp_PassiveOpens{instance=\"$node\",job=\"$job\"}[$__rate_interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "PassiveOpens - TCP connections that have made a direct transition to the SYN-RCVD state from the LISTEN state",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "TCP Direct Transition",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Network Netstat",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 33
            },
            "id": 279,
            "panels": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "seconds",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 0,
                  "y": 16
                },
                "id": 40,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_scrape_collector_duration_seconds{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{collector}} - Scrape duration",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "title": "Node Exporter Scrape Time",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "counter",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 20,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byRegexp",
                        "options": "/.*error.*/"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#F2495C",
                            "mode": "fixed"
                          }
                        },
                        {
                          "id": "custom.transform",
                          "value": "negative-Y"
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 10,
                  "w": 12,
                  "x": 12,
                  "y": 16
                },
                "id": 157,
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "multi",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_scrape_collector_success{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{collector}} - Scrape success",
                    "refId": "A",
                    "step": 240
                  },
                  {
                    "datasource": {
                      "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "node_textfile_scrape_error{instance=\"$node\",job=\"$job\"}",
                    "format": "time_series",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "{{collector}} - Scrape textfile error (1 = true)",
                    "refId": "B",
                    "step": 240
                  }
                ],
                "title": "Node Exporter Scrape",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "refId": "A"
              }
            ],
            "title": "Node Exporter",
            "type": "row"
          }
        ],
        "refresh": "",
        "schemaVersion": 39,
        "tags": [
          "linux"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "datasource",
              "multi": false,
              "name": "DS_PROMETHEUS",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {},
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "label": "Job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(node_uname_info, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {},
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "definition": "label_values(node_uname_info{job=\"$job\"}, instance)",
              "hide": 0,
              "includeAll": false,
              "label": "Host:",
              "multi": false,
              "name": "node",
              "options": [],
              "query": "label_values(node_uname_info{job=\"$job\"}, instance)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {},
              "hide": 2,
              "includeAll": false,
              "multi": false,
              "name": "diskdevices",
              "options": [
                {
                  "selected": true,
                  "text": "[a-z]+|nvme[0-9]+n[0-9]+|mmcblk[0-9]+",
                  "value": "[a-z]+|nvme[0-9]+n[0-9]+|mmcblk[0-9]+"
                }
              ],
              "query": "[a-z]+|nvme[0-9]+n[0-9]+|mmcblk[0-9]+",
              "skipUrlSync": false,
              "type": "custom"
            }
          ]
        },
        "time": {
          "from": "now-24h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Node Exporter Full",
        "uid": "edvkv7h0zykn4c",
        "version": 2,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-node-local-dns-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  node-local-dns-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "A dashboard for the CoreDNS NodeLocalDNS server.",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 12007,
        "graphTooltip": 0,
        "id": 28,
        "links": [],
        "panels": [
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 0
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_dns_request_size_bytes_count{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (proto)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}",
                "refId": "A",
                "step": 60
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_dns_request_size_bytes_count{instance=~\"$instance\",cluster=~\"$cluster\"}[5m]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "total",
                "refId": "B",
                "step": 60
              }
            ],
            "title": "Requests (total)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 0
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_dns_requests_total{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (type)",
                "intervalFactor": 2,
                "legendFormat": "{{type}}",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Requests (by qtype)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 0
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_dns_request_size_bytes_count{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (zone)",
                "intervalFactor": 2,
                "legendFormat": "{{zone}}",
                "refId": "A",
                "step": 60
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_dns_request_size_bytes_count{instance=~\"$instance\",cluster=~\"$cluster\"}[5m]))",
                "intervalFactor": 2,
                "legendFormat": "total",
                "refId": "B",
                "step": 60
              }
            ],
            "title": "Requests (by zone)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 7
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_dns_request_do_count_total{instance=~\"$instance\",cluster=~\"$cluster\"}[5m]))",
                "intervalFactor": 2,
                "legendFormat": "DO",
                "refId": "A",
                "step": 40
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_dns_request_size_bytes_count{instance=~\"$instance\",cluster=~\"$cluster\"}[5m]))",
                "intervalFactor": 2,
                "legendFormat": "total",
                "refId": "B",
                "step": 40
              }
            ],
            "title": "Requests (DO bit)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "tcp:90%"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "short"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "tcp:99%"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "short"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "tcp:50%"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "short"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 7
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.99, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\"$instance\",proto=\"udp\",cluster=~\"$cluster\"}[5m])) by (le,proto))",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:99%",
                "refId": "A",
                "step": 60
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.90, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\"$instance\",proto=\"udp\",cluster=~\"$cluster\"}[5m])) by (le,proto))",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:90%",
                "refId": "B",
                "step": 60
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.50, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\"$instance\",proto=\"udp\",cluster=~\"$cluster\"}[5m])) by (le,proto))",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:50%",
                "refId": "C",
                "step": 60
              }
            ],
            "title": "Requests (size, udp)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 7
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.99, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\"$instance\",proto=\"tcp\",cluster=~\"$cluster\"}[5m])) by (le,proto))",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:99%",
                "refId": "A",
                "step": 60
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.90, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\"$instance\",proto=\"tcp\",cluster=~\"$cluster\"}[5m])) by (le,proto))",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:90%",
                "refId": "B",
                "step": 60
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.50, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\"$instance\",proto=\"tcp\",cluster=~\"$cluster\"}[5m])) by (le,proto))",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:50%",
                "refId": "C",
                "step": 60
              }
            ],
            "title": "Requests (size, tcp)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 14
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_dns_responses_total{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (rcode)",
                "intervalFactor": 2,
                "legendFormat": "{{rcode}}",
                "refId": "A",
                "step": 40
              }
            ],
            "title": "Responses (by rcode)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 14
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.99, sum(rate(coredns_dns_request_duration_seconds_bucket{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (le, job))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "99%",
                "refId": "A",
                "step": 40
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.90, sum(rate(coredns_dns_request_duration_seconds_bucket{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (le))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "90%",
                "refId": "B",
                "step": 40
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.50, sum(rate(coredns_dns_request_duration_seconds_bucket{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (le))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "50%",
                "refId": "C",
                "step": 40
              }
            ],
            "title": "Responses (duration)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "tcp:50%"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "short"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "tcp:90%"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "short"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "tcp:99%"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "short"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 21
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.99, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\"$instance\",proto=\"udp\",cluster=~\"$cluster\"}[5m])) by (le,proto)) ",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:99%",
                "refId": "A",
                "step": 40
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.90, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\"$instance\",proto=\"udp\",cluster=~\"$cluster\"}[5m])) by (le,proto)) ",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:90%",
                "refId": "B",
                "step": 40
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.50, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\"$instance\",proto=\"udp\",cluster=~\"$cluster\"}[5m])) by (le,proto)) ",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:50%",
                "metric": "",
                "refId": "C",
                "step": 40
              }
            ],
            "title": "Responses (size, udp)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 21
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.99, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\"$instance\",proto=\"tcp\",cluster=~\"$cluster\"}[5m])) by (le,proto)) ",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:99%",
                "refId": "A",
                "step": 40
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.90, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\"$instance\",proto=\"tcp\",cluster=~\"$cluster\"}[5m])) by (le,proto)) ",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:90%",
                "refId": "B",
                "step": 40
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "histogram_quantile(0.50, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\"$instance\",proto=\"tcp\",cluster=~\"$cluster\"}[5m])) by (le, proto)) ",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{proto}}:50%",
                "metric": "",
                "refId": "C",
                "step": 40
              }
            ],
            "title": "Responses (size, tcp)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 28
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(coredns_cache_entries{instance=~\"$instance\",cluster=~\"$cluster\"}) by (type)",
                "intervalFactor": 2,
                "legendFormat": "{{type}}",
                "refId": "A",
                "step": 40
              }
            ],
            "title": "Cache (size)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 28
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_cache_hits_total{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (type)",
                "intervalFactor": 2,
                "legendFormat": "hits:{{type}}",
                "refId": "A",
                "step": 40
              },
              {
                "datasource": {
                  "uid": "${DS_PROMETHEUS}"
                },
                "expr": "sum(rate(coredns_cache_misses_total{instance=~\"$instance\",cluster=~\"$cluster\"}[5m])) by (type)",
                "intervalFactor": 2,
                "legendFormat": "misses",
                "refId": "B",
                "step": 40
              }
            ],
            "title": "Cache (hitrate)",
            "type": "timeseries"
          }
        ],
        "schemaVersion": 39,
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "DS_PROMETHEUS",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "uid": "${DS_PROMETHEUS}"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "Instance",
              "multi": false,
              "name": "instance",
              "options": [],
              "query": "up{job=\"nodelocaldns\",cluster=~\"${cluster}\"}",
              "refresh": 1,
              "regex": ".*instance=\"(.*?)\".*",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".*",
              "current": {
                "selected": false,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "uid": "${DS_PROMETHEUS}"
              },
              "definition": "label_values(coredns_dns_request_size_bytes_count, cluster)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(coredns_dns_request_size_bytes_count, cluster)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-6h",
          "to": "now"
        },
        "timepicker": {
          "now": true,
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Node Local DNS",
        "uid": "vkQ0UHxiz",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-node-cluster-rsrc-use-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  node-cluster-rsrc-use-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "id": 72,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 11,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "CPU",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "((\n  instance:node_cpu_utilisation:rate5m{job=\"node-exporter\", cluster=\"$cluster\"}\n  *\n  instance:node_num_cpu:sum{job=\"node-exporter\", cluster=\"$cluster\"}\n) != 0 )\n/ scalar(sum(instance:node_num_cpu:sum{job=\"node-exporter\", cluster=\"$cluster\"}))\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{ instance }}",
                "refId": "A"
              }
            ],
            "title": "CPU Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(\n  instance:node_load1_per_cpu:ratio{job=\"node-exporter\", cluster=\"$cluster\"}\n  / scalar(count(instance:node_load1_per_cpu:ratio{job=\"node-exporter\", cluster=\"$cluster\"}))\n)  != 0\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "CPU Saturation (Load1 per CPU)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 12,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Memory",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(\n  instance:node_memory_utilisation:ratio{job=\"node-exporter\", cluster=\"$cluster\"}\n  / scalar(count(instance:node_memory_utilisation:ratio{job=\"node-exporter\", cluster=\"$cluster\"}))\n) != 0\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Memory Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "rds"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 9
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_vmstat_pgmajfault:rate5m{job=\"node-exporter\", cluster=\"$cluster\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Memory Saturation (Major Page Faults)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 13,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Network",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Receive/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "A",
                        "mode": "normal"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Transmit/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "B",
                        "mode": "normal"
                      }
                    },
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 17
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_network_receive_bytes_excluding_lo:rate5m{job=\"node-exporter\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Receive",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_network_transmit_bytes_excluding_lo:rate5m{job=\"node-exporter\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Transmit",
                "refId": "B"
              }
            ],
            "title": "Network Utilisation (Bytes Receive/Transmit)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ Receive/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "A",
                        "mode": "normal"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ Transmit/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "B",
                        "mode": "normal"
                      }
                    },
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 17
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_network_receive_drop_excluding_lo:rate5m{job=\"node-exporter\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Receive",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_network_transmit_drop_excluding_lo:rate5m{job=\"node-exporter\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} Transmit",
                "refId": "B"
              }
            ],
            "title": "Network Saturation (Drops Receive/Transmit)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 14,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Disk IO",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 25
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(\n  instance_device:node_disk_io_time_seconds:rate5m{job=\"node-exporter\", cluster=\"$cluster\"}\n  / scalar(count(instance_device:node_disk_io_time_seconds:rate5m{job=\"node-exporter\", cluster=\"$cluster\"}))\n) != 0\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} {{device}}",
                "refId": "A"
              }
            ],
            "title": "Disk IO Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 25
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(\n  instance_device:node_disk_io_time_weighted_seconds:rate5m{job=\"node-exporter\", cluster=\"$cluster\"}\n  / scalar(count(instance_device:node_disk_io_time_weighted_seconds:rate5m{job=\"node-exporter\", cluster=\"$cluster\"}))\n) != 0\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}} {{device}}",
                "refId": "A"
              }
            ],
            "title": "Disk IO Saturation",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 15,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Disk Space",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 33
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum without (device) (\n  max without (fstype, mountpoint) ((\n    node_filesystem_size_bytes{job=\"node-exporter\", fstype!=\"\", mountpoint!=\"\", cluster=\"$cluster\"}\n    -\n    node_filesystem_avail_bytes{job=\"node-exporter\", fstype!=\"\", mountpoint!=\"\", cluster=\"$cluster\"}\n  ) != 0)\n)\n/ scalar(sum(max without (fstype, mountpoint) (node_filesystem_size_bytes{job=\"node-exporter\", fstype!=\"\", mountpoint!=\"\", cluster=\"$cluster\"})))\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Disk Space Utilisation",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 39,
        "tags": [
          "node-exporter-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data Source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "isNone": true,
                "selected": false,
                "text": "None",
                "value": ""
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": "label_values(node_time_seconds, cluster)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Node Exporter / USE Method / Cluster",
        "uid": "3e97d1d02672cdd0861f4c97c64f89b2",
        "version": 3
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-node-multicluster-rsrc-use-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  node-multicluster-rsrc-use-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "id": 76,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 11,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "CPU",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(\n  ((\n    instance:node_cpu_utilisation:rate5m{job=\"node-exporter\"}\n    *\n    instance:node_num_cpu:sum{job=\"node-exporter\"}\n  ) != 0)\n  / scalar(sum(instance:node_num_cpu:sum{job=\"node-exporter\"}))\n) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "CPU Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n  instance:node_load1_per_cpu:ratio{job=\"node-exporter\"}\n  / scalar(count(instance:node_load1_per_cpu:ratio{job=\"node-exporter\"}))\n) != 0) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "CPU Saturation (Load1 per CPU)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 12,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Memory",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n    instance:node_memory_utilisation:ratio{job=\"node-exporter\"}\n    / scalar(count(instance:node_memory_utilisation:ratio{job=\"node-exporter\"}))\n) != 0) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Memory Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "rds"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 9
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n    instance:node_vmstat_pgmajfault:rate5m{job=\"node-exporter\"}\n) != 0) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Memory Saturation (Major Page Faults)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 13,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Network",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Receive/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "A",
                        "mode": "normal"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Transmit/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "B",
                        "mode": "normal"
                      }
                    },
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 17
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n    instance:node_network_receive_bytes_excluding_lo:rate5m{job=\"node-exporter\"}\n) != 0) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}} Receive",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n    instance:node_network_transmit_bytes_excluding_lo:rate5m{job=\"node-exporter\"}\n) != 0) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}} Transmit",
                "refId": "B"
              }
            ],
            "title": "Network Utilisation (Bytes Receive/Transmit)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ Receive/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "A",
                        "mode": "normal"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ Transmit/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "B",
                        "mode": "normal"
                      }
                    },
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 17
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n    instance:node_network_receive_drop_excluding_lo:rate5m{job=\"node-exporter\"}\n) != 0) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}} Receive",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n    instance:node_network_transmit_drop_excluding_lo:rate5m{job=\"node-exporter\"}\n) != 0) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}} Transmit",
                "refId": "B"
              }
            ],
            "title": "Network Saturation (Drops Receive/Transmit)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 14,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Disk IO",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 25
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n    instance_device:node_disk_io_time_seconds:rate5m{job=\"node-exporter\"}\n    / scalar(count(instance_device:node_disk_io_time_seconds:rate5m{job=\"node-exporter\"}))\n) != 0) by (cluster, device)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}} {{device}}",
                "refId": "A"
              }
            ],
            "title": "Disk IO Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 25
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum((\n  instance_device:node_disk_io_time_weighted_seconds:rate5m{job=\"node-exporter\"}\n  / scalar(count(instance_device:node_disk_io_time_weighted_seconds:rate5m{job=\"node-exporter\"}))\n) != 0) by (cluster, device)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}} {{device}}",
                "refId": "A"
              }
            ],
            "title": "Disk IO Saturation",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 15,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Disk Space",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 33
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum (\n  sum without (device) (\n    max without (fstype, mountpoint, instance, pod) ((\n      node_filesystem_size_bytes{job=\"node-exporter\", fstype!=\"\", mountpoint!=\"\"} - node_filesystem_avail_bytes{job=\"node-exporter\", fstype!=\"\", mountpoint!=\"\"}\n    ) != 0)\n  )\n  / scalar(sum(max without (fstype, mountpoint) (node_filesystem_size_bytes{job=\"node-exporter\", fstype!=\"\", mountpoint!=\"\"})))\n) by (cluster)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Disk Space Utilisation",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 39,
        "tags": [
          "node-exporter-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data Source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Node Exporter / USE Method / Multi-cluster",
        "uid": "8079490bd591ae67c254fd9062437b2d",
        "version": 3
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-node-rsrc-use-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  node-rsrc-use-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "id": 77,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 11,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "CPU",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_cpu_utilisation:rate5m{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Utilisation",
                "refId": "A"
              }
            ],
            "title": "CPU Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_load1_per_cpu:ratio{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Saturation",
                "refId": "A"
              }
            ],
            "title": "CPU Saturation (Load1 per CPU)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 12,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Memory",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_memory_utilisation:ratio{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Utilisation",
                "refId": "A"
              }
            ],
            "title": "Memory Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "rds"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 9
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_vmstat_pgmajfault:rate5m{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Major page Faults",
                "refId": "A"
              }
            ],
            "title": "Memory Saturation (Major Page Faults)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 13,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Network",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Receive/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "A",
                        "mode": "normal"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Transmit/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "B",
                        "mode": "normal"
                      }
                    },
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 17
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_network_receive_bytes_excluding_lo:rate5m{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Receive",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_network_transmit_bytes_excluding_lo:rate5m{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Transmit",
                "refId": "B"
              }
            ],
            "title": "Network Utilisation (Bytes Receive/Transmit)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ Receive/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "A",
                        "mode": "normal"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ Transmit/"
                  },
                  "properties": [
                    {
                      "id": "custom.stacking",
                      "value": {
                        "group": "B",
                        "mode": "normal"
                      }
                    },
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 17
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_network_receive_drop_excluding_lo:rate5m{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Receive",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance:node_network_transmit_drop_excluding_lo:rate5m{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "Transmit",
                "refId": "B"
              }
            ],
            "title": "Network Saturation (Drops Receive/Transmit)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 14,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Disk IO",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 25
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance_device:node_disk_io_time_seconds:rate5m{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{device}}",
                "refId": "A"
              }
            ],
            "title": "Disk IO Utilisation",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 25
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "instance_device:node_disk_io_time_weighted_seconds:rate5m{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"} != 0",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{device}}",
                "refId": "A"
              }
            ],
            "title": "Disk IO Saturation",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 15,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Disk Space",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 33
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sort_desc(1 -\n  (\n   max without (mountpoint, fstype) (node_filesystem_avail_bytes{job=\"node-exporter\", fstype!=\"\", instance=\"$instance\", cluster=\"$cluster\"})\n   /\n   max without (mountpoint, fstype) (node_filesystem_size_bytes{job=\"node-exporter\", fstype!=\"\", instance=\"$instance\", cluster=\"$cluster\"})\n  ) != 0\n)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{device}}",
                "refId": "A"
              }
            ],
            "title": "Disk Space Utilisation",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 39,
        "tags": [
          "node-exporter-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data Source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {},
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": "label_values(node_time_seconds, cluster)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {},
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "instance",
              "options": [],
              "query": "label_values(node_exporter_build_info{job=\"node-exporter\", cluster=\"$cluster\"}, instance)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Node Exporter / USE Method / Node",
        "uid": "fac67cfbe174d3ef53eb473d73d9212f",
        "version": 3
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-nodes-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  nodes-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "id": 80,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 10,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "CPU",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(\n  (1 - sum without (mode) (rate(node_cpu_seconds_total{job=\"node-exporter\", mode=~\"idle|iowait|steal\", instance=\"$instance\", cluster=\"$cluster\"}[$__rate_interval])))\n/ ignoring(cpu) group_left\n  count without (cpu, mode) (node_cpu_seconds_total{job=\"node-exporter\", mode=\"idle\", instance=\"$instance\", cluster=\"$cluster\"})\n)\n",
                "format": "time_series",
                "intervalFactor": 5,
                "legendFormat": "{{cpu}}",
                "refId": "A"
              }
            ],
            "title": "CPU Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "node_load1{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "1m load average",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "node_load5{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "5m load average",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "node_load15{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "15m load average",
                "refId": "C"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "count(node_cpu_seconds_total{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\", mode=\"idle\"})",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "logical cores",
                "refId": "D"
              }
            ],
            "title": "Load Average",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 11,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Memory",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 18,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(\n  node_memory_MemTotal_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}\n-\n  node_memory_MemFree_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}\n-\n  node_memory_Buffers_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}\n-\n  node_memory_Cached_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}\n)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "memory used",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "node_memory_Buffers_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "memory buffers",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "node_memory_Cached_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "memory cached",
                "refId": "C"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "node_memory_MemFree_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "memory free",
                "refId": "D"
              }
            ],
            "title": "Memory Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 80
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 90
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 9
            },
            "id": 5,
            "options": {
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "100 -\n(\n  avg(node_memory_MemAvailable_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"}) /\n  avg(node_memory_MemTotal_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\"})\n* 100\n)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Memory Usage",
            "type": "gauge"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 12,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Disk",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ io time/"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "percentunit"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 17
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(node_disk_read_bytes_total{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\", device!=\"\"}[$__rate_interval])",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{device}} read",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(node_disk_written_bytes_total{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\", device!=\"\"}[$__rate_interval])",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{device}} written",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(node_disk_io_time_seconds_total{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\", device!=\"\"}[$__rate_interval])",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{device}} io time",
                "refId": "C"
              }
            ],
            "title": "Disk I/O",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 0.8
                    },
                    {
                      "color": "red",
                      "value": 0.9
                    }
                  ]
                },
                "unit": "decbytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Mounted on"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 260
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Size"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 93
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Used"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 72
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Available"
                  },
                  "properties": [
                    {
                      "id": "custom.width",
                      "value": 88
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Used, %"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "percentunit"
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "gradient",
                        "type": "gauge"
                      }
                    },
                    {
                      "id": "max",
                      "value": 1
                    },
                    {
                      "id": "min",
                      "value": 0
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 17
            },
            "id": 7,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "max by (mountpoint) (node_filesystem_size_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\", fstype!=\"\", mountpoint!=\"\"})\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "max by (mountpoint) (node_filesystem_avail_bytes{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\", fstype!=\"\", mountpoint!=\"\"})\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "B"
              }
            ],
            "title": "Disk Space Usage",
            "transformations": [
              {
                "id": "groupBy",
                "options": {
                  "fields": {
                    "Value #A": {
                      "aggregations": [
                        "lastNotNull"
                      ],
                      "operation": "aggregate"
                    },
                    "Value #B": {
                      "aggregations": [
                        "lastNotNull"
                      ],
                      "operation": "aggregate"
                    },
                    "mountpoint": {
                      "aggregations": [],
                      "operation": "groupby"
                    }
                  }
                }
              },
              {
                "id": "merge",
                "options": {}
              },
              {
                "id": "calculateField",
                "options": {
                  "alias": "Used",
                  "binary": {
                    "left": "Value #A (lastNotNull)",
                    "operator": "-",
                    "reducer": "sum",
                    "right": "Value #B (lastNotNull)"
                  },
                  "mode": "binary",
                  "reduce": {
                    "reducer": "sum"
                  }
                }
              },
              {
                "id": "calculateField",
                "options": {
                  "alias": "Used, %",
                  "binary": {
                    "left": "Used",
                    "operator": "/",
                    "reducer": "sum",
                    "right": "Value #A (lastNotNull)"
                  },
                  "mode": "binary",
                  "reduce": {
                    "reducer": "sum"
                  }
                }
              },
              {
                "id": "organize",
                "options": {
                  "excludeByName": {},
                  "indexByName": {},
                  "renameByName": {
                    "Value #A (lastNotNull)": "Size",
                    "Value #B (lastNotNull)": "Available",
                    "mountpoint": "Mounted on"
                  }
                }
              },
              {
                "id": "sortBy",
                "options": {
                  "fields": {},
                  "sort": [
                    {
                      "field": "Mounted on"
                    }
                  ]
                }
              }
            ],
            "type": "table"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 13,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Network",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Network received (bits/s)",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 25
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(node_network_receive_bytes_total{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\", device!=\"lo\"}[$__rate_interval]) * 8",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{device}}",
                "refId": "A"
              }
            ],
            "title": "Network Received",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Network transmitted (bits/s)",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 25
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(node_network_transmit_bytes_total{job=\"node-exporter\", instance=\"$instance\", cluster=\"$cluster\", device!=\"lo\"}[$__rate_interval]) * 8",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{device}}",
                "refId": "A"
              }
            ],
            "title": "Network Transmitted",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 39,
        "tags": [
          "node-exporter-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data Source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "isNone": true,
                "selected": false,
                "text": "None",
                "value": ""
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "label": "Cluster",
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": "label_values(node_uname_info{job=\"node-exporter\", sysname!=\"Darwin\"}, cluster)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "isNone": true,
                "selected": false,
                "text": "None",
                "value": ""
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": false,
              "label": "Instance",
              "multi": false,
              "name": "instance",
              "options": [],
              "query": "label_values(node_uname_info{job=\"node-exporter\", cluster=\"$cluster\", sysname!=\"Darwin\"}, instance)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Node Exporter / Nodes",
        "uid": "7d57716318ee0dddbac5a7f451fb7753",
        "version": 3
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-node-spread-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  node-spread-dashboard.json: |-
    
      {
        "description": "Visualize how spread-out pods are across zones or nodes",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 12688,
            "panels": [],
            "title": "Info",
            "type": "row"
          },
          {
            "gridPos": {
              "h": 8,
              "w": 9,
              "x": 0,
              "y": 1
            },
            "id": 19775,
            "options": {
              "code": {
                "language": "plaintext",
                "showLineNumbers": false,
                "showMiniMap": false
              },
              "content": "This dashboard shows how well Pods are spread out across Nodes or Zones.\n\n1. Select a cluster.\n2. Select granularity, by node or by zone\n3. Select the worker nodes that should be serving workloads.\n4. Select the Namespace to inspect.\n5. Apply further filtering on ReplicaSet or StatefulSet to\n   drill down to those of interest.\n\n<!--\nvim: filetype=markdown\n-->\n",
              "mode": "markdown"
            },
            "pluginVersion": "9.3.13",
            "title": "How To",
            "type": "text"
          },
          {
            "gridPos": {
              "h": 8,
              "w": 9,
              "x": 9,
              "y": 1
            },
            "id": 26130,
            "options": {
              "code": {
                "language": "plaintext",
                "showLineNumbers": false,
                "showMiniMap": false
              },
              "content": "# Skew\n\nDifference between Nodes or Zones with most and least amount of Pods.\n\nFor example, if one Node has 3 Pods and another Node has 1 then the skew\nis 2. A skew of 0 or 1 is normal, as means the Pods are evenly\ndistributed across the selected Nodes.\n\n<!--\nvim: filetype=markdown\n-->",
              "mode": "markdown"
            },
            "pluginVersion": "9.3.13",
            "title": "Terms",
            "type": "text"
          },
          {
            "description": "Number of pods running on each Node or in each Zone",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 5,
              "x": 18,
              "y": 1
            },
            "id": 21500,
            "options": {
              "legend": {
                "displayMode": "list",
                "placement": "right",
                "showLegend": true
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "expr": "count by ($granularity) (\n\tkube_pod_info{cluster=~\"$cluster\", node=~\"$node\", created_by_kind=~\"ReplicaSet|StatefulSet\", namespace=\"$namespace\", created_by_name=~\"($replicaset-.*|$statefulset)\"}\n\t* on (node)\n\tgroup_left(label_topology_kubernetes_io_zone)\n\tkube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n)\n",
                "instant": true,
                "legendFormat": "{{$granularity}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Overall Pods Each",
            "type": "piechart"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 9
            },
            "id": 15369,
            "panels": [],
            "repeat": "replicaset",
            "repeatDirection": "h",
            "title": "ReplicaSet $replicaset",
            "type": "row"
          },
          {
            "description": "Difference in number of pods across zones. E.g. if one zone has 3 pods and another pod has 1 then the skew is 2. A skew of 0 or 1 is normal.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "index": 0,
                        "text": "Balanced"
                      }
                    },
                    "type": "value"
                  }
                ],
                "min": -1,
                "noValue": "🤷",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "dark-green",
                      "value": 0
                    },
                    {
                      "color": "yellow",
                      "value": 1
                    },
                    {
                      "color": "dark-red",
                      "value": 2
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 6,
              "x": 0,
              "y": 10
            },
            "id": 31945,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "exemplar": false,
                "expr": "# largest amount of pods in the zone/node\nmax by (owner_name) (\n  sum by ($granularity, owner_name) (\n    # matching pods\n    kube_pod_info{cluster=~\"$cluster\", node=~\"$node\", created_by_kind=\"ReplicaSet\", namespace=\"$namespace\"}\n    # with the name of the deployment merged in\n    * on (created_by_name)\n    group_left (owner_name)\n    label_replace(kube_replicaset_owner{cluster=~\"$cluster\", namespace=\"$namespace\", owner_name=~\"$replicaset\"}, \"created_by_name\", \"$1\", \"replicaset\", \"(.*)\")\n    # and zones merged in, if available\n    * on (node)\n    group_left(label_topology_kubernetes_io_zone)\n    kube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n  )\n)\n-\n# smallest amount of pods in the zone/node\nmin by (owner_name) (\n  sum by ($granularity, owner_name) (\n    kube_pod_info{cluster=~\"$cluster\", node=~\"$node\", created_by_kind=~\"ReplicaSet\", namespace=\"$namespace\"}\n    * on (created_by_name)\n    group_left (owner_name)\n    label_replace(kube_replicaset_owner{cluster=~\"$cluster\", namespace=\"$namespace\", owner_name=~\"$replicaset\"}, \"created_by_name\", \"$1\", \"replicaset\", \"(.*)\")\n    * on (node)\n    group_left(label_topology_kubernetes_io_zone)\n    kube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n    or on (node)\n    label_replace(\n      kube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}*0\n    , \"owner_name\", \"$replicaset\", \"\", \"\")\n  )\n)",
                "format": "time_series",
                "hide": false,
                "instant": true,
                "interval": "",
                "legendFormat": "{{created_by_name}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Skew",
            "type": "gauge",
            "unit": "skew"
          },
          {
            "description": "Share of pods between each node or zone",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 6,
              "x": 6,
              "y": 10
            },
            "id": 31436,
            "options": {
              "legend": {
                "displayMode": "list",
                "placement": "right",
                "showLegend": true
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "expr": "count by ($granularity) (\n\tkube_pod_info{cluster=~\"$cluster\", node=~\"$node\", created_by_kind=\"ReplicaSet\", namespace=\"$namespace\"}\n  * on (created_by_name)\n  group_left (owner_name)\n  label_replace(kube_replicaset_owner{cluster=~\"$cluster\", namespace=\"$namespace\", owner_name=~\"$replicaset\"}, \"created_by_name\", \"$1\", \"replicaset\", \"(.*)\")\n\t* on (node)\n\tgroup_left(label_topology_kubernetes_io_zone)\n\tkube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n)\n",
                "instant": true,
                "legendFormat": "{{$granularity}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Pods Each",
            "type": "piechart"
          },
          {
            "description": "Number of pods deployed on each Zone",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 10
            },
            "id": 2306,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "expr": "count by ($granularity, namespace, created_by_kind, owner_name) (\n  kube_pod_info{cluster=~\"$cluster\", node=~\"$node\", namespace=\"$namespace\", created_by_kind=\"ReplicaSet\"}\n  * on (created_by_name)\n  group_left(owner_name)\n  label_replace(kube_replicaset_owner{cluster=~\"$cluster\", namespace=\"$namespace\", owner_name=~\"$replicaset\"}, \"created_by_name\", \"$1\", \"replicaset\", \"(.*)\")\n  * on (node)\n  group_left(label_topology_kubernetes_io_zone)\n  kube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n)",
                "legendFormat": "{{created_by_kind}} {{owner_name}} in {{$granularity}}",
                "range": true,
                "refId": "ReplicaSet"
              }
            ],
            "title": "Pods each over time",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 459
            },
            "id": 930,
            "panels": [],
            "repeat": "statefulset",
            "repeatDirection": "h",
            "title": "StatefulSet $statefulset",
            "type": "row"
          },
          {
            "description": "Difference in number of pods across zones. E.g. if one zone has 3 pods and another pod has 1 then the skew is 2. A skew of 0 or 1 is normal.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "index": 0,
                        "text": "Balanced"
                      }
                    },
                    "type": "value"
                  }
                ],
                "min": -1,
                "noValue": "🤷",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "dark-green",
                      "value": 0
                    },
                    {
                      "color": "yellow",
                      "value": 1
                    },
                    {
                      "color": "dark-red",
                      "value": 2
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 6,
              "x": 0,
              "y": 460
            },
            "id": 3493,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "exemplar": false,
                "expr": "max by (created_by_name) (\n  sum by ($granularity, created_by_name) (\n    kube_pod_info{cluster=~\"$cluster\", node=~\"$node\", created_by_kind=\"StatefulSet\", created_by_name=~\"$statefulset\", namespace=\"$namespace\"}\n    # join to get zone label\n    * on (node)\n    group_left(label_topology_kubernetes_io_zone)\n    kube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n  )\n)\n-\n# same as above but with an extra join to include empty zones/nodes\nmin by (created_by_name) (\n  sum by ($granularity, created_by_name) (\n    kube_pod_info{cluster=~\"$cluster\", node=~\"$node\", created_by_kind=\"StatefulSet\", created_by_name=~\"$statefulset\", namespace=\"$namespace\"}\n    * on (node)\n    group_left(label_topology_kubernetes_io_zone)\n    kube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n    or on ($granularity)\n    label_replace(\n      kube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}*0\n    ,\"created_by_name\", \"$statefulset\", \"\", \"\")\n  )\n)\n",
                "format": "time_series",
                "hide": false,
                "instant": true,
                "interval": "",
                "legendFormat": "{{created_by_name}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Skew",
            "type": "gauge",
            "unit": "skew"
          },
          {
            "description": "Share of pods between each node or zone",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 6,
              "x": 6,
              "y": 460
            },
            "id": 20264,
            "options": {
              "legend": {
                "displayMode": "list",
                "placement": "right",
                "showLegend": true
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "expr": "count by ($granularity) (\n\tkube_pod_info{cluster=~\"$cluster\", node=~\"$node\", created_by_kind=~\"StatefulSet\", namespace=\"$namespace\", created_by_name=~\"$statefulset\"}\n\t* on (node)\n\tgroup_left(label_topology_kubernetes_io_zone)\n\tkube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n)\n",
                "instant": true,
                "legendFormat": "{{$granularity}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Pods Each",
            "type": "piechart"
          },
          {
            "description": "Number of pods deployed on each Zone",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 40,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 460
            },
            "id": 8178,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "expr": "count by ($granularity, namespace, created_by_kind, created_by_name) (\nkube_pod_info{cluster=~\"$cluster\", node=~\"$node\", namespace=\"$namespace\", created_by_kind=~\"StatefulSet\", created_by_name=~\"$statefulset\"}\n* on (node)\ngroup_left(label_topology_kubernetes_io_zone)\nkube_node_labels{cluster=~\"$cluster\", node=~\"$node\"}\n)",
                "hide": false,
                "legendFormat": "{{created_by_kind}} {{created_by_name}} in {{$granularity}}",
                "range": true,
                "refId": "StatefulSet"
              }
            ],
            "title": "Pods each over time",
            "type": "timeseries"
          }
        ],
        "refresh": "1m",
        "schemaVersion": 37,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": [
            {
              "definition": "label_values(kube_node_info,cluster)",
              "hide": 0,
              "includeAll": false,
              "label": "Cluster",
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(kube_node_info,cluster)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": true,
                "text": "Nodes",
                "value": "node"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Granularity",
              "multi": false,
              "name": "granularity",
              "options": [
                {
                  "selected": true,
                  "text": "Nodes",
                  "value": "node"
                },
                {
                  "selected": false,
                  "text": "Zones",
                  "value": "label_topology_kubernetes_io_zone"
                }
              ],
              "query": "label_topology_kubernetes_io_zone,node",
              "queryValue": "",
              "skipUrlSync": false,
              "type": "custom"
            },
            {
              "definition": "label_values(kube_node_labels{cluster=\"$cluster\"},node)",
              "hide": 0,
              "includeAll": true,
              "label": "Node",
              "multi": true,
              "name": "node",
              "options": [],
              "query": {
                "query": "label_values(kube_node_labels{cluster=\"$cluster\"},node)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query",
              "useTags": false
            },
            {
              "definition": "label_values(kube_pod_info{cluster=\"$cluster\",node=~\"$node\",created_by_kind=~\"(ReplicaSet|StatefulSet)\"}, namespace)",
              "hide": 0,
              "includeAll": false,
              "label": "Namespaces",
              "multi": false,
              "name": "namespace",
              "options": [],
              "query": {
                "query": "label_values(kube_pod_info{cluster=\"$cluster\",node=~\"$node\",created_by_kind=~\"(ReplicaSet|StatefulSet)\"}, namespace)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query",
              "useTags": false
            },
            {
              "definition": "label_values(kube_replicaset_owner{cluster=\"$cluster\",namespace=~\"$namespace\"}, owner_name)",
              "hide": 0,
              "includeAll": true,
              "label": "ReplicaSets",
              "multi": true,
              "name": "replicaset",
              "options": [],
              "query": {
                "query": "label_values(kube_replicaset_owner{cluster=\"$cluster\",namespace=~\"$namespace\"}, owner_name)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query",
              "useTags": false
            },
            {
              "definition": "label_values(kube_pod_info{cluster=\"$cluster\",node=~\"$node\",namespace=~\"$namespace\",created_by_kind=\"StatefulSet\"}, created_by_name)",
              "hide": 0,
              "includeAll": true,
              "label": "StatefulSets",
              "multi": true,
              "name": "statefulset",
              "options": [],
              "query": {
                "query": "label_values(kube_pod_info{cluster=\"$cluster\",node=~\"$node\",namespace=~\"$namespace\",created_by_kind=\"StatefulSet\"}, created_by_name)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "hidden": false
        },
        "timezone": "",
        "title": "Pod Skew",
        "uid": "X873T__4k",
        "version": 27,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-opensearch-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  opensearch-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "ElasticSearch cluster stats.\r\n\r\nRevision 1 of this dashboard is the same as the Infinity Dashboard Revision 4 (https://grafana.com/dashboards/2322)\r\n\r\nThis is a cleaned up copy with all control characters removed from the dashboard file.  When downloading version 4 of the original Infinity elasticsearch dashboard via curl, the resulting file is corrupted with a missing final curly brace.\r\n",
        "editable": true,
        "gnetId": 6483,
        "graphTooltip": 1,
        "iteration": 1627889951132,
        "links": [
          {
            "asDropdown": true,
            "icon": "external link",
            "includeVars": false,
            "keepTime": true,
            "tags": [
              "OS"
            ],
            "targetBlank": true,
            "title": "OS",
            "type": "dashboards"
          },
          {
            "asDropdown": true,
            "icon": "external link",
            "keepTime": true,
            "tags": [
              "MySQL"
            ],
            "targetBlank": true,
            "title": "MySQL",
            "type": "dashboards"
          },
          {
            "asDropdown": true,
            "icon": "external link",
            "keepTime": true,
            "tags": [
              "MongoDB"
            ],
            "targetBlank": true,
            "title": "MongoDB",
            "type": "dashboards"
          },
          {
            "asDropdown": true,
            "icon": "external link",
            "keepTime": true,
            "tags": [
              "App"
            ],
            "targetBlank": true,
            "title": "App",
            "type": "dashboards"
          }
        ],
        "panels": [
          {
            "collapsed": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 90,
            "panels": [],
            "repeat": null,
            "title": "KPI",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "The cluster health API returns a simple status on the health of the cluster.\nThe cluster health status is: green, yellow or red. \n- red status indicates that the specific shard is not allocated in the cluster;\n- yellow means that the primary shard is allocated but replicas are not;\n- green means that all shards are allocated. ",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "1": {
                        "index": 3,
                        "text": "Red"
                      },
                      "3": {
                        "index": 2,
                        "text": "Yellow"
                      },
                      "5": {
                        "index": 1,
                        "text": "Green"
                      },
                      "null": {
                        "index": 0,
                        "text": "N/A"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 3
                    },
                    {
                      "color": "green",
                      "value": 5
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 0,
              "y": 1
            },
            "id": 53,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": true,
                "expr": "elasticsearch_cluster_health_status{instance=~\"$instance\",cluster=\"$cluster\",color=\"red\"}==1 or (elasticsearch_cluster_health_status{instance=~\"$instance\",cluster=\"$cluster\",color=\"green\"}==1)+4 or (elasticsearch_cluster_health_status{instance=~\"$instance\",cluster=\"$cluster\",color=\"yellow\"}==1)+2",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Cluster health",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "Elasticsearch contains multiple circuit breakers used to prevent operations from causing an OutOfMemoryError. Each breaker specifies a limit for how much memory it can use. Additionally, there is a parent-level breaker that specifies the total amount of memory that can be used across all breakers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 0,
                        "text": "0"
                      }
                    },
                    "type": "special"
                  },
                  {
                    "options": {
                      "match": "empty",
                      "result": {
                        "index": 1,
                        "text": "0"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 1
                    },
                    {
                      "color": "#d44a3a",
                      "value": 2
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 2,
              "x": 4,
              "y": 1
            },
            "id": 81,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": true,
                "expr": "count(elasticsearch_breakers_tripped{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}>0)",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Tripped for breakers",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 70
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 80
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 6,
              "y": 1
            },
            "id": 51,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "sum (elasticsearch_process_cpu_percent{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"} ) / count (elasticsearch_process_cpu_percent{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"} )",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "CPU usage Avg.",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 70
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 80
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 10,
              "y": 1
            },
            "id": 50,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "sum (elasticsearch_jvm_memory_used_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}) / sum (elasticsearch_jvm_memory_max_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}) * 100",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "JVM memory used Avg.",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "Number of nodes in the cluster",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 2,
              "x": 14,
              "y": 1
            },
            "id": 10,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_number_of_nodes{instance=~\"$instance\",cluster=\"$cluster\"}",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Nodes",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "Number of data nodes in the cluster",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 2,
              "x": 16,
              "y": 1
            },
            "id": 9,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_number_of_data_nodes{instance=~\"$instance\",cluster=\"$cluster\"}",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Data nodes",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "Cluster level changes which have not yet been executed",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "rgba(50, 172, 45, 0.97)",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 1
                    },
                    {
                      "color": "rgba(245, 54, 54, 0.9)",
                      "value": 5
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 2,
              "x": 18,
              "y": 1
            },
            "hideTimeOverride": true,
            "id": 16,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_number_of_pending_tasks{instance=~\"$instance\",cluster=\"$cluster\"}",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Pending tasks",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 20,
              "y": 1
            },
            "id": 89,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "exemplar": true,
                "expr": "sum (elasticsearch_process_open_files_count{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"})",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "metric": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Open file descriptors per cluster",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 4
            },
            "id": 91,
            "panels": [],
            "repeat": null,
            "title": "Shards",
            "type": "row"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "The number of primary shards in your cluster. This is an aggregate total across all indices.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 0,
              "y": 5
            },
            "id": 11,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "repeat": "shard_type",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_active_primary_shards{instance=~\"$instance\",cluster=\"$cluster\"}",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Active primary shards",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "Aggregate total of all shards across all indices, which includes replica shards",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 4,
              "y": 5
            },
            "id": 39,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_active_shards{instance=~\"$instance\",cluster=\"$cluster\"}",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Active shards",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "Count of shards that are being freshly created",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 8,
              "y": 5
            },
            "id": 40,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_initializing_shards{instance=~\"$instance\",cluster=\"$cluster\"}",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Initializing shards",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "The number of shards that are currently moving from one node to another node.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 12,
              "y": 5
            },
            "id": 41,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_relocating_shards{instance=~\"$instance\",cluster=\"$cluster\"}",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Relocating shards",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "Shards delayed to reduce reallocation overhead",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 16,
              "y": 5
            },
            "id": 42,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_delayed_unassigned_shards{instance=~\"$instance\",cluster=\"$cluster\"} ",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Delayed shards",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "$datasource",
            "description": "The number of shards that exist in the cluster state, but cannot be found in the cluster itself",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 3,
              "w": 4,
              "x": 20,
              "y": 5
            },
            "id": 82,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "elasticsearch_cluster_health_unassigned_shards{instance=~\"$instance\",cluster=\"$cluster\"} ",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 60
              }
            ],
            "title": "Unassigned shards",
            "type": "stat"
          },
          {
            "collapsed": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 92,
            "panels": [],
            "repeat": null,
            "title": "JVM Garbage Collection",
            "type": "row"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "GCs",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 0,
              "y": 9
            },
            "id": 7,
            "links": [],
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "irate(elasticsearch_jvm_gc_collection_seconds_count{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{name}} - {{gc}}",
                "metric": "",
                "refId": "A",
                "step": 10
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "GC count",
            "type": "timeseries"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "Time",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 12,
              "y": 9
            },
            "id": 27,
            "links": [],
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.0",
            "targets": [
              {
                "expr": "irate(elasticsearch_jvm_gc_collection_seconds_sum{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{name}} - {{gc}}",
                "metric": "",
                "refId": "A",
                "step": 10
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "GC time",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 20
            },
            "id": 93,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 21
                },
                "id": 77,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min",
                      "sum"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_translog_operations{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Total translog operations",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 21
                },
                "id": 78,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_translog_size_in_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Total translog size in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Translog",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 21
            },
            "id": 94,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 5
                },
                "id": 79,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_breakers_tripped{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: {{breaker}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Tripped for breakers",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 12
                },
                "id": 80,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_breakers_estimated_size_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: {{breaker}}",
                    "refId": "A"
                  },
                  {
                    "expr": "elasticsearch_breakers_limit_size_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: limit for {{breaker}}",
                    "refId": "B"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Estimated size in bytes of breaker",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Breakers",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 22
            },
            "id": 95,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "CPU usage",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "max": 100,
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 0,
                  "y": 23
                },
                "id": 30,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_os_load1{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "instant": false,
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "load1: {{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  },
                  {
                    "expr": "elasticsearch_os_load5{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "instant": false,
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "load5: {{name}}",
                    "metric": "",
                    "refId": "B",
                    "step": 20
                  },
                  {
                    "expr": "elasticsearch_os_load15{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "instant": false,
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "load15: {{name}}",
                    "metric": "",
                    "refId": "C",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Load average",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "CPU usage",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "max": 100,
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "percent"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 12,
                  "y": 23
                },
                "id": 88,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_process_cpu_percent{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "instant": false,
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "CPU usage",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Memory",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 0,
                  "y": 34
                },
                "id": 31,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_jvm_memory_used_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}} used: {{area}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  },
                  {
                    "expr": "elasticsearch_jvm_memory_max_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}} max: {{area}}",
                    "refId": "C",
                    "step": 20
                  },
                  {
                    "expr": "elasticsearch_jvm_memory_pool_peak_used_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}} peak used pool: {{pool}}",
                    "refId": "D",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "JVM memory usage",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Memory",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 12,
                  "y": 34
                },
                "id": 54,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_jvm_memory_committed_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}} committed: {{area}}",
                    "refId": "B",
                    "step": 20
                  },
                  {
                    "expr": "elasticsearch_jvm_memory_max_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}} max: {{area}}",
                    "refId": "C",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "JVM memory committed",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "CPU and Memory",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 23
            },
            "id": 96,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Disk Usage %",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "area"
                      }
                    },
                    "mappings": [],
                    "max": 1,
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "transparent",
                          "value": null
                        },
                        {
                          "color": "rgba(216, 200, 27, 0.27)",
                          "value": 0.8
                        },
                        {
                          "color": "rgba(234, 112, 112, 0.22)",
                          "value": 0.9
                        }
                      ]
                    },
                    "unit": "percentunit"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 0,
                  "y": 7
                },
                "id": 32,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "1-(elasticsearch_filesystem_data_available_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}/elasticsearch_filesystem_data_size_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"})",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: {{path}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Disk usage",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Bytes/sec",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "Bps"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 12,
                  "y": 7
                },
                "id": 47,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_transport_tx_size_bytes_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: sent ",
                    "refId": "D",
                    "step": 20
                  },
                  {
                    "expr": "-irate(elasticsearch_transport_rx_size_bytes_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: received",
                    "refId": "C",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Network usage",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Disk and Network",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 97,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "decimals": 2,
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 0,
                  "y": 8
                },
                "id": 1,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_docs{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Documents count on node",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "index calls/s",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 12,
                  "y": 8
                },
                "id": 24,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_indexing_index_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Documents indexed rate",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "description": "Count of deleted documents on this node",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Documents/s",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 8,
                  "x": 0,
                  "y": 19
                },
                "id": 25,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_docs_deleted{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Documents deleted rate",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Documents/s",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "decimals": 2,
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 8,
                  "x": 8,
                  "y": 19
                },
                "id": 26,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "rate(elasticsearch_indices_merges_docs_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Documents merged rate",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Bytes/s",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "decbytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 8,
                  "x": 16,
                  "y": 19
                },
                "id": 52,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_merges_total_size_bytes_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Documents merged bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Documents",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 25
            },
            "id": 98,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Time",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 0,
                  "y": 9
                },
                "id": 33,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_search_query_time_seconds{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval]) ",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 10
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Query time",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Time",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 12,
                  "y": 9
                },
                "id": 5,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_indexing_index_time_seconds_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 10
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Indexing time",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Time",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 0,
                  "y": 20
                },
                "id": 3,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_merges_total_time_seconds_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 10
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Merging time",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 0,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "auto",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    }
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 12,
                  "y": 20
                },
                "id": 87,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_store_throttle_time_seconds_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 10
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Throttle time for index store",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Times",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 26
            },
            "id": 99,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Operations/s",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 24,
                  "x": 0,
                  "y": 10
                },
                "id": 48,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "rate(elasticsearch_indices_indexing_index_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: indexing",
                    "metric": "",
                    "refId": "A",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices_search_query_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: query",
                    "refId": "B",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices_search_fetch_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: fetch",
                    "refId": "C",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices_merges_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: merges",
                    "refId": "D",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices__total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: refresh",
                    "refId": "E",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices_flush_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: flush",
                    "refId": "F",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices_get_exists_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: get_exists",
                    "refId": "G",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices_get_missing_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: get_missing",
                    "refId": "H",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices_get_tota{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: get",
                    "refId": "I",
                    "step": 10
                  },
                  {
                    "expr": "rate(elasticsearch_indices_indexing_delete_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: indexing_delete",
                    "refId": "J",
                    "step": 10
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Total Operations  rate",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Time",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "s"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 24,
                  "x": 0,
                  "y": 21
                },
                "id": 49,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_indices_indexing_index_time_seconds_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: indexing",
                    "metric": "",
                    "refId": "A",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_search_query_time_seconds{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: query",
                    "refId": "B",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_search_fetch_time_seconds{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: fetch",
                    "refId": "C",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_merges_total_time_seconds_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: merges",
                    "refId": "D",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_refresh_time_seconds_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: refresh",
                    "refId": "E",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_flush_time_seconds{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: flush",
                    "refId": "F",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_get_exists_time_seconds{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: get_exists",
                    "refId": "G",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_get_time_seconds{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: get_time",
                    "refId": "H",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_get_missing_time_seconds{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: get_missing",
                    "refId": "I",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_indexing_delete_time_seconds_total{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: indexing_delete",
                    "refId": "J",
                    "step": 10
                  },
                  {
                    "expr": "irate(elasticsearch_indices_get_time_seconds{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: get",
                    "refId": "K",
                    "step": 10
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Total Operations time",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Total Operations stats",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 27
            },
            "id": 100,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 20,
                  "w": 6,
                  "x": 0,
                  "y": 11
                },
                "id": 45,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_thread_pool_rejected_count{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: {{ type }}",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Thread Pool operations rejected",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 20,
                  "w": 6,
                  "x": 6,
                  "y": 11
                },
                "id": 46,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_thread_pool_active_count{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: {{ type }}",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Thread Pool operations queued",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 20,
                  "w": 6,
                  "x": 12,
                  "y": 11
                },
                "id": 43,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_thread_pool_active_count{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: {{ type }}",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Thread Pool threads active",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 20,
                  "w": 6,
                  "x": 18,
                  "y": 11
                },
                "id": 44,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "irate(elasticsearch_thread_pool_completed_count{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}: {{ type }}",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Thread Pool operations completed",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Thread Pool",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 28
            },
            "id": 101,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Memory",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 0,
                  "y": 29
                },
                "id": 4,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_fielddata_memory_size_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Field data memory size",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Evictions/s",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 12,
                  "x": 12,
                  "y": 29
                },
                "id": 34,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "rate(elasticsearch_indices_fielddata_evictions{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Field data evictions",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Size",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 8,
                  "x": 0,
                  "y": 40
                },
                "id": 35,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_query_cache_memory_size_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Query cache size",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Evictions/s",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 8,
                  "x": 8,
                  "y": 40
                },
                "id": 36,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "rate(elasticsearch_indices_query_cache_evictions{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Query cache evictions",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "Evictions/s",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 11,
                  "w": 8,
                  "x": 16,
                  "y": 40
                },
                "id": 84,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "lastNotNull",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "rate(elasticsearch_indices_filter_cache_evictions{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}[$interval])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "metric": "",
                    "refId": "A",
                    "step": 20
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Evictions from filter cache",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Caches",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 29
            },
            "id": 102,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 13
                },
                "id": 85,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segments_count{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Count of index segments",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "normal"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 20
                },
                "id": 86,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segments_memory_bytes{instance=~\"$instance\",cluster=\"$cluster\",name=~\"$name\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{name}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Current memory size of segments in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Segments",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 30
            },
            "id": 103,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 31
                },
                "id": 75,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_docs_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Count of documents with only primary shards",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 38
                },
                "id": 83,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_store_size_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Total size of stored index data in bytes with only primary shards on all nodes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 45
                },
                "id": 76,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_store_size_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Total size of stored index data in bytes with all shards on all nodes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Count of documents and Total size",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 31
            },
            "id": 104,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 15
                },
                "id": 61,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_index_writer_memory_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Index writer with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 22
                },
                "id": 62,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_index_writer_memory_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Index writer with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Index writer",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 105,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 16
                },
                "id": 55,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_count_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Segments with only primary shards on all nodes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 23
                },
                "id": 56,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_count_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Segments with all shards on all nodes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 30
                },
                "id": 65,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_memory_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of segments with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 37
                },
                "id": 66,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_memory_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of segments with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Segments",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 33
            },
            "id": 106,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 17
                },
                "id": 57,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_doc_values_memory_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Doc values with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 24
                },
                "id": 58,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_doc_values_memory_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Doc values with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Doc values",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 34
            },
            "id": 107,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 18
                },
                "id": 59,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_fields_memory_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of fields with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 25
                },
                "id": 60,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_fields_memory_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of fields with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Fields",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 35
            },
            "id": 108,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 19
                },
                "id": 63,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_fixed_bit_set_memory_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of fixed bit with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 26
                },
                "id": 64,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_fixed_bit_set_memory_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of fixed bit with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Fixed bit",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 36
            },
            "id": 109,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 20
                },
                "id": 67,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_norms_memory_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of norms with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 27
                },
                "id": 68,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_norms_memory_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of norms with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Norms",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 37
            },
            "id": 110,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 21
                },
                "id": 69,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_points_memory_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of points with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 28
                },
                "id": 70,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_points_memory_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of points with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Points",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 38
            },
            "id": 111,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 22
                },
                "id": 71,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_terms_memory_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of terms with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 29
                },
                "id": 72,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_terms_memory_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Number of terms with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Terms",
            "type": "row"
          },
          {
            "collapsed": true,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 39
            },
            "id": 112,
            "panels": [
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 23
                },
                "id": 73,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "exemplar": true,
                    "expr": "elasticsearch_indices_segment_version_map_memory_bytes_primary{instance=~\"$instance\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of version map with only primary shards on all nodes in bytes",
                "type": "timeseries"
              },
              {
                "datasource": "$datasource",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": true,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 30
                },
                "id": 74,
                "links": [],
                "options": {
                  "legend": {
                    "calcs": [
                      "mean",
                      "max",
                      "min"
                    ],
                    "displayMode": "table",
                    "placement": "right"
                  },
                  "tooltip": {
                    "mode": "single"
                  }
                },
                "pluginVersion": "8.0.0",
                "targets": [
                  {
                    "expr": "elasticsearch_indices_segment_version_map_memory_bytes_total{instance=~\"$instance\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{index}}",
                    "refId": "A"
                  }
                ],
                "timeFrom": null,
                "timeShift": null,
                "title": "Size of version map with all shards on all nodes in bytes",
                "type": "timeseries"
              }
            ],
            "repeat": null,
            "title": "Indices: Version map",
            "type": "row"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 30,
        "style": "dark",
        "tags": [
          "opensearch"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "prometheus-sc",
                "value": "prometheus-sc"
              },
              "description": null,
              "error": null,
              "hide": 0,
              "includeAll": false,
              "label": null,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "auto": true,
              "auto_count": 30,
              "auto_min": "10s",
              "current": {
                "selected": true,
                "text": "auto",
                "value": "$__auto_interval_interval"
              },
              "description": null,
              "error": null,
              "hide": 0,
              "label": "Interval",
              "name": "interval",
              "options": [
                {
                  "selected": true,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": false,
                  "text": "5m",
                  "value": "5m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                },
                {
                  "selected": false,
                  "text": "1d",
                  "value": "1d"
                },
                {
                  "selected": false,
                  "text": "7d",
                  "value": "7d"
                },
                {
                  "selected": false,
                  "text": "14d",
                  "value": "14d"
                },
                {
                  "selected": false,
                  "text": "30d",
                  "value": "30d"
                }
              ],
              "query": "5m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
              "queryValue": "",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "allValue": null,
              "current": {
                "selected": false,
                "text": "elasticsearch",
                "value": "elasticsearch"
              },
              "datasource": "$datasource",
              "definition": "",
              "description": null,
              "error": null,
              "hide": 0,
              "includeAll": false,
              "label": "Cluster",
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(elasticsearch_indices_docs,cluster)",
                "refId": "prometheus-sc-cluster-Variable-Query"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": null,
              "tagsQuery": null,
              "type": "query",
              "useTags": false
            },
            {
              "allValue": null,
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": "$datasource",
              "definition": "",
              "description": null,
              "error": null,
              "hide": 0,
              "includeAll": true,
              "label": "Node name",
              "multi": true,
              "name": "name",
              "options": [],
              "query": {
                "query": "label_values(elasticsearch_indices_docs{instance=~\"$instance\",cluster=\"$cluster\", name!=\"\"},name)",
                "refId": "prometheus-sc-name-Variable-Query"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": null,
              "tagsQuery": null,
              "type": "query",
              "useTags": false
            },
            {
              "allValue": null,
              "current": {
                "selected": false,
                "text": "10.233.118.127:9108",
                "value": "10.233.118.127:9108"
              },
              "datasource": "$datasource",
              "definition": "",
              "description": null,
              "error": null,
              "hide": 0,
              "includeAll": true,
              "label": "Source of metrics",
              "multi": true,
              "name": "instance",
              "options": [],
              "query": {
                "query": "label_values(elasticsearch_indices_docs{cluster=\"$cluster\", name!=\"\"},instance)",
                "refId": "prometheus-sc-instance-Variable-Query"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "tagValuesQuery": null,
              "tagsQuery": null,
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "OpenSearch",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-prometheus-blackbox-exporter-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  prometheus-blackbox-exporter-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Prometheus Blackbox Exporter Overview",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 7587,
        "graphTooltip": 0,
        "id": 37,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "fillOpacity": 70,
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineWidth": 1
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "color": "red",
                        "index": 0,
                        "text": "DOWN"
                      },
                      "1": {
                        "color": "green",
                        "index": 1,
                        "text": "UP"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "red",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 0
                    },
                    {
                      "color": "green",
                      "value": 1
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 381,
            "options": {
              "colWidth": 0.9,
              "legend": {
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "rowHeight": 0.9,
              "showValue": "auto",
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.4",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "probe_success{cluster=~\"$cluster\",target=~\"$target\"}",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "legendFormat": "{{ target }}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Global Probe Success",
            "type": "status-history"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 138,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "asc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "probe_duration_seconds{cluster=~\"$cluster\",target=~\"$target\"}",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "legendFormat": "{{ target }}",
                "refId": "A"
              }
            ],
            "title": "Global Probe Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 15,
            "panels": [],
            "repeat": "target",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "$target status",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "text": "DOWN"
                      },
                      "1": {
                        "text": "UP"
                      }
                    },
                    "type": "value"
                  },
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 1
                    },
                    {
                      "color": "#299c46",
                      "value": 1
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 0,
              "y": 17
            },
            "id": 2,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "repeatDirection": "v",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "probe_success{cluster=~\"$cluster\",target=~\"$target\"}",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Status",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 10,
              "x": 4,
              "y": 17
            },
            "id": 25,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "probe_http_duration_seconds{cluster=~\"$cluster\",target=~\"$target\"}",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "legendFormat": "{{ phase }}",
                "refId": "B"
              }
            ],
            "title": "HTTP Duration",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 10,
              "x": 14,
              "y": 17
            },
            "id": 17,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "probe_duration_seconds{cluster=~\"$cluster\",target=~\"$target\"}",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "legendFormat": "seconds",
                "refId": "A"
              }
            ],
            "title": "Probe Duration",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 0,
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "text": "N/A"
                      },
                      "1": {
                        "text": "YES"
                      }
                    },
                    "type": "value"
                  },
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#299c46",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 201
                    },
                    {
                      "color": "#d44a3a",
                      "value": 399
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 0,
              "y": 19
            },
            "id": 20,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "repeatDirection": "h",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "probe_http_status_code{cluster=~\"$cluster\",target=~\"$target\"}",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "HTTP Status Code",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 0,
              "y": 21
            },
            "id": 27,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "probe_http_version{cluster=~\"$cluster\",target=~\"$target\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "HTTP Version",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "text": "NO"
                      },
                      "1": {
                        "text": "YES"
                      }
                    },
                    "type": "value"
                  },
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0
                    },
                    {
                      "color": "#299c46",
                      "value": 1
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 4,
              "x": 0,
              "y": 23
            },
            "id": 18,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "repeatDirection": "v",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "probe_http_ssl{cluster=~\"$cluster\",target=~\"$target\"}",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "SSL",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "decimals": 2,
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "text": "NO"
                      },
                      "1": {
                        "text": "YES"
                      }
                    },
                    "type": "value"
                  },
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0
                    },
                    {
                      "color": "#299c46",
                      "value": 1209600
                    }
                  ]
                },
                "unit": "dtdurations"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 10,
              "x": 4,
              "y": 23
            },
            "id": 19,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "repeatDirection": "h",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "probe_ssl_earliest_cert_expiry{cluster=~\"$cluster\",target=~\"$target\"} - time()",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "legendFormat": "{{cluster}}",
                "orientation": "auto",
                "refId": "A"
              }
            ],
            "title": "SSL Expiry",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 5,
              "x": 14,
              "y": 23
            },
            "id": 23,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg(probe_duration_seconds{cluster=~\"$cluster\",target=~\"$target\"})",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Average Probe Duration",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 2,
              "w": 5,
              "x": 19,
              "y": 23
            },
            "id": 24,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "none",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "repeatDirection": "h",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg(probe_dns_lookup_time_seconds{cluster=~\"$cluster\",target=~\"$target\"})",
                "format": "time_series",
                "interval": "$interval",
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "title": "Average DNS Lookup",
            "type": "stat"
          }
        ],
        "refresh": "1m",
        "schemaVersion": 39,
        "tags": [
          "blackbox",
          "prometheus"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "auto": true,
              "auto_count": 10,
              "auto_min": "10s",
              "current": {
                "selected": true,
                "text": "1m",
                "value": "1m"
              },
              "datasource": {
                "uid": "$datasource"
              },
              "hide": 0,
              "label": "Interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": false,
                  "text": "5s",
                  "value": "5s"
                },
                {
                  "selected": false,
                  "text": "10s",
                  "value": "10s"
                },
                {
                  "selected": false,
                  "text": "30s",
                  "value": "30s"
                },
                {
                  "selected": true,
                  "text": "1m",
                  "value": "1m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                },
                {
                  "selected": false,
                  "text": "1d",
                  "value": "1d"
                },
                {
                  "selected": false,
                  "text": "7d",
                  "value": "7d"
                },
                {
                  "selected": false,
                  "text": "14d",
                  "value": "14d"
                },
                {
                  "selected": false,
                  "text": "30d",
                  "value": "30d"
                }
              ],
              "query": "5s,10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "current": {
                "selected": false,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "label_values(probe_success, cluster)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(probe_success, cluster)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": false,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "label_values(probe_success{cluster=~\"$cluster\"}, target)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "target",
              "options": [],
              "query": {
                "query": "label_values(probe_success{cluster=~\"$cluster\"}, target)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Prometheus Blackbox Exporter",
        "uid": "xtkCtBkiz",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-prometheus-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  prometheus-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 38,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 11,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Prometheus Stats",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "decimals": 2,
                "displayName": "",
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Time"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Time"
                    },
                    {
                      "id": "custom.align"
                    },
                    {
                      "id": "custom.hidden",
                      "value": true
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #A"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Count"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    },
                    {
                      "id": "custom.hidden",
                      "value": true
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #B"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Uptime"
                    },
                    {
                      "id": "unit",
                      "value": "s"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "cluster"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Cluster"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "instance"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Instance"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "job"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Job"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "version"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Version"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true,
              "sortBy": [
                {
                  "desc": true,
                  "displayName": "Uptime"
                }
              ]
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "count by (cluster, job, instance, version) (prometheus_build_info{cluster=~\"$cluster\", job=~\"$job\", instance=~\"$instance\"})",
                "format": "table",
                "instant": true,
                "legendFormat": "",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "max by (cluster, job, instance) (time() - process_start_time_seconds{cluster=~\"$cluster\", job=~\"$job\", instance=~\"$instance\"})",
                "format": "table",
                "instant": true,
                "legendFormat": "",
                "refId": "B"
              }
            ],
            "title": "Prometheus Stats",
            "transformations": [
              {
                "id": "merge",
                "options": {
                  "reducers": []
                }
              }
            ],
            "type": "table"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 12,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Discovery",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 9
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(prometheus_target_sync_length_seconds_sum{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\"}[5m])) by (cluster, job, scrape_job, instance) * 1e3",
                "format": "time_series",
                "legendFormat": "{{cluster}}:{{job}}:{{instance}}:{{scrape_job}}",
                "refId": "A"
              }
            ],
            "title": "Target Sync",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 9
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (cluster, job, instance) (prometheus_sd_discovered_targets{cluster=~\"$cluster\", job=~\"$job\",instance=~\"$instance\"})",
                "format": "time_series",
                "legendFormat": "{{cluster}}:{{job}}:{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Targets",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 13,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Retrieval",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 17
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(prometheus_target_interval_length_seconds_sum{cluster=~\"$cluster\", job=~\"$job\",instance=~\"$instance\"}[5m]) / rate(prometheus_target_interval_length_seconds_count{cluster=~\"$cluster\", job=~\"$job\",instance=~\"$instance\"}[5m]) * 1e3",
                "format": "time_series",
                "legendFormat": "{{cluster}}:{{job}}:{{instance}} {{interval}} configured",
                "refId": "A"
              }
            ],
            "title": "Average Scrape Interval Duration",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 17
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (cluster, job, instance) (rate(prometheus_target_scrapes_exceeded_body_size_limit_total{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\"}[1m]))",
                "format": "time_series",
                "legendFormat": "exceeded body size limit: {{cluster}} {{job}} {{instance}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (cluster, job, instance) (rate(prometheus_target_scrapes_exceeded_sample_limit_total{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\"}[1m]))",
                "format": "time_series",
                "legendFormat": "exceeded sample limit: {{cluster}} {{job}} {{instance}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (cluster, job, instance) (rate(prometheus_target_scrapes_sample_duplicate_timestamp_total{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\"}[1m]))",
                "format": "time_series",
                "legendFormat": "duplicate timestamp: {{cluster}} {{job}} {{instance}}",
                "refId": "C"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (cluster, job, instance) (rate(prometheus_target_scrapes_sample_out_of_bounds_total{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\"}[1m]))",
                "format": "time_series",
                "legendFormat": "out of bounds: {{cluster}} {{job}} {{instance}}",
                "refId": "D"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (cluster, job, instance) (rate(prometheus_target_scrapes_sample_out_of_order_total{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\"}[1m]))",
                "format": "time_series",
                "legendFormat": "out of order: {{cluster}} {{job}} {{instance}}",
                "refId": "E"
              }
            ],
            "title": "Scrape failures",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 17
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(prometheus_tsdb_head_samples_appended_total{cluster=~\"$cluster\", job=~\"$job\",instance=~\"$instance\"}[5m])",
                "format": "time_series",
                "legendFormat": "{{cluster}} {{job}} {{instance}}",
                "refId": "A"
              }
            ],
            "title": "Appended Samples",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 14,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Storage",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 25
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_tsdb_head_series{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\"}",
                "format": "time_series",
                "legendFormat": "{{cluster}} {{job}} {{instance}} head series",
                "refId": "A"
              }
            ],
            "title": "Head Series",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 25
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_tsdb_head_chunks{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\"}",
                "format": "time_series",
                "legendFormat": "{{cluster}} {{job}} {{instance}} head chunks",
                "refId": "A"
              }
            ],
            "title": "Head Chunks",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 15,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Query",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 33
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(prometheus_engine_query_duration_seconds_count{cluster=~\"$cluster\",job=~\"$job\",instance=~\"$instance\",slice=\"inner_eval\"}[5m])",
                "format": "time_series",
                "legendFormat": "{{cluster}} {{job}} {{instance}}",
                "refId": "A"
              }
            ],
            "title": "Query Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 33
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "max by (slice) (prometheus_engine_query_duration_seconds{quantile=\"0.9\",cluster=~\"$cluster\", job=~\"$job\",instance=~\"$instance\"}) * 1e3",
                "format": "time_series",
                "legendFormat": "{{slice}}",
                "refId": "A"
              }
            ],
            "title": "Stage Duration",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 39,
        "tags": [
          "prometheus-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": ".+",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "cluster",
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": "label_values(prometheus_build_info{job=\"kube-prometheus-stack-prometheus\"}, cluster)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".+",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "job",
              "multi": true,
              "name": "job",
              "options": [],
              "query": "label_values(prometheus_build_info{cluster=~\"$cluster\"}, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": ".+",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "instance",
              "multi": true,
              "name": "instance",
              "options": [],
              "query": "label_values(prometheus_build_info{cluster=~\"$cluster\", job=~\"$job\"}, instance)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-15m",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Prometheus / Overview",
        "uid": "bdvkv9ey9oxdsf",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-prometheus-remote-write-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  prometheus-remote-write-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 39,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 17,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Timestamps",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(\n  prometheus_remote_storage_highest_timestamp_in_seconds{cluster=~\"$cluster\", instance=~\"$instance\"} \n-  \n  ignoring(remote_name, url) group_right(instance) (prometheus_remote_storage_queue_highest_sent_timestamp_seconds{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"} != 0)\n)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Highest Timestamp In vs. Highest Timestamp Sent",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "clamp_min(\n  rate(prometheus_remote_storage_highest_timestamp_in_seconds{cluster=~\"$cluster\", instance=~\"$instance\"}[5m])  \n- \n  ignoring (remote_name, url) group_right(instance) rate(prometheus_remote_storage_queue_highest_sent_timestamp_seconds{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m])\n, 0)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Rate[5m]",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 18,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Samples",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(\n  prometheus_remote_storage_samples_in_total{cluster=~\"$cluster\", instance=~\"$instance\"}[5m])\n- \n  ignoring(remote_name, url) group_right(instance) (rate(prometheus_remote_storage_succeeded_samples_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m]) or rate(prometheus_remote_storage_samples_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m]))\n- \n  (rate(prometheus_remote_storage_dropped_samples_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m]) or rate(prometheus_remote_storage_samples_dropped_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m]))\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Rate, in vs. succeeded or dropped [5m]",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 19,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Shards",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 17
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_remote_storage_shards{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Current Shards",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 24
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_remote_storage_shards_max{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Max Shards",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 24
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_remote_storage_shards_min{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Min Shards",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 24
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_remote_storage_shards_desired{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Desired Shards",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 31
            },
            "id": 20,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Shard Details",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 32
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_remote_storage_shard_capacity{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Shard Capacity",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 32
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_remote_storage_pending_samples{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"} or prometheus_remote_storage_samples_pending{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Pending Samples",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 39
            },
            "id": 21,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Segments",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 40
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_tsdb_wal_segment_current{cluster=~\"$cluster\", instance=~\"$instance\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}}",
                "refId": "A"
              }
            ],
            "title": "TSDB Current Segment",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 40
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "prometheus_wal_watcher_current_segment{cluster=~\"$cluster\", instance=~\"$instance\"}",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{consumer}}",
                "refId": "A"
              }
            ],
            "title": "Remote Write Current Segment",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 47
            },
            "id": 22,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Misc. Rates",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 48
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(prometheus_remote_storage_dropped_samples_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m]) or rate(prometheus_remote_storage_samples_dropped_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m])",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Dropped Samples",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 48
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(prometheus_remote_storage_failed_samples_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m]) or rate(prometheus_remote_storage_samples_failed_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m])",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Failed Samples",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 48
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(prometheus_remote_storage_retried_samples_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m]) or rate(prometheus_remote_storage_samples_retried_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m])",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Retried Samples",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 48
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(prometheus_remote_storage_enqueue_retries_total{cluster=~\"$cluster\", instance=~\"$instance\", url=~\"$url\"}[5m])",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{cluster}}:{{instance}} {{remote_name}}:{{url}}",
                "refId": "A"
              }
            ],
            "title": "Enqueue Retries",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 39,
        "tags": [
          "prometheus-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "multi": false,
              "name": "cluster",
              "options": [],
              "query": "label_values(prometheus_build_info, cluster)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "multi": false,
              "name": "instance",
              "options": [],
              "query": "label_values(prometheus_build_info{cluster=~\"$cluster\"}, instance)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "multi": false,
              "name": "url",
              "options": [],
              "query": "label_values(prometheus_remote_storage_shards{cluster=~\"$cluster\", instance=~\"$instance\"}, url)",
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-6h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Prometheus / Remote Write",
        "uid": "advkv9im7buv4a",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-prometheus-timeseries-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "ops"
data:
  prometheus-timeseries-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "description": "Shows how many time series per metric or job we have in prometheus.",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 45,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "datasource": {
              "uid": "${datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "text",
                      "value": null
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 14,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "text": {},
              "textMode": "value",
              "wideLayout": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "count ({job=~\"$jobs\", __name__=~\"$metrics\", __name__!=\"\"})",
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Total time series",
            "type": "stat"
          },
          {
            "datasource": {
              "uid": "${datasource}"
            },
            "description": "Time series per job",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 6,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 0,
              "y": 12
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "count by(job) ({job=~\"$jobs\", __name__!=\"\"})",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}",
                "refId": "A"
              }
            ],
            "title": "Times series per job",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "${datasource}"
            },
            "description": "Time series per metric",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 6,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 12,
              "y": 12
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "${datasource}"
                },
                "exemplar": true,
                "expr": "count by(__name__) ({__name__=~\"$metrics\", __name__!=\"\"})",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Time series per metric",
            "type": "timeseries"
          }
        ],
        "schemaVersion": 39,
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "prometheus-sc",
                "value": "prometheus-sc"
              },
              "hide": 0,
              "includeAll": false,
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(job)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "jobs",
              "options": [],
              "query": {
                "query": "label_values(job)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "type": "query"
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(__name__)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "metrics",
              "options": [],
              "query": {
                "query": "label_values(__name__)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-15m",
          "to": "now"
        },
        "timepicker": {
          "hidden": true
        },
        "timezone": "",
        "title": "Prometheus / Time series",
        "uid": "FlD09xs7z",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-thanos-compact-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  thanos-compact-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 297,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 20,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Group Compaction",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of execution for compactions against blocks that are stored in the bucket by compaction resolution.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, resolution) (rate(thanos_compact_group_compactions_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "compaction {{job}} {{resolution}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of executed compactions against blocks that are stored in the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_group_compactions_failures_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_compact_group_compactions_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 21,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Downsample",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of execution for downsampling against blocks that are stored in the bucket by compaction resolution.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 9
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, resolution) (rate(thanos_compact_downsample_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "downsample {{job}} {{resolution}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of executed downsampling against blocks that are stored in the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_downsample_failed_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_compact_downsample_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 22,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Garbage Collection",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of execution for removals of blocks if their data is available as part of a block with a higher compaction level.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 17
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_garbage_collection_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "garbage collection {{job}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of executed garbage collections.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 17
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_garbage_collection_failures_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_compact_garbage_collection_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to execute garbage collection in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 17
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(thanos_compact_garbage_collection_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(thanos_compact_garbage_collection_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_compact_garbage_collection_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 23,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Blocks deletion",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows deletion rate of blocks already marked for deletion.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 25
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_blocks_cleaned_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "Blocks cleanup {{job}}",
                "refId": "A"
              }
            ],
            "title": "Deletion Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows deletion failures rate of blocks already marked for deletion.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 25
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_block_cleanup_failures_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "Blocks cleanup failures {{job}}",
                "refId": "A"
              }
            ],
            "title": "Deletion Error Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate at which blocks are marked for deletion (from GC and retention policy).",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 25
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_blocks_marked_for_deletion_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "Blocks marked {{job}}",
                "refId": "A"
              }
            ],
            "title": "Marking Rate",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 24,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Sync Meta",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of execution for all meta files from blocks in the bucket into the memory.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 33
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_blocks_meta_syncs_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "sync {{job}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of executed meta file sync.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 33
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_blocks_meta_sync_failures_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_blocks_meta_syncs_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to execute meta file sync, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 33
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(thanos_blocks_meta_sync_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(thanos_blocks_meta_sync_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_blocks_meta_sync_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "id": 25,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Object Store Operations",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of execution for operations against the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 41
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, operation) (rate(thanos_objstore_bucket_operations_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{operation}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of executed operations against the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 41
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_objstore_bucket_operation_failures_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_objstore_bucket_operations_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to execute operations against the bucket, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 41
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(thanos_objstore_bucket_operation_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(thanos_objstore_bucket_operation_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_objstore_bucket_operation_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 48
            },
            "id": 26,
            "panels": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "noValue": "0",
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 49
                },
                "id": 17,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc all {{instance}}",
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc heap {{instance}}",
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_alloc_bytes_total{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate all {{instance}}",
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_heap_alloc_bytes{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate heap {{instance}}",
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_stack_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse heap {{instance}}",
                    "refId": "E"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse stack {{instance}}",
                    "refId": "F"
                  }
                ],
                "title": "Memory Used",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "noValue": "0",
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 49
                },
                "id": 18,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_goroutines{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "Goroutines",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "noValue": "0",
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 49
                },
                "id": 19,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_gc_duration_seconds{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{quantile}} {{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "GC Time Quantiles",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Resources",
            "type": "row"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 39,
        "tags": [
          "thanos-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "auto": true,
              "auto_count": 300,
              "auto_min": "10s",
              "current": {
                "selected": false,
                "text": "5m",
                "value": "5m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "5m",
                  "value": "5m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                }
              ],
              "query": "5m,10m,30m,1h,6h,12h",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(up{job=~\".*thanos-receiver-compact.*\"}, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Thanos / Compact",
        "uid": "651943d05a8123e32867b4673963f42b",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-thanos-overview-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  thanos-overview-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 89,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 21,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Instant Query",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of requests against /query for the given time.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/1../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/2../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/3../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/4../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/5../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "links": [
              {
                "title": "Thanos / Query",
                "url": "dashboard/db/thanos-query?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, handler, code) (rate(http_requests_total{handler=\"query\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{handler}} {{code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Requests Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests against /query.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 1
            },
            "id": 2,
            "links": [
              {
                "title": "Thanos / Query",
                "url": "dashboard/db/thanos-query?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, code) (rate(http_requests_total{handler=\"query\",code=~\"5..\"}[$interval])) / ignoring (code) group_left() sum by (job) (rate(http_requests_total{handler=\"query\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Requests Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 0.5
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 1
            },
            "id": 3,
            "links": [
              {
                "title": "Thanos / Query",
                "url": "dashboard/db/thanos-query?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(http_request_duration_seconds_bucket{handler=\"query\"}[$interval])))",
                "format": "time_series",
                "legendFormat": "{{job}} P99",
                "refId": "A"
              }
            ],
            "title": "Latency 99th Percentile",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 22,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Range Query",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of requests against /query_range for the given time range.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/1../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/2../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/3../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/4../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/5../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "links": [
              {
                "title": "Thanos / Query",
                "url": "dashboard/db/thanos-query?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, handler, code) (rate(http_requests_total{handler=\"query_range\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{handler}} {{code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Requests Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests against /query_range.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 9
            },
            "id": 5,
            "links": [
              {
                "title": "Thanos / Query",
                "url": "dashboard/db/thanos-query?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, code) (rate(http_requests_total{handler=\"query_range\",code=~\"5..\"}[$interval])) / ignoring (code) group_left() sum by (job) (rate(http_requests_total{handler=\"query_range\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Requests Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 0.5
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 9
            },
            "id": 6,
            "links": [
              {
                "title": "Thanos / Query",
                "url": "dashboard/db/thanos-query?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(http_request_duration_seconds_bucket{handler=\"query_range\"}[$interval])))",
                "format": "time_series",
                "legendFormat": "{{job}} P99",
                "refId": "A"
              }
            ],
            "title": "Latency 99th Percentile",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 23,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Store",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Unary gRPC requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 17
            },
            "id": 7,
            "links": [
              {
                "title": "Thanos / Store",
                "url": "dashboard/db/thanos-store?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "gRPC (Unary) Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 17
            },
            "id": 8,
            "links": [
              {
                "title": "Thanos / Store",
                "url": "dashboard/db/thanos-store?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",grpc_type=\"unary\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "gRPC (Unary) Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 0.5
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 17
            },
            "id": 9,
            "links": [
              {
                "title": "Thanos / Store",
                "url": "dashboard/db/thanos-store?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{grpc_type=\"unary\"}[$interval])))",
                "format": "time_series",
                "legendFormat": "{{job}} P99",
                "refId": "A"
              }
            ],
            "title": "gRPC Latency 99th Percentile",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 24,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Sidecar",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Unary gRPC requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 25
            },
            "id": 10,
            "links": [
              {
                "title": "Thanos / Sidecar",
                "url": "dashboard/db/thanos-sidecar?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "gRPC (Unary) Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 25
            },
            "id": 11,
            "links": [
              {
                "title": "Thanos / Sidecar",
                "url": "dashboard/db/thanos-sidecar?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",grpc_type=\"unary\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "gRPC (Unary) Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from queriers, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 0.5
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 25
            },
            "id": 12,
            "links": [
              {
                "title": "Thanos / Sidecar",
                "url": "dashboard/db/thanos-sidecar?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{grpc_type=\"unary\"}[$interval])))",
                "format": "time_series",
                "legendFormat": "{{job}} P99",
                "refId": "A"
              }
            ],
            "title": "gRPC (Unary) Latency 99th Percentile",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 25,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Receive",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of incoming requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/1../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/2../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/3../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/4../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/5../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 33
            },
            "id": 13,
            "links": [
              {
                "title": "Thanos / Receive",
                "url": "dashboard/db/thanos-receive?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, handler, code) (rate(http_requests_total{handler=\"receive\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{handler}} {{code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Incoming Requests Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled incoming requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 33
            },
            "id": 14,
            "links": [
              {
                "title": "Thanos / Receive",
                "url": "dashboard/db/thanos-receive?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, code) (rate(http_requests_total{handler=\"receive\",code=~\"5..\"}[$interval])) / ignoring (code) group_left() sum by (job) (rate(http_requests_total{handler=\"receive\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Incoming Requests Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle incoming requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 0.5
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 33
            },
            "id": 15,
            "links": [
              {
                "title": "Thanos / Receive",
                "url": "dashboard/db/thanos-receive?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(http_request_duration_seconds_bucket{handler=\"receive\"}[$interval])))",
                "format": "time_series",
                "legendFormat": "{{job}} P99",
                "refId": "A"
              }
            ],
            "title": "Incoming Requests Latency 99th Percentile",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "id": 26,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Rule",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of alerts that successfully sent to alert manager.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 41
            },
            "id": 16,
            "links": [
              {
                "title": "Thanos / Rule",
                "url": "dashboard/db/thanos-rule?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, alertmanager) (rate(thanos_alert_sender_alerts_sent_total{}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{alertmanager}}",
                "refId": "A"
              }
            ],
            "title": "Alert Sent Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of sent alerts.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 41
            },
            "id": 17,
            "links": [
              {
                "title": "Thanos / Rule",
                "url": "dashboard/db/thanos-rule?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_alert_sender_errors_total{}[$interval])) / sum by (job) (rate(thanos_alert_sender_alerts_sent_total{}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Alert Sent Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to send alerts to alert manager.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    },
                    {
                      "color": "orange",
                      "value": 0.5
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 41
            },
            "id": 18,
            "links": [
              {
                "title": "Thanos / Rule",
                "url": "dashboard/db/thanos-rule?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_alert_sender_latency_seconds_bucket{}[$interval])))",
                "format": "time_series",
                "legendFormat": "{{job}} P99",
                "refId": "A"
              }
            ],
            "title": "Alert Sent Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 48
            },
            "id": 27,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Compact",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of execution for compactions against blocks that are stored in the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 49
            },
            "id": 19,
            "links": [
              {
                "title": "Thanos / Compact",
                "url": "dashboard/db/thanos-compact?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_group_compactions_total{}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "compaction {{job}}",
                "refId": "A"
              }
            ],
            "title": "Compaction Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of executed compactions against blocks that are stored in the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 49
            },
            "id": 20,
            "links": [
              {
                "title": "Thanos / Compact",
                "url": "dashboard/db/thanos-compact?$__url_time_range&$__all_variables"
              }
            ],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_compact_group_compactions_failures_total{}[$interval])) / sum by (job) (rate(thanos_compact_group_compactions_total{}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Compaction Errors",
            "type": "timeseries"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 39,
        "tags": [
          "thanos-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "auto": true,
              "auto_count": 300,
              "auto_min": "10s",
              "current": {
                "selected": false,
                "text": "5m",
                "value": "5m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "5m",
                  "value": "5m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                }
              ],
              "query": "5m,10m,30m,1h,6h,12h",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Thanos / Overview",
        "uid": "0cb8830a6e957978796729870f560cda",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-thanos-query-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  thanos-query-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 90,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 19,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Instant Query API",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of requests against /query for the given time.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/1../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/2../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/3../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/4../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/5../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, handler, code) (rate(http_requests_total{job=~\"$job\", handler=\"query\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{handler}} {{code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests against /query.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, code) (rate(http_requests_total{job=~\"$job\", handler=\"query\",code=~\"5..\"}[$interval])) / ignoring (code) group_left() sum by (job) (rate(http_requests_total{job=~\"$job\", handler=\"query\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 20,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Range Query API",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of requests against /query_range for the given time range.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/1../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/2../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/3../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/4../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/5../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, handler, code) (rate(http_requests_total{job=~\"$job\", handler=\"query_range\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{handler}} {{code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests against /query_range.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 9
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, code) (rate(http_requests_total{job=~\"$job\", handler=\"query_range\",code=~\"5..\"}[$interval])) / ignoring (code) group_left() sum by (job) (rate(http_requests_total{job=~\"$job\", handler=\"query_range\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 9
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query_range\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query_range\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query_range\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 21,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "gRPC (Unary)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Unary gRPC requests from other queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 17
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_client_handled_total{job=~\"$job\", grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from other queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 17
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_client_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"unary\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_client_handled_total{job=~\"$job\", grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from other queriers, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 17
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_client_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_client_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_client_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 22,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "gRPC (Stream)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Streamed gRPC requests from other queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 25
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_client_handled_total{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from other queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 25
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_client_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"server_stream\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_client_handled_total{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from other queriers, in quantiles",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 25
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_client_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_client_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_client_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 23,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "DNS",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of DNS lookups to discover stores.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 33
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_query_store_apis_dns_lookups_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "legendFormat": "lookups {{job}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of failures compared to the total number of executed DNS lookups.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 33
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_query_store_apis_dns_failures_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_query_store_apis_dns_lookups_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "id": 24,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Query Concurrency",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows available capacity of processing queries in parallel.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 41
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "max_over_time(thanos_query_concurrent_gate_queries_max{job=~\"$job\"}[$__rate_interval]) - avg_over_time(thanos_query_concurrent_gate_queries_in_flight{job=~\"$job\"}[$__rate_interval])",
                "format": "time_series",
                "legendFormat": "{{job}} - {{pod}}",
                "refId": "A"
              }
            ],
            "title": "Concurrent Capacity",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 48
            },
            "id": 25,
            "panels": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 49
                },
                "id": 16,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc all {{instance}}",
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc heap {{instance}}",
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_alloc_bytes_total{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate all {{instance}}",
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_heap_alloc_bytes{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate heap {{instance}}",
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_stack_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse heap {{instance}}",
                    "refId": "E"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse stack {{instance}}",
                    "refId": "F"
                  }
                ],
                "title": "Memory Used",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 49
                },
                "id": 17,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_goroutines{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "Goroutines",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 49
                },
                "id": 18,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_gc_duration_seconds{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{quantile}} {{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "GC Time Quantiles",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Resources",
            "type": "row"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 39,
        "tags": [
          "thanos-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "auto": true,
              "auto_count": 300,
              "auto_min": "10s",
              "current": {
                "selected": false,
                "text": "5m",
                "value": "5m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "5m",
                  "value": "5m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                }
              ],
              "query": "5m,10m,30m,1h,6h,12h",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(up{job=~\".*thanos-query-query.*\"}, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Thanos / Query",
        "uid": "af36c91291a603f1d9fbdabdd127ac4a",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-thanos-query-frontend-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  thanos-query-frontend-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 91,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 12,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Query Frontend API",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of requests against Query Frontend for the given time.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/1../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/2../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/3../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/4../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/5../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, handler, code) (rate(http_requests_total{job=~\"$job\", handler=\"query-frontend\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{handler}} {{code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate of requests",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of queries passing through Query Frontend",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/1../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/2../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/3../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/4../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/5../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, handler, code) (rate(thanos_query_frontend_queries_total{job=~\"$job\", op=\"query_range\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{handler}} {{code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate of queries",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests against Query Frontend.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, code) (rate(http_requests_total{job=~\"$job\", handler=\"query-frontend\",code=~\"5..\"}[$interval])) / ignoring (code) group_left() sum by (job) (rate(http_requests_total{job=~\"$job\", handler=\"query-frontend\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 1
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query-frontend\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query-frontend\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"query-frontend\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 13,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Cache Operations",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Show rate of cache requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 9
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tripperware) (rate(cortex_cache_request_duration_seconds_count{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{tripperware}}",
                "refId": "A"
              }
            ],
            "title": "Requests",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Show rate of Querier cache gets vs misses.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 9
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tripperware) (rate(querier_cache_gets_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "Cache gets - {{job}} {{tripperware}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tripperware) (rate(querier_cache_misses_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "Cache misses - {{job}} {{tripperware}}",
                "refId": "B"
              }
            ],
            "title": "Querier cache gets vs misses",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of cortex fetched keys.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 9
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tripperware) (rate(cortex_cache_fetched_keys_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{tripperware}}",
                "refId": "A"
              }
            ],
            "title": "Cortex fetched keys",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of cortex cache hits.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 9
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tripperware) (rate(cortex_cache_hits_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{tripperware}}",
                "refId": "A"
              }
            ],
            "title": "Cortex cache hits",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 14,
            "panels": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 17
                },
                "id": 9,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc all {{instance}}",
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc heap {{instance}}",
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_alloc_bytes_total{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate all {{instance}}",
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_heap_alloc_bytes{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate heap {{instance}}",
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_stack_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse heap {{instance}}",
                    "refId": "E"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse stack {{instance}}",
                    "refId": "F"
                  }
                ],
                "title": "Memory Used",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 17
                },
                "id": 10,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_goroutines{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "Goroutines",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 17
                },
                "id": 11,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_gc_duration_seconds{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{quantile}} {{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "GC Time Quantiles",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Resources",
            "type": "row"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 39,
        "tags": [
          "thanos-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "auto": true,
              "auto_count": 300,
              "auto_min": "10s",
              "current": {
                "selected": false,
                "text": "5m",
                "value": "5m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "5m",
                  "value": "5m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                }
              ],
              "query": "5m,10m,30m,1h,6h,12h",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(up{job=~\".*thanos-query-query-frontend.*\"}, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Thanos / Query Frontend",
        "uid": "7c68ed2ef2355474f058dd27f0471f7a",
        "version": 1,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-thanos-receive-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  thanos-receive-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 92,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 31,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "WRITE - Incoming Request",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of incoming requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/1../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/2../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/3../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/4../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/5../"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, handler, code) (rate(http_requests_total{job=~\"$job\", handler=\"receive\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{handler}} {{code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled incoming requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, code) (rate(http_requests_total{job=~\"$job\", handler=\"receive\",code=~\"5..\"}[$interval])) / ignoring (code) group_left() sum by (job) (rate(http_requests_total{job=~\"$job\", handler=\"receive\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle incoming requests in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"receive\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"receive\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(http_request_duration_seconds_bucket{job=~\"$job\", handler=\"receive\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 32,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "WRITE - Incoming Request (tenant focus)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (tenant, code) (rate(http_requests_total{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{code}} - {{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Rate of write requests (by tenant and code)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 9
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (tenant, code) (rate(http_requests_total{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\", code!~\"2..\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{code}} - {{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Number of errors (by tenant and code)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 9
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tenant) (rate(http_request_duration_seconds_sum{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\"}[$__rate_interval])) / sum by (job, tenant) (http_request_duration_seconds_count{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\"})",
                "format": "time_series",
                "legendFormat": "{{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Average request duration (by tenant)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 33,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "HTTP requests (tenant focus)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 17
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tenant) (rate(http_request_size_bytes_sum{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\", code=~\"2..\"}[$__rate_interval])) / sum by (job, tenant) (rate(http_request_size_bytes_count{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\", code=~\"2..\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Average successful HTTP request size (per tenant and code, only 2XX)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 17
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tenant) (rate(http_request_size_bytes_sum{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\", code!~\"2..\"}[$__rate_interval])) / sum by (job, tenant) (rate(http_request_size_bytes_count{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\", code!~\"2..\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Average failed HTTP request size (per tenant and code, non 2XX)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 17
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, tenant, method) (http_inflight_requests{job=~\"$job\", tenant=~\"$tenant\", handler=\"receive\"})",
                "format": "time_series",
                "legendFormat": "{{method}} - {{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Inflight requests (per tenant and method)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 34,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Series & Samples (tenant focus)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 25
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(thanos_receive_write_timeseries_sum{job=~\"$job\", tenant=~\"$tenant\", code=~\"2..\"}[$__rate_interval])) by (job, tenant) ",
                "format": "time_series",
                "legendFormat": "{{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Rate of series received (per tenant, only 2XX)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 25
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(thanos_receive_write_timeseries_sum{job=~\"$job\", tenant=~\"$tenant\", code!~\"2..\"}[$__rate_interval])) by (tenant, code) ",
                "format": "time_series",
                "legendFormat": "{{code}} - {{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Rate of series not written (per tenant and code, non 2XX)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 25
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(thanos_receive_write_samples_sum{job=~\"$job\", tenant=~\"$tenant\", code=~\"2..\"}[$__rate_interval])) by (job, tenant) ",
                "format": "time_series",
                "legendFormat": "{{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Rate of samples received (per tenant, only 2XX)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 25
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(thanos_receive_write_samples_sum{job=~\"$job\", tenant=~\"$tenant\", code!~\"2..\"}[$__rate_interval])) by (tenant, code) ",
                "format": "time_series",
                "legendFormat": "{{code}} - {{tenant}}",
                "refId": "A"
              }
            ],
            "title": "Rate of samples not written (per tenant and code, non 2XX)",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 35,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "WRITE - Replication",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of replications to other receive nodes.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 33
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_receive_replications_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "all {{job}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of replications to other receive nodes.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 33
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_receive_replications_total{job=~\"$job\", result=\"error\"}[$interval])) / sum by (job) (rate(thanos_receive_replications_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "id": 36,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "WRITE - Forward Request",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of forwarded requests to other receive nodes.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 41
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_receive_forward_requests_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "all {{job}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of forwarded requests to other receive nodes.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 41
            },
            "id": 17,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_receive_forward_requests_total{job=~\"$job\", result=\"error\"}[$interval])) / sum by (job) (rate(thanos_receive_forward_requests_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 48
            },
            "id": 37,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "WRITE - gRPC (Unary)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Unary gRPC requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 49
            },
            "id": 18,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"unary\", grpc_method=\"RemoteWrite\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 49
            },
            "id": 19,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"unary\", grpc_method=\"RemoteWrite\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"unary\", grpc_method=\"RemoteWrite\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from queriers, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 49
            },
            "id": 20,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\", grpc_method=\"RemoteWrite\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\", grpc_method=\"RemoteWrite\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\", grpc_method=\"RemoteWrite\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 56
            },
            "id": 38,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "READ - gRPC (Unary)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Unary gRPC requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 57
            },
            "id": 21,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"unary\", grpc_method!=\"RemoteWrite\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 57
            },
            "id": 22,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"unary\", grpc_method!=\"RemoteWrite\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"unary\", grpc_method!=\"RemoteWrite\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from queriers, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 57
            },
            "id": 23,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\", grpc_method!=\"RemoteWrite\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\", grpc_method!=\"RemoteWrite\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\", grpc_method!=\"RemoteWrite\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 64
            },
            "id": 39,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "READ - gRPC (Stream)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Streamed gRPC requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 65
            },
            "id": 24,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 65
            },
            "id": 25,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"server_stream\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from queriers, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 65
            },
            "id": 26,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 72
            },
            "id": 40,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Last Updated",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows the relative time of last successful upload to the object-store bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "decimals": 2,
                "displayName": "",
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Time"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Time"
                    },
                    {
                      "id": "custom.align"
                    },
                    {
                      "id": "custom.hidden",
                      "value": true
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Uploaded Ago"
                    },
                    {
                      "id": "unit",
                      "value": "s"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 73
            },
            "id": 27,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "time() - max by (job, bucket) (thanos_objstore_bucket_last_successful_upload_time{job=~\"$job\"})",
                "format": "table",
                "instant": true,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "Successful Upload",
            "transformations": [
              {
                "id": "merge",
                "options": {
                  "reducers": []
                }
              }
            ],
            "type": "table"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 80
            },
            "id": 41,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Resources",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 81
            },
            "id": 28,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "go_memstats_alloc_bytes{job=~\"$job\"}",
                "format": "time_series",
                "legendFormat": "alloc all {{instance}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "go_memstats_heap_alloc_bytes{job=~\"$job\"}",
                "format": "time_series",
                "legendFormat": "alloc heap {{instance}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(go_memstats_alloc_bytes_total{job=~\"$job\"}[30s])",
                "format": "time_series",
                "legendFormat": "alloc rate all {{instance}}",
                "refId": "C"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "rate(go_memstats_heap_alloc_bytes{job=~\"$job\"}[30s])",
                "format": "time_series",
                "legendFormat": "alloc rate heap {{instance}}",
                "refId": "D"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "go_memstats_stack_inuse_bytes{job=~\"$job\"}",
                "format": "time_series",
                "legendFormat": "inuse heap {{instance}}",
                "refId": "E"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "go_memstats_heap_inuse_bytes{job=~\"$job\"}",
                "format": "time_series",
                "legendFormat": "inuse stack {{instance}}",
                "refId": "F"
              }
            ],
            "title": "Memory Used",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 81
            },
            "id": 29,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "go_goroutines{job=~\"$job\"}",
                "format": "time_series",
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Goroutines",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 81
            },
            "id": 30,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "go_gc_duration_seconds{job=~\"$job\"}",
                "format": "time_series",
                "legendFormat": "{{quantile}} {{instance}}",
                "refId": "A"
              }
            ],
            "title": "GC Time Quantiles",
            "type": "timeseries"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 39,
        "tags": [
          "thanos-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "tenant",
              "multi": false,
              "name": "tenant",
              "options": [],
              "query": "label_values(http_requests_total{job=~\"$job\", tenant!=\"\"}, tenant)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "auto": true,
              "auto_count": 300,
              "auto_min": "10s",
              "current": {
                "selected": false,
                "text": "5m",
                "value": "5m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "5m",
                  "value": "5m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                }
              ],
              "query": "5m,10m,30m,1h,6h,12h",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(up{job=~\".*thanos-receiver-receive.*\"}, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Thanos / Receive",
        "uid": "916a852b00ccc5ed81056644718fa4fb",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-thanos-rule-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  thanos-rule-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 93,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 20,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Rule Group Evaluations",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, rule_group, strategy) (rate(prometheus_rule_evaluations_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{ rule_group }} {{ strategy }}",
                "refId": "A"
              }
            ],
            "title": "Rule Group Evaluations",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, rule_group, strategy) (rate(prometheus_rule_evaluation_failures_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{ rule_group }} {{ strategy }}",
                "refId": "A"
              }
            ],
            "title": "Rule Group Evaluations Failed",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, rule_group, strategy) (increase(prometheus_rule_group_iterations_missed_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{ rule_group }} {{ strategy }}",
                "refId": "A"
              }
            ],
            "title": "Rule Group Evaluations Missed",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 1
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(\n  sum by(job, rule_group) (prometheus_rule_group_last_duration_seconds{job=~\"$job\"})\n  >\n  sum by(job, rule_group) (prometheus_rule_group_interval_seconds{job=~\"$job\"})\n)\n",
                "format": "time_series",
                "legendFormat": "{{ rule_group }}",
                "refId": "A"
              }
            ],
            "title": "Rule Group Evaluations Too Slow",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 21,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Alert Sent",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of dropped alerts.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 9
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, alertmanager) (rate(thanos_alert_sender_alerts_dropped_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{alertmanager}}",
                "refId": "A"
              }
            ],
            "title": "Dropped Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of alerts that successfully sent to alert manager.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 9
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, alertmanager) (rate(thanos_alert_sender_alerts_sent_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{alertmanager}}",
                "refId": "A"
              }
            ],
            "title": "Sent Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of sent alerts.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 9
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_alert_sender_errors_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_alert_sender_alerts_sent_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Sent Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to send alerts to alert manager.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 9
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(thanos_alert_sender_latency_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(thanos_alert_sender_latency_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_alert_sender_latency_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Sent Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 22,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Alert Queue",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of queued alerts.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 17
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_alert_queue_alerts_dropped_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}}",
                "refId": "A"
              }
            ],
            "title": "Push Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of dropped alerts compared to the total number of queued alerts.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 17
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_alert_queue_alerts_dropped_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_alert_queue_alerts_pushed_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Drop Ratio",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 23,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "gRPC (Unary)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Unary gRPC requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 25
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 25
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"unary\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 25
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 24,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "gRPC (Stream)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Streamed gRPC requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 33
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 33
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"server_stream\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests, in quantiles",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 33
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "id": 25,
            "panels": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 41
                },
                "id": 17,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc all {{instance}}",
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc heap {{instance}}",
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_alloc_bytes_total{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate all {{instance}}",
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_heap_alloc_bytes{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate heap {{instance}}",
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_stack_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse heap {{instance}}",
                    "refId": "E"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse stack {{instance}}",
                    "refId": "F"
                  }
                ],
                "title": "Memory Used",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 41
                },
                "id": 18,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_goroutines{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "Goroutines",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 41
                },
                "id": 19,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_gc_duration_seconds{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{quantile}} {{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "GC Time Quantiles",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Resources",
            "type": "row"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 39,
        "tags": [
          "thanos-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "auto": true,
              "auto_count": 300,
              "auto_min": "10s",
              "current": {
                "selected": false,
                "text": "5m",
                "value": "5m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "5m",
                  "value": "5m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                }
              ],
              "query": "5m,10m,30m,1h,6h,12h",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(up{job=~\".*thanos-receiver-rule.*\"}, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Thanos / Rule",
        "uid": "35da848f5f92b2dc612e0c3a0577b8a1",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-thanos-store-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  thanos-store-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 94,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 29,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "gRPC (Unary)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Unary gRPC requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 1
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"unary\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"unary\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from queriers, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 1
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"unary\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 30,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "gRPC (Stream)",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of handled Streamed gRPC requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Aborted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#EAB839",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/AlreadyExists/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/FailedPrecondition/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unimplemented/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/InvalidArgument/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/NotFound/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/PermissionDenied/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unauthenticated/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#1F60C4",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Canceled/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DataLoss/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/DeadlineExceeded/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Internal/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OutOfRange/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/ResourceExhausted/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unavailable/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/Unknown/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/OK/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 9
            },
            "id": 4,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_method, grpc_code) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}} {{grpc_method}} {{grpc_code}}",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of handled requests from queriers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 9
            },
            "id": 5,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, grpc_code) (rate(grpc_server_handled_total{grpc_code=~\"Unknown|ResourceExhausted|Internal|Unavailable|DataLoss\",job=~\"$job\", grpc_type=\"server_stream\"}[$interval])) / ignoring (grpc_code) group_left() sum by (job) (rate(grpc_server_handled_total{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to handle requests from queriers, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 9
            },
            "id": 6,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(grpc_server_handling_seconds_bucket{job=~\"$job\", grpc_type=\"server_stream\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 16
            },
            "id": 31,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Bucket Operations",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of execution for operations against the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 17
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, operation) (rate(thanos_objstore_bucket_operations_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{operation}}",
                "refId": "A"
              }
            ],
            "title": "Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of executed operations against the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 17
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, operation) (rate(thanos_objstore_bucket_operation_failures_total{job=~\"$job\"}[$__rate_interval])) / sum by (job, operation) (rate(thanos_objstore_bucket_operations_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{operation}}",
                "refId": "A"
              }
            ],
            "title": "Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to execute operations against the bucket, in quantiles.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 17
            },
            "id": 9,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, operation, le) (rate(thanos_objstore_bucket_operation_duration_seconds_bucket{job=~\"$job\"}[$__rate_interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "P99 {{job}}",
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, operation) (rate(thanos_objstore_bucket_operation_duration_seconds_sum{job=~\"$job\"}[$__rate_interval])) * 1  / sum by (job, operation) (rate(thanos_objstore_bucket_operation_duration_seconds_count{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "mean {{job}}",
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, operation, le) (rate(thanos_objstore_bucket_operation_duration_seconds_bucket{job=~\"$job\"}[$__rate_interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "P50 {{job}}",
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Duration",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 24
            },
            "id": 32,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Block Operations",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of block loads from the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 25
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_bucket_store_block_loads_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "block loads",
                "refId": "A"
              }
            ],
            "title": "Block Load Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of block loads from the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 25
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_bucket_store_block_load_failures_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_bucket_store_block_loads_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Block Load Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows rate of block drops.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 25
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, operation) (rate(thanos_bucket_store_block_drops_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "block drops {{job}}",
                "refId": "A"
              }
            ],
            "title": "Block Drop Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of block drops.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E24D42",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 25
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_bucket_store_block_drop_failures_total{job=~\"$job\"}[$interval])) / sum by (job) (rate(thanos_bucket_store_block_drops_total{job=~\"$job\"}[$interval]))",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "error",
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Block Drop Errors",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 32
            },
            "id": 33,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Cache Operations",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Show rate of cache requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 33
            },
            "id": 14,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, item_type) (rate(thanos_store_index_cache_requests_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{item_type}}",
                "refId": "A"
              }
            ],
            "title": "Requests",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows ratio of errors compared to the total number of cache hits.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 33
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, item_type) (rate(thanos_store_index_cache_hits_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{item_type}}",
                "refId": "A"
              }
            ],
            "title": "Hits",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Show rate of added items to cache.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 33
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, item_type) (rate(thanos_store_index_cache_items_added_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{item_type}}",
                "refId": "A"
              }
            ],
            "title": "Added",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Show rate of evicted items from cache.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 33
            },
            "id": 17,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, item_type) (rate(thanos_store_index_cache_items_evicted_total{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "{{job}} {{item_type}}",
                "refId": "A"
              }
            ],
            "title": "Evicted",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "id": 34,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Store Sent",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows size of chunks that have sent to the bucket.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 41
            },
            "id": 18,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_bucket_store_sent_chunk_size_bytes_bucket{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P99",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_bucket_store_sent_chunk_size_bytes_sum{job=~\"$job\"}[$__rate_interval])) / sum by (job) (rate(thanos_bucket_store_sent_chunk_size_bytes_count{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "mean",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(thanos_bucket_store_sent_chunk_size_bytes_bucket{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P50",
                "refId": "C"
              }
            ],
            "title": "Chunk Size",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 48
            },
            "id": 35,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Series Operations",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 0,
              "y": 49
            },
            "id": 19,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (le) (rate(thanos_bucket_store_series_blocks_queried{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P99",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_bucket_store_series_blocks_queried_sum{job=~\"$job\"}[$__rate_interval])) / sum by (job) (rate(thanos_bucket_store_series_blocks_queried_count{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "mean {{job}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (le) (rate(thanos_bucket_store_series_blocks_queried{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P50",
                "refId": "C"
              }
            ],
            "title": "Block queried",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Show the size of data fetched",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 6,
              "y": 49
            },
            "id": 20,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (le) (rate(thanos_bucket_store_series_data_fetched{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P99: {{data_type}} / {{job}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, data_type) (rate(thanos_bucket_store_series_data_fetched_sum{job=~\"$job\"}[$__rate_interval])) / sum by (job, data_type) (rate(thanos_bucket_store_series_data_fetched_count{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "mean: {{data_type}} / {{job}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (le) (rate(thanos_bucket_store_series_data_fetched{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P50: {{data_type}} / {{job}}",
                "refId": "C"
              }
            ],
            "title": "Data Fetched",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Show the size of data touched",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 12,
              "y": 49
            },
            "id": 21,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (le) (rate(thanos_bucket_store_series_data_touched{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P99: {{data_type}} / {{job}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job, data_type) (rate(thanos_bucket_store_series_data_touched_sum{job=~\"$job\"}[$__rate_interval])) / sum by (job, data_type) (rate(thanos_bucket_store_series_data_touched_count{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "mean: {{data_type}} / {{job}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (le) (rate(thanos_bucket_store_series_data_touched{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P50: {{data_type}} / {{job}}",
                "refId": "C"
              }
            ],
            "title": "Data Touched",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 49
            },
            "id": 22,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (le) (rate(thanos_bucket_store_series_result_series{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P99",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum by (job) (rate(thanos_bucket_store_series_result_series_sum{job=~\"$job\"}[$__rate_interval])) / sum by (job) (rate(thanos_bucket_store_series_result_series_count{job=~\"$job\"}[$__rate_interval]))",
                "format": "time_series",
                "legendFormat": "mean {{job}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (le) (rate(thanos_bucket_store_series_result_series{job=~\"$job\"}[$__rate_interval])))",
                "format": "time_series",
                "legendFormat": "P50",
                "refId": "C"
              }
            ],
            "title": "Result series",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 56
            },
            "id": 36,
            "panels": [],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Series Operation Durations",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to get all series.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 57
            },
            "id": 23,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(thanos_bucket_store_series_get_all_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(thanos_bucket_store_series_get_all_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_bucket_store_series_get_all_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Get All",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken to merge series.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 57
            },
            "id": 24,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(thanos_bucket_store_series_merge_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(thanos_bucket_store_series_merge_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_bucket_store_series_merge_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Merge",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "description": "Shows how long has it taken for a series to wait at the gate.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p99"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#FA6400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p90"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#E0B400",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 10
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "p50"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#37872D",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 100
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 57
            },
            "id": 25,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.7",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum by (job, le) (rate(thanos_bucket_store_series_gate_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p50 {{job}}",
                "logBase": 10,
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.90, sum by (job, le) (rate(thanos_bucket_store_series_gate_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p90 {{job}}",
                "logBase": 10,
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum by (job, le) (rate(thanos_bucket_store_series_gate_duration_seconds_bucket{job=~\"$job\"}[$interval]))) * 1",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "p99 {{job}}",
                "logBase": 10,
                "refId": "C",
                "step": 10
              }
            ],
            "title": "Gate",
            "type": "timeseries"
          },
          {
            "collapsed": true,
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 64
            },
            "id": 37,
            "panels": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "bytes"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 65
                },
                "id": 26,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc all {{instance}}",
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_alloc_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "alloc heap {{instance}}",
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_alloc_bytes_total{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate all {{instance}}",
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "rate(go_memstats_heap_alloc_bytes{job=~\"$job\"}[30s])",
                    "format": "time_series",
                    "legendFormat": "alloc rate heap {{instance}}",
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_stack_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse heap {{instance}}",
                    "refId": "E"
                  },
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_memstats_heap_inuse_bytes{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "inuse stack {{instance}}",
                    "refId": "F"
                  }
                ],
                "title": "Memory Used",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 65
                },
                "id": 27,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_goroutines{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "Goroutines",
                "type": "timeseries"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "axisBorderShow": false,
                      "axisCenteredZero": false,
                      "axisColorMode": "text",
                      "axisLabel": "",
                      "axisPlacement": "auto",
                      "barAlignment": 0,
                      "drawStyle": "line",
                      "fillOpacity": 10,
                      "gradientMode": "none",
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      },
                      "insertNulls": false,
                      "lineInterpolation": "linear",
                      "lineWidth": 1,
                      "pointSize": 5,
                      "scaleDistribution": {
                        "type": "linear"
                      },
                      "showPoints": "never",
                      "spanNulls": false,
                      "stacking": {
                        "group": "A",
                        "mode": "none"
                      },
                      "thresholdsStyle": {
                        "mode": "off"
                      }
                    },
                    "mappings": [],
                    "min": 0,
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 65
                },
                "id": 28,
                "options": {
                  "legend": {
                    "calcs": [],
                    "displayMode": "list",
                    "placement": "bottom",
                    "showLegend": true
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "pluginVersion": "10.4.7",
                "targets": [
                  {
                    "datasource": {
                      "uid": "$datasource"
                    },
                    "expr": "go_gc_duration_seconds{job=~\"$job\"}",
                    "format": "time_series",
                    "legendFormat": "{{quantile}} {{instance}}",
                    "refId": "A"
                  }
                ],
                "title": "GC Time Quantiles",
                "type": "timeseries"
              }
            ],
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "refId": "A"
              }
            ],
            "title": "Resources",
            "type": "row"
          }
        ],
        "refresh": "10s",
        "schemaVersion": 39,
        "tags": [
          "thanos-mixin"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Data source",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "auto": true,
              "auto_count": 300,
              "auto_min": "10s",
              "current": {
                "selected": false,
                "text": "5m",
                "value": "5m"
              },
              "hide": 0,
              "label": "interval",
              "name": "interval",
              "options": [
                {
                  "selected": false,
                  "text": "auto",
                  "value": "$__auto_interval_interval"
                },
                {
                  "selected": true,
                  "text": "5m",
                  "value": "5m"
                },
                {
                  "selected": false,
                  "text": "10m",
                  "value": "10m"
                },
                {
                  "selected": false,
                  "text": "30m",
                  "value": "30m"
                },
                {
                  "selected": false,
                  "text": "1h",
                  "value": "1h"
                },
                {
                  "selected": false,
                  "text": "6h",
                  "value": "6h"
                },
                {
                  "selected": false,
                  "text": "12h",
                  "value": "12h"
                }
              ],
              "query": "5m,10m,30m,1h,6h,12h",
              "refresh": 2,
              "skipUrlSync": false,
              "type": "interval"
            },
            {
              "current": {
                "selected": false,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "definition": "",
              "hide": 0,
              "includeAll": true,
              "label": "job",
              "multi": false,
              "name": "job",
              "options": [],
              "query": "label_values(up{job=~\".*thanos-receiver-store.*\"}, job)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 2,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Thanos / Store",
        "uid": "e832e8f26403d95fac0ea1c59837588b",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-trivy-operator-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  trivy-operator-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "description": "This Dashboard is used to visualise the metrics from the security reports of the Trivy Operator",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 17813,
        "graphTooltip": 0,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 12,
            "panels": [],
            "title": "Quick Overview",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Total number of security issues by type.",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "dark-red",
                      "value": 1
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 24,
              "x": 0,
              "y": 1
            },
            "id": 31,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "center",
              "orientation": "vertical",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "value_and_name"
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (image_repository, image_tag, severity))",
                "instant": true,
                "legendFormat": "Image Exposed Secrets",
                "range": false,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (image_repository, image_tag, severity))",
                "hide": false,
                "instant": true,
                "legendFormat": "Image Vulnerabilities",
                "range": false,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(trivy_resource_configaudits{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"})",
                "hide": false,
                "instant": true,
                "legendFormat": "Resource Misconfigurations",
                "range": false,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"})",
                "hide": false,
                "instant": true,
                "legendFormat": "RBAC Assessments",
                "range": false,
                "refId": "D"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(trivy_clusterrole_clusterrbacassessments{cluster=~\"$cluster\", severity=~\"$severity\", })",
                "hide": false,
                "instant": true,
                "legendFormat": "Cluster RBAC Assessments",
                "range": false,
                "refId": "E"
              }
            ],
            "title": "Security Overview",
            "type": "stat"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 6
            },
            "id": 6,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "Note that this may include duplicates for images running in multiple namespaces and workloads.",
                "fieldConfig": {
                  "defaults": {
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unknown"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#808080",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 5,
                  "w": 24,
                  "x": 0,
                  "y": 7
                },
                "id": 19,
                "options": {
                  "colorMode": "background",
                  "graphMode": "none",
                  "justifyMode": "center",
                  "orientation": "auto",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "textMode": "auto"
                },
                "pluginVersion": "9.3.13",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Critical\"}) by (image_repository, image_tag, severity))",
                    "instant": true,
                    "legendFormat": "Critical",
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"High\"}) by (image_repository, image_tag, severity))",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "High",
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Medium\"}) by (image_repository, image_tag, severity))",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Medium",
                    "range": false,
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Low\"}) by (image_repository, image_tag, severity))",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Low",
                    "range": false,
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Unknown\"}) by (image_repository, image_tag, severity))",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Unknown",
                    "range": false,
                    "refId": "E"
                  }
                ],
                "title": "Severity Breakdown of all Image Exposed Secrets",
                "type": "stat"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unknown"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#818181",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 6,
                  "x": 0,
                  "y": 12
                },
                "id": 40,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (image_repository, image_tag, severity)) by (severity)",
                    "instant": true,
                    "legendFormat": "__auto",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "Image Exposed Secrets by Severity",
                "type": "piechart"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 9,
                  "w": 8,
                  "x": 6,
                  "y": 12
                },
                "id": 41,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (image_repository, image_tag, severity, namespace)) by (namespace)",
                    "instant": true,
                    "legendFormat": "__auto",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "Image Exposed Secrets by Namespace",
                "type": "piechart"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Unknown"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "#24292e80",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 10,
                  "x": 14,
                  "y": 12
                },
                "id": 42,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_image_exposedsecrets{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (image_repository, image_tag, severity)) by (image_repository, image_tag)",
                    "instant": true,
                    "legendFormat": "{{image_repository}}:{{image_tag}}",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "Image Exposed Secrets by Image",
                "type": "piechart"
              }
            ],
            "title": "Image Exposed Secrets",
            "type": "row"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 7
            },
            "id": 2,
            "panels": [],
            "title": "Image Vulnerabilities",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "description": "Note that images are ",
            "fieldConfig": {
              "defaults": {
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Critical"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-red",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "High"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Medium"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-yellow",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Low"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "dark-green",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Unknown"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#828282",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 5,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 39,
            "options": {
              "colorMode": "background",
              "graphMode": "none",
              "justifyMode": "center",
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "textMode": "auto"
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Critical\"}) by (image_repository, image_tag, severity))",
                "instant": true,
                "legendFormat": "Critical",
                "range": false,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"High\"}) by (image_repository, image_tag, severity))",
                "hide": false,
                "instant": true,
                "legendFormat": "High",
                "range": false,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Medium\"}) by (image_repository, image_tag, severity))",
                "hide": false,
                "instant": true,
                "legendFormat": "Medium",
                "range": false,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Low\"}) by (image_repository, image_tag, severity))",
                "hide": false,
                "instant": true,
                "legendFormat": "Low",
                "range": false,
                "refId": "D"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Unknown\"}) by (image_repository, image_tag, severity))",
                "hide": false,
                "instant": true,
                "legendFormat": "Unknown",
                "range": false,
                "refId": "E"
              }
            ],
            "title": "Severity Breakdown of all Image Vulnerabilities",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Critical"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-red",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "High"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Medium"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-yellow",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Low"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "semi-dark-green",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Unknown"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#818181",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 6,
              "x": 0,
              "y": 13
            },
            "id": 35,
            "options": {
              "displayLabels": [],
              "legend": {
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value"
                ]
              },
              "pieType": "donut",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (image_repository, image_tag, severity)) by (severity)",
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Image Vulnerabilities by Severity",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 8,
              "x": 6,
              "y": 13
            },
            "id": 37,
            "options": {
              "displayLabels": [],
              "legend": {
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value"
                ]
              },
              "pieType": "donut",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (image_repository, image_tag, severity, namespace)) by (namespace)",
                "instant": true,
                "legendFormat": "__auto",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Image Vulnerabilities by Namespace",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Critical"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "High"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Medium"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "yellow",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Low"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "green",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Unknown"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#24292e80",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 10,
              "x": 14,
              "y": 13
            },
            "id": 38,
            "options": {
              "displayLabels": [],
              "legend": {
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "sortBy": "Value",
                "sortDesc": false,
                "values": [
                  "value"
                ]
              },
              "pieType": "donut",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(trivy_image_vulnerabilities{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (image_repository, image_tag, severity)) by (image_repository, image_tag)",
                "instant": true,
                "legendFormat": "{{image_repository}}:{{image_tag}}",
                "range": false,
                "refId": "A"
              }
            ],
            "title": "Image Vulnerabilities by Image",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "left",
                  "displayMode": "color-text",
                  "filterable": true,
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "semi-dark-green",
                      "value": null
                    },
                    {
                      "color": "semi-dark-yellow",
                      "value": 1
                    },
                    {
                      "color": "semi-dark-orange",
                      "value": 100
                    },
                    {
                      "color": "semi-dark-red",
                      "value": 500
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Image"
                  },
                  "properties": [
                    {
                      "id": "custom.displayMode",
                      "value": "json-view"
                    },
                    {
                      "id": "custom.width",
                      "value": 400
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 20,
              "w": 24,
              "x": 0,
              "y": 22
            },
            "id": 23,
            "options": {
              "footer": {
                "enablePagination": true,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "frameIndex": 0,
              "showHeader": true,
              "sortBy": [
                {
                  "desc": true,
                  "displayName": "Total"
                }
              ]
            },
            "pluginVersion": "9.3.13",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(label_join(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Critical\"}, \"image\", \":\", \"image_repository\", \"image_tag\")) by (image)",
                "format": "table",
                "instant": true,
                "range": false,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(label_join(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"High\"}, \"image\", \":\", \"image_repository\", \"image_tag\")) by (image)",
                "format": "table",
                "hide": false,
                "instant": true,
                "range": false,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(label_join(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Medium\"}, \"image\", \":\", \"image_repository\", \"image_tag\")) by (image)",
                "format": "table",
                "hide": false,
                "instant": true,
                "range": false,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(label_join(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Low\"}, \"image\", \":\", \"image_repository\", \"image_tag\")) by (image)",
                "format": "table",
                "hide": false,
                "instant": true,
                "range": false,
                "refId": "D"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(label_join(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Unknown\"}, \"image\", \":\", \"image_repository\", \"image_tag\")) by (image)",
                "format": "table",
                "hide": false,
                "instant": true,
                "range": false,
                "refId": "E"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(max(label_join(trivy_image_vulnerabilities{cluster=~\"$cluster\", namespace=~\"$namespace\"}, \"image\", \":\", \"image_repository\", \"image_tag\")) by (image, severity)) by (image)",
                "format": "table",
                "hide": false,
                "instant": true,
                "legendFormat": "Total",
                "range": false,
                "refId": "F"
              }
            ],
            "title": "Vulnerabilities by Image",
            "transformations": [
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "Value #A",
                      "Value #B",
                      "Value #C",
                      "Value #D",
                      "Value #E",
                      "Value #F",
                      "image"
                    ]
                  }
                }
              },
              {
                "id": "seriesToColumns",
                "options": {
                  "byField": "image",
                  "mode": "outer"
                }
              },
              {
                "id": "filterFieldsByName",
                "options": {
                  "include": {
                    "names": [
                      "Value #A",
                      "Value #B",
                      "Value #C",
                      "Value #D",
                      "Value #E",
                      "Value #F",
                      "image"
                    ]
                  }
                }
              },
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "image_tag": false,
                    "image_tag 2": true,
                    "image_tag 3": true,
                    "image_tag 4": true,
                    "image_tag 5": true,
                    "image_tag 6": true
                  },
                  "indexByName": {
                    "Value #A": 2,
                    "Value #B": 3,
                    "Value #C": 4,
                    "Value #D": 5,
                    "Value #E": 6,
                    "Value #F": 1,
                    "image": 0
                  },
                  "renameByName": {
                    "Value #A": "Critical",
                    "Value #B": "High",
                    "Value #C": "Medium",
                    "Value #D": "Low",
                    "Value #E": "Unknown",
                    "Value #F": "Total",
                    "image": "Image",
                    "image_repository": "Image",
                    "image_tag": "Tag"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 42
            },
            "id": 4,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 5,
                  "w": 24,
                  "x": 0,
                  "y": 57
                },
                "id": 28,
                "options": {
                  "colorMode": "background",
                  "graphMode": "none",
                  "justifyMode": "center",
                  "orientation": "auto",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "textMode": "value_and_name"
                },
                "pluginVersion": "9.3.13",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Critical\"})",
                    "instant": true,
                    "legendFormat": "Critical",
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"High\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "High",
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Medium\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Medium",
                    "range": false,
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Low\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Low",
                    "range": false,
                    "refId": "D"
                  }
                ],
                "title": "Severity Breakdown of all Resource Misconfigurations",
                "type": "stat"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 6,
                  "x": 0,
                  "y": 62
                },
                "id": 36,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_resource_configaudits{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (severity)",
                    "format": "time_series",
                    "instant": true,
                    "legendFormat": "__auto",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "Resource Misconfigurations by Severity",
                "type": "piechart"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 8,
                  "x": 6,
                  "y": 62
                },
                "id": 43,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_resource_configaudits{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (namespace)",
                    "format": "time_series",
                    "instant": true,
                    "legendFormat": "__auto",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "Resource Misconfigurations by Namespace",
                "type": "piechart"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 10,
                  "x": 14,
                  "y": 62
                },
                "id": 44,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_resource_configaudits{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (resource_kind, resource_name)",
                    "format": "time_series",
                    "instant": true,
                    "legendFormat": "{{resource_kind}}/{{resource_name}}",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "Resource Misconfigurations by Resource",
                "type": "piechart"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "thresholds"
                    },
                    "custom": {
                      "align": "left",
                      "displayMode": "color-text",
                      "filterable": true,
                      "inspect": false
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "semi-dark-green",
                          "value": null
                        },
                        {
                          "color": "semi-dark-yellow",
                          "value": 1
                        },
                        {
                          "color": "semi-dark-orange",
                          "value": 10
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 50
                        }
                      ]
                    }
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Resource"
                      },
                      "properties": [
                        {
                          "id": "custom.displayMode",
                          "value": "json-view"
                        },
                        {
                          "id": "custom.width",
                          "value": 400
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 20,
                  "w": 24,
                  "x": 0,
                  "y": 71
                },
                "id": 45,
                "options": {
                  "footer": {
                    "enablePagination": true,
                    "fields": "",
                    "reducer": [
                      "sum"
                    ],
                    "show": false
                  },
                  "frameIndex": 0,
                  "showHeader": true,
                  "sortBy": [
                    {
                      "desc": true,
                      "displayName": "Total"
                    }
                  ]
                },
                "pluginVersion": "9.3.13",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(label_join(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Critical\"}, \"resource\", \"/\", \"resource_kind\", \"resource_name\")) by (resource)",
                    "format": "table",
                    "instant": true,
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(label_join(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"High\"}, \"resource\", \"/\", \"resource_kind\", \"resource_name\")) by (resource)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(label_join(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Medium\"}, \"resource\", \"/\", \"resource_kind\", \"resource_name\")) by (resource)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "range": false,
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(label_join(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Low\"}, \"resource\", \"/\", \"resource_kind\", \"resource_name\")) by (resource)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "range": false,
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(label_join(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Unknown\"}, \"resource\", \"/\", \"resource_kind\", \"resource_name\")) by (resource)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "range": false,
                    "refId": "E"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(label_join(trivy_resource_configaudits{cluster=~\"$cluster\", namespace=~\"$namespace\"}, \"resource\", \"/\", \"resource_kind\", \"resource_name\")) by (resource, severity)) by (resource)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Total",
                    "range": false,
                    "refId": "F"
                  }
                ],
                "title": "Misconfigurations by Resource",
                "transformations": [
                  {
                    "id": "filterFieldsByName",
                    "options": {
                      "include": {
                        "names": [
                          "Value #A",
                          "Value #B",
                          "Value #C",
                          "Value #D",
                          "Value #F",
                          "resource"
                        ]
                      }
                    }
                  },
                  {
                    "id": "seriesToColumns",
                    "options": {
                      "byField": "resource",
                      "mode": "outer"
                    }
                  },
                  {
                    "id": "filterFieldsByName",
                    "options": {
                      "include": {
                        "names": [
                          "resource",
                          "Value #B",
                          "Value #C",
                          "Value #D",
                          "Value #F",
                          "Value #A"
                        ]
                      }
                    }
                  },
                  {
                    "id": "organize",
                    "options": {
                      "excludeByName": {
                        "image_tag": false,
                        "image_tag 2": true,
                        "image_tag 3": true,
                        "image_tag 4": true,
                        "image_tag 5": true,
                        "image_tag 6": true
                      },
                      "indexByName": {
                        "Value #A": 2,
                        "Value #B": 3,
                        "Value #C": 4,
                        "Value #D": 5,
                        "Value #F": 1,
                        "resource": 0
                      },
                      "renameByName": {
                        "Value #A": "Critical",
                        "Value #B": "High",
                        "Value #C": "Medium",
                        "Value #D": "Low",
                        "Value #E": "Unknown",
                        "Value #F": "Total",
                        "image": "Image",
                        "image_repository": "Image",
                        "image_tag": "Tag",
                        "resource": "Resource"
                      }
                    }
                  }
                ],
                "type": "table"
              }
            ],
            "title": "Resource Misconfigurations",
            "type": "row"
          },
          {
            "collapsed": true,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 43
            },
            "id": 8,
            "panels": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "description": "",
                "fieldConfig": {
                  "defaults": {
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        }
                      ]
                    },
                    "unit": "none"
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 5,
                  "w": 24,
                  "x": 0,
                  "y": 58
                },
                "id": 29,
                "options": {
                  "colorMode": "background",
                  "graphMode": "none",
                  "justifyMode": "center",
                  "orientation": "vertical",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "textMode": "auto"
                },
                "pluginVersion": "9.3.13",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Critical\"})",
                    "instant": true,
                    "legendFormat": "Critical",
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"High\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "High",
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Medium\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Medium",
                    "range": false,
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Low\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Low",
                    "range": false,
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"UNKNOWN\"})",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Unknown",
                    "range": false,
                    "refId": "E"
                  }
                ],
                "title": "Severity Breakdown of RBAC Assessments",
                "type": "stat"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 6,
                  "x": 0,
                  "y": 63
                },
                "id": 33,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (severity)",
                    "instant": true,
                    "legendFormat": "__auto",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "RBAC Assessments by Severity",
                "type": "piechart"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 8,
                  "x": 6,
                  "y": 63
                },
                "id": 46,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (namespace)",
                    "instant": true,
                    "legendFormat": "__auto",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "RBAC Assessments by Namespace",
                "type": "piechart"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "custom": {
                      "hideFrom": {
                        "legend": false,
                        "tooltip": false,
                        "viz": false
                      }
                    },
                    "mappings": []
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Critical"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-red",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "High"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-orange",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Medium"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-yellow",
                            "mode": "fixed"
                          }
                        }
                      ]
                    },
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Low"
                      },
                      "properties": [
                        {
                          "id": "color",
                          "value": {
                            "fixedColor": "semi-dark-green",
                            "mode": "fixed"
                          }
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 9,
                  "w": 10,
                  "x": 14,
                  "y": 63
                },
                "id": 47,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true,
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "donut",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "tooltip": {
                    "mode": "single",
                    "sort": "none"
                  }
                },
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(trivy_role_rbacassessments{cluster=~\"$cluster\", severity=~\"$severity\", namespace=~\"$namespace\"}) by (name)",
                    "instant": true,
                    "legendFormat": "__auto",
                    "range": false,
                    "refId": "A"
                  }
                ],
                "title": "RBAC Assessments by Role",
                "type": "piechart"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
                },
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "thresholds"
                    },
                    "custom": {
                      "align": "left",
                      "displayMode": "color-text",
                      "filterable": true,
                      "inspect": false
                    },
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "semi-dark-green",
                          "value": null
                        },
                        {
                          "color": "semi-dark-yellow",
                          "value": 1
                        },
                        {
                          "color": "semi-dark-orange",
                          "value": 10
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 50
                        }
                      ]
                    }
                  },
                  "overrides": [
                    {
                      "matcher": {
                        "id": "byName",
                        "options": "Role"
                      },
                      "properties": [
                        {
                          "id": "custom.displayMode",
                          "value": "json-view"
                        },
                        {
                          "id": "custom.width",
                          "value": 400
                        }
                      ]
                    }
                  ]
                },
                "gridPos": {
                  "h": 20,
                  "w": 24,
                  "x": 0,
                  "y": 72
                },
                "id": 48,
                "options": {
                  "footer": {
                    "enablePagination": true,
                    "fields": "",
                    "reducer": [
                      "sum"
                    ],
                    "show": false
                  },
                  "frameIndex": 0,
                  "showHeader": true,
                  "sortBy": [
                    {
                      "desc": true,
                      "displayName": "Total"
                    }
                  ]
                },
                "pluginVersion": "9.3.13",
                "targets": [
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Critical\"}) by (name)",
                    "format": "table",
                    "instant": true,
                    "range": false,
                    "refId": "A"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"High\"}) by (name)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "range": false,
                    "refId": "B"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Medium\"}) by (name)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "range": false,
                    "refId": "C"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "max(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\", severity=\"Low\"}) by (name)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "range": false,
                    "refId": "D"
                  },
                  {
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${datasource}"
                    },
                    "editorMode": "code",
                    "exemplar": false,
                    "expr": "sum(max(trivy_role_rbacassessments{cluster=~\"$cluster\", namespace=~\"$namespace\"}) by (name, severity)) by (name)",
                    "format": "table",
                    "hide": false,
                    "instant": true,
                    "legendFormat": "Total",
                    "range": false,
                    "refId": "F"
                  }
                ],
                "title": "RBAC Assessments by Role",
                "transformations": [
                  {
                    "id": "filterFieldsByName",
                    "options": {
                      "include": {
                        "names": [
                          "Value #A",
                          "Value #B",
                          "Value #C",
                          "Value #D",
                          "Value #F",
                          "name"
                        ]
                      }
                    }
                  },
                  {
                    "id": "seriesToColumns",
                    "options": {
                      "byField": "name",
                      "mode": "outer"
                    }
                  },
                  {
                    "id": "filterFieldsByName",
                    "options": {
                      "include": {
                        "names": [
                          "Value #A",
                          "Value #B",
                          "Value #C",
                          "Value #D",
                          "Value #F",
                          "name"
                        ]
                      }
                    }
                  },
                  {
                    "id": "organize",
                    "options": {
                      "excludeByName": {
                        "image_tag": false,
                        "image_tag 2": true,
                        "image_tag 3": true,
                        "image_tag 4": true,
                        "image_tag 5": true,
                        "image_tag 6": true
                      },
                      "indexByName": {
                        "Value #A": 2,
                        "Value #B": 3,
                        "Value #C": 4,
                        "Value #D": 5,
                        "Value #F": 1,
                        "name": 0
                      },
                      "renameByName": {
                        "Value #A": "Critical",
                        "Value #B": "High",
                        "Value #C": "Medium",
                        "Value #D": "Low",
                        "Value #E": "Unknown",
                        "Value #F": "Total",
                        "image": "Image",
                        "image_repository": "Image",
                        "image_tag": "Tag",
                        "name": "Role",
                        "resource": "Resource"
                      }
                    }
                  }
                ],
                "type": "table"
              }
            ],
            "title": "RBAC Assessments",
            "type": "row"
          }
        ],
        "refresh": false,
        "schemaVersion": 37,
        "style": "dark",
        "tags": [
          "trivy",
          "trivy operator",
          "security",
          "security scanning",
          "vulnerabilities",
          "exposed secrets",
          "misconfiguration"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "default",
                "value": "default"
              },
              "hide": 0,
              "includeAll": false,
              "label": "datasource",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(trivy_image_vulnerabilities, cluster)",
              "hide": 0,
              "includeAll": true,
              "label": "cluster",
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": {
                "query": "label_values(trivy_image_vulnerabilities, cluster)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query"
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(trivy_image_vulnerabilities{cluster=~\"$cluster\"}, severity)",
              "hide": 0,
              "includeAll": true,
              "label": "severity",
              "multi": true,
              "name": "severity",
              "options": [],
              "query": {
                "query": "label_values(trivy_image_vulnerabilities{cluster=~\"$cluster\"}, severity)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query"
            },
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "definition": "label_values(trivy_image_vulnerabilities{cluster=~\"$cluster\", severity=~\"$severity\"}, namespace)",
              "hide": 0,
              "includeAll": true,
              "label": "namespace",
              "multi": true,
              "name": "namespace",
              "options": [],
              "query": {
                "query": "label_values(trivy_image_vulnerabilities{cluster=~\"$cluster\", severity=~\"$severity\"}, namespace)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 2,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {},
        "timezone": "",
        "title": "Trivy Operator Dashboard",
        "uid": "ycwPj724k",
        "version": 2,
        "weekStart": ""
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-uptime-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "ops"
data:
  uptime-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "gnetId": null,
        "graphTooltip": 0,
        "links": [],
        "panels": [
          {
            "cacheTimeout": null,
            "datasource": "prometheus-sc",
            "description": "",
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "from": 0.9,
                      "result": {
                        "index": 0,
                        "text": "UP"
                      },
                      "to": 1
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0.5,
                      "result": {
                        "index": 1,
                        "text": "SHAKY"
                      },
                      "to": 0.9
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0,
                      "result": {
                        "index": 2,
                        "text": "DOWN"
                      },
                      "to": 0.5
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 3,
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0.5
                    },
                    {
                      "color": "#299c46",
                      "value": 0.9
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 0,
              "y": 0
            },
            "id": 12,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.5",
            "repeat": "apiserver",
            "repeatDirection": "h",
            "targets": [
              {
                "datasource": "prometheus-sc",
                "editorMode": "code",
                "exemplar": true,
                "expr": "max by (target) (probe_success{target=\"$apiserver\"})",
                "interval": "",
                "legendFormat": "",
                "range": true,
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Customer API server $apiserver",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus-sc",
            "description": "",
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "from": 0.9,
                      "result": {
                        "index": 0,
                        "text": "UP"
                      },
                      "to": 1
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0.5,
                      "result": {
                        "index": 1,
                        "text": "SHAKY"
                      },
                      "to": 0.9
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0,
                      "result": {
                        "index": 2,
                        "text": "DOWN"
                      },
                      "to": 0.5
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 3,
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0.5
                    },
                    {
                      "color": "#299c46",
                      "value": 0.9
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 3,
              "y": 5
            },
            "id": 10,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "max by (target) (probe_success{target=\"dex\"})",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Dex",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus-sc",
            "description": "",
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "from": 0.9,
                      "result": {
                        "index": 0,
                        "text": "UP"
                      },
                      "to": 1
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0.5,
                      "result": {
                        "index": 1,
                        "text": "SHAKY"
                      },
                      "to": 0.9
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0,
                      "result": {
                        "index": 2,
                        "text": "DOWN"
                      },
                      "to": 0.5
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 3,
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0.5
                    },
                    {
                      "color": "#299c46",
                      "value": 0.9
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 6,
              "y": 5
            },
            "id": 11,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "max by (target) (probe_success{target=\"grafana\"})",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Grafana",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus-sc",
            "description": "",
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "from": 0.9,
                      "result": {
                        "index": 0,
                        "text": "UP"
                      },
                      "to": 1
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0.5,
                      "result": {
                        "index": 1,
                        "text": "SHAKY"
                      },
                      "to": 0.9
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0,
                      "result": {
                        "index": 2,
                        "text": "DOWN"
                      },
                      "to": 0.5
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 3,
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0.5
                    },
                    {
                      "color": "#299c46",
                      "value": 0.9
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 9,
              "y": 5
            },
            "id": 17,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "max by (target) (probe_success{target=\"harbor\"})",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Harbor",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus-sc",
            "description": "",
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "from": 0.9,
                      "result": {
                        "index": 0,
                        "text": "UP"
                      },
                      "to": 1
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0.5,
                      "result": {
                        "index": 1,
                        "text": "SHAKY"
                      },
                      "to": 0.9
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0,
                      "result": {
                        "index": 2,
                        "text": "DOWN"
                      },
                      "to": 0.5
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 3,
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0.5
                    },
                    {
                      "color": "#299c46",
                      "value": 0.9
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 12,
              "y": 5
            },
            "id": 6,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "max by (target) (probe_success{target=\"opensearch-dashboards\"})",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "OpenSearch Dashboards",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus-sc",
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "from": 0,
                      "result": {
                        "index": 0,
                        "text": "RED"
                      },
                      "to": 0.49
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0.5,
                      "result": {
                        "index": 1,
                        "text": "YELLOW"
                      },
                      "to": 0.9
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "from": 0.9,
                      "result": {
                        "index": 2,
                        "text": "GREEN"
                      },
                      "to": 1
                    },
                    "type": "range"
                  },
                  {
                    "options": {
                      "match": "null+nan",
                      "result": {
                        "index": 3,
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0.5
                    },
                    {
                      "color": "#299c46",
                      "value": 0.8
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 3,
              "x": 15,
              "y": 5
            },
            "id": 16,
            "interval": null,
            "links": [],
            "maxDataPoints": 100,
            "options": {
              "colorMode": "background",
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "last"
                ],
                "fields": "",
                "values": false
              },
              "text": {},
              "textMode": "auto"
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "sum (elasticsearch_cluster_health_status{color=\"green\"} or elasticsearch_cluster_health_status{color=\"yellow\"} * 0.5)",
                "format": "time_series",
                "instant": true,
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "OpenSearch status",
            "type": "stat"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus-sc",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "red",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 0.95
                    },
                    {
                      "color": "green",
                      "value": 0.995
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 10
            },
            "id": 13,
            "interval": "1m",
            "links": [],
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "text": {}
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "max by (target) (probe_success)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{target}}",
                "refId": "A"
              },
              {
                "expr": "sum(elasticsearch_cluster_health_status{color=\"green\"} or absent(elasticsearch_cluster_health_status{color=\"green\"}) - 1)",
                "format": "time_series",
                "hide": true,
                "intervalFactor": 1,
                "legendFormat": "opensearch",
                "refId": "B"
              },
              {
                "expr": "sum(elasticsearch_cluster_health_status{color=\"green\"} or (elasticsearch_cluster_health_status{color=\"yellow\"} * 0.5) or (elasticsearch_cluster_health_status{color=\"red\"} * 0))",
                "legendFormat": "opensearch",
                "refId": "C"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Uptime",
            "type": "gauge"
          },
          {
            "cacheTimeout": null,
            "datasource": "prometheus-sc",
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 24,
              "x": 0,
              "y": 18
            },
            "id": 2,
            "interval": "1m",
            "links": [],
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single"
              }
            },
            "pluginVersion": "8.0.5",
            "targets": [
              {
                "expr": "max by (target) (probe_success)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{target}}",
                "refId": "A"
              },
              {
                "expr": "sum(elasticsearch_cluster_health_status{color=\"green\"} or (elasticsearch_cluster_health_status{color=\"yellow\"}) or (elasticsearch_cluster_health_status{color=\"red\"} * 0))",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "opensearch",
                "refId": "B"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Up",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 30,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": [
            {
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "All"
                ]
              },
              "cacheTimeout": null,
              "datasource": "prometheus-sc",
              "definition": "label_values(probe_success{instance=~\".*kube-apiserver.*\"}, target)",
              "hide": 0,
              "includeAll": true,
              "label": "apiserver",
              "multi": true,
              "name": "apiserver",
              "options": [],
              "query": {
                "query": "label_values(probe_success{instance=~\".*kube-apiserver.*\"}, target)",
                "refId": "StandardVariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "Uptime and status",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-velero-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "ops"
data:
  velero-dashboard.json: |-
    
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "Stats for Velero backups",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "gnetId": 11055,
        "graphTooltip": 1,
        "links": [],
        "panels": [
          {
            "collapsed": false,
            "datasource": {
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 15,
            "panels": [],
            "targets": [
              {
                "datasource": "$datasource",
                "refId": "A"
              }
            ],
            "title": "Backup",
            "type": "row"
          },
          {
            "datasource": "$datasource",
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "color-background",
                    "mode": "gradient"
                  }
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Last *"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Hours since last backup"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "mode": "gradient",
                        "type": "color-background"
                      }
                    },
                    {
                      "id": "custom.align",
                      "value": "left"
                    },
                    {
                      "id": "thresholds",
                      "value": {
                        "mode": "absolute",
                        "steps": [
                          {
                            "color": "green",
                            "value": null
                          },
                          {
                            "color": "rgba(237, 129, 40, 0.89)",
                            "value": 24
                          },
                          {
                            "color": "rgba(245, 54, 54, 0.9)",
                            "value": 48
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 14,
              "x": 0,
              "y": 1
            },
            "id": 13,
            "options": {
              "cellHeight": "lg",
              "footer": {
                "countRows": false,
                "enablePagination": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true,
              "sortBy": []
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "(time() - velero_backup_last_successful_timestamp{schedule!=\"\", cluster=~\"$cluster\"}) / 60 / 60",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{schedule}} - {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Hours since last Backup",
            "transformations": [
              {
                "id": "reduce",
                "options": {
                  "includeTimeField": false,
                  "reducers": [
                    "lastNotNull"
                  ]
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "text": "N/A"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "#d44a3a",
                      "value": null
                    },
                    {
                      "color": "rgba(237, 129, 40, 0.89)",
                      "value": 0
                    },
                    {
                      "color": "#299c46",
                      "value": 0.95
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 5,
              "x": 14,
              "y": 1
            },
            "id": 22,
            "maxDataPoints": 100,
            "options": {
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(velero_backup_success_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}) by (cluster) / sum(velero_backup_attempt_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}) by (cluster)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Backup Success Rate",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "color": "green",
                        "text": "0"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 5,
              "x": 19,
              "y": 1
            },
            "id": 4,
            "maxDataPoints": 100,
            "options": {
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": false,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(velero_backup_active_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}) by (cluster)",
                "instant": false,
                "interval": "",
                "legendFormat": "{{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Active Backup",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 10
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "velero_backup_total{cluster=~\"$cluster\"}",
                "interval": "",
                "legendFormat": "Backup Total - {{cluster}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "velero_backup_active_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}",
                "interval": "",
                "legendFormat": "Backup {{schedule}} - {{cluster}}",
                "refId": "D"
              }
            ],
            "title": "Backup Count",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 24,
              "x": 0,
              "y": 17
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [
                  "max"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum(rate(velero_backup_duration_seconds_bucket{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])) by (le, cluster))",
                "interval": "",
                "legendFormat": "Scheduled: 0.99 - {{cluster}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.99, sum(rate(velero_backup_duration_seconds_bucket{schedule!~\".*\", cluster=~\"$cluster\"}[15m])) by (le, cluster))",
                "interval": "",
                "legendFormat": "Non Scheduled: 0.99 - {{cluster}}",
                "refId": "F"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.95, sum(rate(velero_backup_duration_seconds_bucket{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])) by (le, cluster))",
                "interval": "",
                "legendFormat": "Scheduled: 0.95 - {{cluster}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.95, sum(rate(velero_backup_duration_seconds_bucket{schedule!~\".*\", cluster=~\"$cluster\"}[15m])) by (le, cluster))",
                "interval": "",
                "legendFormat": "Non Scheduled: 0.95 - {{cluster}}",
                "refId": "E"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum(rate(velero_backup_duration_seconds_bucket{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])) by (le, cluster))",
                "interval": "",
                "legendFormat": "Scheduled: 0.50 - {{cluster}}",
                "refId": "C"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "histogram_quantile(0.50, sum(rate(velero_backup_duration_seconds_bucket{schedule!~\".*\", cluster=~\"$cluster\"}[15m])) by (le, cluster))",
                "interval": "",
                "legendFormat": "Non Scheduled: 0.50 - {{cluster}}",
                "refId": "D"
              }
            ],
            "title": "Backup Time",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "decbytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 24,
              "x": 0,
              "y": 23
            },
            "id": 18,
            "options": {
              "legend": {
                "calcs": [
                  "max"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_backup_tarball_size_bytes{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "{{schedule}} -  {{cluster}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_backup_tarball_size_bytes{schedule!~\".*\", cluster=~\"$cluster\"}[15m])",
                "hide": false,
                "interval": "",
                "legendFormat": "Non Scheduled -  {{cluster}}",
                "refId": "F"
              }
            ],
            "title": "Backup Size",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "stepAfter",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 29
            },
            "id": 8,
            "options": {
              "legend": {
                "calcs": [
                  "mean"
                ],
                "displayMode": "list",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(increase(velero_backup_success_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "legendFormat": "Backup success -  {{cluster}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(increase(velero_backup_failure_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "hide": false,
                "interval": "",
                "legendFormat": "Backup failure -  {{cluster}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(increase(velero_backup_partial_failure_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "interval": "",
                "legendFormat": "Backup partial failure -  {{cluster}}",
                "refId": "C"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(increase(velero_backup_deletion_success_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "interval": "",
                "legendFormat": "Backup deletion success -  {{cluster}}",
                "refId": "D"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(increase(velero_backup_deletion_failure_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[1h])) by (cluster)",
                "interval": "",
                "legendFormat": "Backup deletion failure -  {{cluster}}",
                "refId": "E"
              }
            ],
            "title": "Backup per hour",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "datasource": {
              "uid": "$datasource"
            },
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 37
            },
            "id": 17,
            "panels": [],
            "targets": [
              {
                "datasource": "$datasource",
                "refId": "A"
              }
            ],
            "title": "Restore",
            "type": "row"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "mappings": [
                  {
                    "options": {
                      "match": "null",
                      "result": {
                        "color": "green",
                        "text": "0"
                      }
                    },
                    "type": "special"
                  }
                ],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 5,
              "x": 0,
              "y": 38
            },
            "id": 5,
            "maxDataPoints": 100,
            "options": {
              "fieldOptions": {
                "calcs": [
                  "lastNotNull"
                ]
              },
              "minVizHeight": 75,
              "minVizWidth": 75,
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [
                  "mean"
                ],
                "fields": "",
                "values": false
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": false,
              "sizing": "auto"
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(velero_restore_attempt_total{cluster=~\"$cluster\"}[$__interval])) by (cluster) / sum(rate(velero_restore_success_total{cluster=~\"$cluster\"}[$__interval])) by (cluster)",
                "instant": false,
                "interval": "",
                "legendFormat": " {{cluster}}",
                "refId": "A"
              }
            ],
            "title": "Active Restore",
            "type": "gauge"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "bars",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 19,
              "x": 5,
              "y": 38
            },
            "id": 19,
            "options": {
              "legend": {
                "calcs": [
                  "max"
                ],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(velero_restore_success_total{schedule!~\".*\", cluster=~\"$cluster\"}[15m])) by (cluster) / sum(rate(velero_restore_attempt_total{schedule!~\".*\", cluster=~\"$cluster\"}[15m])) by (cluster)",
                "interval": "",
                "legendFormat": "Backup success rate -  {{cluster}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "sum(rate(velero_restore_success_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])) by (cluster) / sum(rate(velero_restore_attempt_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])) by (cluster)",
                "interval": "",
                "legendFormat": "Backup success rate {{schedule}} -  {{cluster}}",
                "refId": "B"
              }
            ],
            "title": "Restore Success",
            "type": "timeseries"
          },
          {
            "datasource": {
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 47
            },
            "id": 20,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.4.0",
            "targets": [
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_total{cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "Restore Total -  {{cluster}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_success_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "Restore Success Total {{schedule}} -  {{cluster}}",
                "refId": "D"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_success_total{schedule!~\".*\", cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "Restore Success Total -  {{cluster}}",
                "refId": "G"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_partial_failure_total{schedule=~\"$schedule\"}[15m])",
                "interval": "",
                "legendFormat": " Restore Partial Failure Total {{schedule}} -  {{cluster}}",
                "refId": "C"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_partial_failure_total{schedule!~\".*\", cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "Restore Partial Failure Total -  {{cluster}}",
                "refId": "F"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_failed_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "Restore Failure Total {{schedule}} -  {{cluster}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_failed_total{schedule!~\".*\", cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "Restore Failure Total -  {{cluster}}",
                "refId": "E"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_validation_failed_total{schedule=~\"$schedule\", cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "Restore Validation Failed {{schedule}} -  {{cluster}}",
                "refId": "I"
              },
              {
                "datasource": {
                  "uid": "$datasource"
                },
                "expr": "avg_over_time(velero_restore_validation_failed_total{schedule!~\".*\", cluster=~\"$cluster\"}[15m])",
                "interval": "",
                "legendFormat": "Restore Validation Failed -  {{cluster}}",
                "refId": "H"
              }
            ],
            "title": "Total Restore Count",
            "type": "timeseries"
          }
        ],
        "refresh": "",
        "schemaVersion": 39,
        "tags": [
          "velero"
        ],
        "templating": {
          "list": [
            {
              "current": {
                "selected": false,
                "text": "Thanos All",
                "value": "Thanos All"
              },
              "hide": 0,
              "includeAll": false,
              "label": "Datasource",
              "multi": false,
              "name": "datasource",
              "options": [],
              "query": "prometheus",
              "queryValue": "",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "type": "datasource"
            },
            {
              "allValue": "",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "label_values(velero_backup_attempt_total, cluster)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "cluster",
              "options": [],
              "query": "label_values(velero_backup_attempt_total, cluster)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            },
            {
              "allValue": "",
              "current": {
                "selected": true,
                "text": [
                  "All"
                ],
                "value": [
                  "$__all"
                ]
              },
              "datasource": {
                "uid": "$datasource"
              },
              "definition": "label_values(velero_backup_attempt_total, schedule)",
              "hide": 0,
              "includeAll": true,
              "multi": true,
              "name": "schedule",
              "options": [],
              "query": "label_values(velero_backup_attempt_total, schedule)",
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 0,
              "tagValuesQuery": "",
              "tagsQuery": "",
              "type": "query",
              "useTags": false
            }
          ]
        },
        "time": {
          "from": "now-2d",
          "to": "now"
        },
        "timepicker": {
          "hidden": false,
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "",
        "title": "Velero Stats",
        "version": 1
      }
---
# Source: grafana-dashboards/templates/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-welcome-dashboard
  namespace: monitoring
  labels:
    helm.sh/chart: grafana-dashboards-0.3.0
    app.kubernetes.io/name: grafana-dashboards
    app.kubernetes.io/instance: grafana-dashboards
    app.kubernetes.io/version: "0.1.0"
    app.kubernetes.io/managed-by: Helm
    grafana_dashboard: "1"
data:
  welcome-dashboard.json: |-
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "target": {
                "limit": 100,
                "matchAny": false,
                "tags": [],
                "type": "dashboard"
              },
              "type": "dashboard"
            }
          ]
        },
        "description": "Welcoming Dashboard",
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": 46,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "description": "Home dashboard",
            "gridPos": {
              "h": 32,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 2,
            "options": {
              "content": "# Welcome to Welkin!\n\n## What's new\n\nHere you can find the most relevant features and changes for the last couple of releases of Welkin\n\n- Upgrade trivy-operator to v0.26.0 and application to v0.24.0. **[v0.45]**\n- Upgraded cert-manager chart to v1.17.1. **[v0.45]**\n- Upgraded Thanos chart to v15.13.1. **[v0.45]**\n- Added NVIDIA GPU driver support for Ubuntu 24.04. **[v0.45]**\n- Added NVIDIA GPU operator to Welkin. **[v0.44]**\n- Upgraded kube-prometheus-stack to 67.11.0. **[v0.44]**\n- Upgraded Falco to v0.40.0. **[v0.44]**\n\n## Public docs\n\nIn case you get lost, don't forget to check out the [public docs](https://elastisys.io/welkin/). Here are the most common topics:\n\n- [Getting started](https://elastisys.io/welkin/user-guide/prepare/)\n- [Maintenance expectations](https://elastisys.io/welkin/user-guide/maintenance/)\n- [Adding extra workload admins](https://elastisys.io/welkin/user-guide/delegation/#kubernetes-api)\n- [Troubleshooting](https://elastisys.io/welkin/user-guide/troubleshooting/)\n- [FAQ](https://elastisys.io/welkin/user-guide/faq/)\n\n## Welkin Version\n\n- Apps: **2ebfdccae5888d2cd499c8ffd46b61ba0b750205** - [Release Notes](https://elastisys.io/welkin/release-notes/)\n\n\n\n\n## Web Portals\n\n- [grafana.ck8s.example.com](https://grafana.ck8s.example.com)\n\n- [opensearch.ck8s.example.com](https://opensearch.ck8s.example.com)\n\n- [harbor.ck8s.example.com](https://harbor.ck8s.example.com)\n\n## Did you know?\n\nAs a user of Welkin you can request to see your Cluster configuration (without secrets) by asking your administrator.\n\n\n\n\n[//]: # (If you update this file, remember to also edit compliantkubernetes-apps/helmfile.d/charts/opensearch/configurer/files/dashboards-resources/welcome.md)\n",
              "mode": "markdown"
            },
            "pluginVersion": "8.4.7",
            "title": "Welcome",
            "type": "text"
          }
        ],
        "schemaVersion": 35,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-6h",
          "to": "now"
        },
        "timepicker": {
          "hidden": true
        },
        "timezone": "",
        "title": "Welcome to Welkin",
        "uid": "xI0OiXQnk",
        "version": 3,
        "weekStart": ""
      }

