# v0.41.0

Released 2024-09-03
<!-- -->
> [!IMPORTANT]
> **Platform Administrator Notice(s)**
>
> - The command usage for `ck8s` has been updated so that all commands are listed in ascending order.<br>The command `ck8s diagnostics` has a new flag to include config files in the output log file. The command usage has been changed: `ck8s diagnostics <wc|sc> [-n namespace] [--include-config]`
> - Requires additional network policies for the pipeline. These network policies are added via the config and are generated by the network policies generator. This means that pre-defined rules can be used.
> - Enabled matchConditions for the HNC validating webhook by default, which requires Kubernetes v1.28 or higher.

## Release highlights

- Added Network Policies for Tekton. If enabled, it requires the platform administrator to create pipeline specific network policies.
- Drops support for Kubernetes v1.25, adds support for Kubernetes v1.30.<br>Nginx version upgrade to `1.25.5`.

## Changes by kind

### Feature(s)

- [#2120](https://github.com/elastisys/compliantkubernetes-apps/pull/2120) - tests: Rework tests and enable integration tests [@aarnq](https://github.com/aarnq)
- [#2233](https://github.com/elastisys/compliantkubernetes-apps/pull/2233) - apps: added option to use velero csi volume snapshot [@Elias-elastisys](https://github.com/Elias-elastisys)

### Improvement(s)

- [#2232](https://github.com/elastisys/compliantkubernetes-apps/pull/2232) - apps: bump node-local-dns version to 1.23.1 [@Pavan-Gunda](https://github.com/Pavan-Gunda)
- [#2235](https://github.com/elastisys/compliantkubernetes-apps/pull/2235) - Add flag to include config files for diagnostics script [@anders-elastisys](https://github.com/anders-elastisys)
- [#2236](https://github.com/elastisys/compliantkubernetes-apps/pull/2236) - Add network policies for Tekton [@robinAwallace](https://github.com/robinAwallace)
  - Added Network Policies for Tekton. If enabled, it requires the platform administrator to create pipeline specific network policies.
- [#2240](https://github.com/elastisys/compliantkubernetes-apps/pull/2240) - Upgrade Grafana chart to 7.3.12 and set image to v10.4.7 [@anders-elastisys](https://github.com/anders-elastisys)
- [#2242](https://github.com/elastisys/compliantkubernetes-apps/pull/2242) - Fix deprecated Grafana dashboards
- [#2243](https://github.com/elastisys/compliantkubernetes-apps/pull/2243) - Upgrade ingress-nginx chart to 4.11.2 and app to 1.11.2 [@davidumea](https://github.com/davidumea)
  - Drops support for Kubernetes v1.25, adds support for Kubernetes v1.30.<br>Nginx version upgrade to `1.25.5`.
- [#2244](https://github.com/elastisys/compliantkubernetes-apps/pull/2244) - Enable matchConditions for HNC webhook by default [@lunkan93](https://github.com/lunkan93)
- [#2246](https://github.com/elastisys/compliantkubernetes-apps/pull/2246) - tests: Enable regression tests [@aarnq](https://github.com/aarnq)
- [#2252](https://github.com/elastisys/compliantkubernetes-apps/pull/2252) - Support graphics without XAUTHORITY in run-from-container script [@simonklb](https://github.com/simonklb)
- [#2255](https://github.com/elastisys/compliantkubernetes-apps/pull/2255) - Catch before-all test hook failures in Cypress tests [@simonklb](https://github.com/simonklb)
- [#2256](https://github.com/elastisys/compliantkubernetes-apps/pull/2256) - Update end to end tests [@aarnq](https://github.com/aarnq)
- [#2254](https://github.com/elastisys/compliantkubernetes-apps/pull/2254) - Fix log-manager on Azure [@vomba](https://github.com/vomba)

### Other(s)

- [#2238](https://github.com/elastisys/compliantkubernetes-apps/pull/2238) - clean-up: Upgrade calico-accountant image and chart [@Zash](https://github.com/Zash)
- [#2241](https://github.com/elastisys/compliantkubernetes-apps/pull/2241) - other: Port v0.40.0 [@AlbinB97](https://github.com/AlbinB97)
- [#2253](https://github.com/elastisys/compliantkubernetes-apps/pull/2253) - other: Remove prompts from run-in-container script [@simonklb](https://github.com/simonklb)
