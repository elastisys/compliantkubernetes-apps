apiVersion: v1
kind: Secret
metadata:
  name: kubeconfigs
stringData:
  kube_config_sc.yaml: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: {{ .Values.tekton.kubeconfig.service.cluster }}
      cluster:
        certificate-authority-data: {{ .Values.tekton.kubeconfig.service.ca }}
        server: {{ .Values.tekton.kubeconfig.service.server }}
    contexts:
    - name: tekton-context
      context:
        cluster: {{ .Values.tekton.kubeconfig.service.cluster }}
        namespace: {{ .Release.Namespace }}
        user: tekton-user
    current-context: tekton-context
    users:
    - name: tekton-user
      user:
        token: {{ .Values.tekton.kubeconfig.service.token }}
  kube_config_wc.yaml: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: {{ .Values.tekton.kubeconfig.workload.cluster }}
      cluster:
        certificate-authority-data: {{ .Values.tekton.kubeconfig.workload.ca }}
        server: {{ .Values.tekton.kubeconfig.workload.server }}
    contexts:
    - name: tekton-context
      context:
        cluster: {{ .Values.tekton.kubeconfig.workload.cluster }}
        namespace: {{ .Release.Namespace }}
        user: tekton-user
    current-context: tekton-context
    users:
    - name: tekton-user
      user:
        token: {{ .Values.tekton.kubeconfig.workload.token }}
