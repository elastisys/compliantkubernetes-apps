global:
  ck8sVersion: ${CK8S_VERSION}
  cloudProvider: ${CK8S_CLOUD_PROVIDER}
  environmentName: ${CK8S_ENVIRONMENT_NAME}
  dnsPrefix: ${CK8S_ENVIRONMENT_NAME}
  baseDomain: "set-me"
  opsDomain: "set-me"
  issuer: letsencrypt-staging
  verifyTls: true
  storageClass: "set-me"
  clusterDns: "10.43.0.10"

s3:
  region: "set-me"
  regionAddress: "set-me"
  regionEndpoint: "set-me"
  buckets:
    harbor: "${CK8S_ENVIRONMENT_NAME}-harbor"
    velero: "${CK8S_ENVIRONMENT_NAME}-velero"
    elasticsearch: "${CK8S_ENVIRONMENT_NAME}-es-backup"
    influxDB: "${CK8S_ENVIRONMENT_NAME}-influxdb"
    scFluentd: "${CK8S_ENVIRONMENT_NAME}-sc-logs"

user:
  grafana:
    enabled: true
    resources:
      limits:
        cpu: 100m
        memory: 128Mi
      requests:
        cpu: 100m
        memory: 128Mi
    tolerations: []
    affinity: {}
    nodeSelector: {}
  # Todo remove dependencie on alertmanager from service cluster
  alertmanager:
    enabled: false
    namespace: monitoring
    ingress:
      enabled: false

harbor:
  enabled: true
  tolerations: []
  affinity: {}
  nodeSelector: {}
  chartmuseum:
    persistentVolumeClaim:
      size: 5Gi
  core:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m
  database:
    persistentVolumeClaim:
      size: 1Gi
  jobservice:
    persistentVolumeClaim:
      size: 1Gi
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m
  registry:
    persistentVolumeClaim:
      size: 5Gi
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m
  redis:
    persistentVolumeClaim:
      size: 1Gi
  notary:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m
  persistence:
    type: "set-me"
    disableRedirect: set-me

prometheus:
  storage:
    size: 5Gi
  retention:
    size: 4GiB
    age:  3d
    alertmanager: 72h
  resources:
    requests:
      memory: 1Gi
      cpu: 300m
    limits:
      memory: 2Gi
      cpu: "1"
  tolerations: []
  affinity: {}
  nodeSelector: {}
  wcScraper:
    resources:
      requests:
        memory: 1Gi
        cpu: 300m
      limits:
        memory: 2Gi
        cpu: "1"
    tolerations: []
    affinity: {}
    nodeSelector: {}

dex:
  # supported: google|aaa
  oidcProvider: google
  allowedDomains:
    - example.com
  enableStaticLogin: true
  resources:
    limits:
      cpu: 100m
      memory: 50Mi
    requests:
      cpu: 100m
      memory: 50Mi
  tolerations: []
  affinity: {}
  nodeSelector: {}

elasticsearch:
  sso:
    enabled: false
  masterNode:
    count: 1
    storageSize: 8Gi
    javaOpts: "-Xms512m -Xmx512m"
    resources:
      requests:
        memory: 1024Mi
        cpu: 200m
      limits:
        memory: 1024Mi
        cpu: 1
  dataNode:
    count: 2
    storageSize: 25Gi
    javaOpts: "-Xms512m -Xmx512m"
    resources:
      requests:
        memory: 1024Mi
        cpu: 200m
      limits:
        memory: 1024Mi
        cpu: 1
  clientNode:
    count: 1
    javaOpts: "-Xms512m -Xmx512m"
    resources:
      requests:
        memory: 1024Mi
        cpu: 200m
      limits:
        memory: 1024Mi
        cpu: 1
  storageClass: local-storage
  retention:
    kubeAuditSize: 50
    kubeAuditAge: 30
    kubernetesSize: 50
    kubernetesAge: 50
    otherSize: 10
    otherAge: 30
    rolloverSize: 1
    rolloverAge: 1
  snapshot:
    min: 7
    max: 14
    ageSeconds: 864000
    retentionSchedule: "@daily"
    backupSchedule: "0 */2 * * *"
  extraRoleMappings: []
    #- mapping_name: readall_and_monitor
    #  definition:
    #    users:
    #      - "Developer Name"
  tolerations: []
  affinity: {}
  nodeSelector: {}
  snapshotRepository: elastic-snapshots

fluentd:
  resources:
    limits:
      cpu: 500m
      memory: 200Mi
    requests:
      cpu: 100m
      memory: 200Mi
  tolerations: []
  affinity: {}
  nodeSelector: {}
  useRegionEndpoint: "set-me"
  aggregator:
    resources:
      limits:
        cpu: 500m
        memory: 1000Mi
      requests:
        cpu: 300m
        memory: 300Mi
    tolerations: []
    affinity: {}
    nodeSelector: {}

logRetention:
  days: 7

influxDB:
  user: "admin"
  address: "influxdb.influxdb-prometheus.svc:8088"
  retention:
    ageWc: 7d
    ageSc: 3d
  metrics:
    sizeWc: 4500000
    sizeSc: 4500000
  resources:
    requests:
      memory: 4Gi
      cpu: 0.5
    limits:
      memory: 4Gi
      cpu: 2
  persistence:
    size: 10Gi
  tolerations: []
  affinity: {}
  nodeSelector: {}

alerts:
  alertTo: "null"
  opsGenieHeartbeat:
    enabled: false
    url: "https://api.eu.opsgenie.com/v2/heartbeats"
    name: "set-me"
  slack:
    channel: "set-me"
  opsGenie:
    apiUrl: "https://api.eu.opsgenie.com"

ck8sdash:
  enabled: true
  tolerations: []
  affinity: {}
  nodeSelector: {}
  nginx:
    resources:
      requests:
        memory: 64Mi
        cpu: 50m
      limits:
        memory: 128Mi
        cpu: 100m
  server:
    resources:
      requests:
        memory: 64Mi
        cpu: 50m
      limits:
        memory: 128Mi
        cpu: 100m

externalTrafficPolicy:
  local: false
  whitelistRange:
    global: "0.0.0.0/0"
    ck8sdash: false
    dex: false
    kibana: false
    elasticsearch: false
    harbor: false
    userGrafana: false
    opsGrafana: false
    prometheusWc: false

nfsProvisioner:
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi
  tolerations: []
  affinity: {}
  nodeSelector: {}

ingressNginx:
  controller:
    # Chart deploys correctly but does not work with resourceRequests
    resources: {}
      # limits:
      #   cpu: 100m
      #   memory: 64Mi
      # requests:
      #   cpu: 100m
      #   memory: 64Mi
    tolerations:
      - key: "nodeType"
        operator: "Exists"
        effect: "NoSchedule"
    affinity: {}
    nodeSelector: {}
    config:
      useProxyProtocol: "set-me"
    useHostPort: "set-me"
    service:
      enabled: "set-me"
      type: "set-me"
      annotations: "set-me"
    # Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
    additionalConfig: {}

  defaultBackend:
  # Chart deploys correctly but does not work with resourceRequests
    resources: {}
      # limits:
      #   cpu: 100m
      #   memory: 64Mi
      # requests:
      #   cpu: 100m
      #   memory: 64Mi
    tolerations:
      - key: "nodeType"
        operator: "Equal"
        value: "elastisys"
        effect: "NoSchedule"
    affinity: {}
    nodeSelector: {}

velero:
  tolerations: []
  nodeSelector: {}
  resources:
    limits:
      cpu: 200m
      memory: 200Mi
    requests:
      cpu: 100m
      memory: 100Mi
  restic:
    tolerations: []
    resources:
      limits:
        cpu: 200m
        memory: 200Mi
      requests:
        cpu: 100m
        memory: 100Mi

restore:
  cluster: false
  velero: false
  veleroBackupName: latest

issuers:
  letsencrypt:
    enabled: true
    prod:
      email: "set-me"
    staging:
      email: "set-me"
  extraIssuers: []

certmanager:
  resources: {}
  nodeSelector: {}
  tolerations: {}
  affinity: {}

  webhook:
    resources: {}
    nodeSelector: {}
    tolerations: {}
    affinity: {}

  cainjector:
    resources: {}
    nodeSelector: {}
    tolerations: {}
    affinity: {}
